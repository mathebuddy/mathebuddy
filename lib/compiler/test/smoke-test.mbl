EXERCISE Add
    INSTANCES=3
    CODE
        a/b = rand(1,20)
        c = a + b
    TEXT
        $term(c)$ = #c,CHOICES=2+"2*a"+"20"

EXERCISE Simple Integration  @ex:intSimple
    CODE
        a = rand(3,7)
        f(x) = (1/3) * x^3 + a*x
    Solve $\int (x^2+a) dx = $  #f,TOKENS=1.0+"pi"  $+C$

!STOP

EXERCISE Add
    CODE
        a/b = rand(1,10)
        c = a + b
    TEXT
        %Calculate $a + b = $ #c   % TODO: #c inside math mode

        #c,HIDE_LENGTH,SHOW_ALL_LETTERS,DIFF=x,ARRANGE,SCORE=3,ROWS=dynamic,COLS=dynamic,KEYBOARD=myKeyboardName,CHOICES=5,TOKENS=1.5+"pi"
        % TODO:  @c = #c

!STOP

Refer to `https://andreas-schwenk.github.io/tex/ xx` for the description of currently supportex TeX code.

!STOP

- $\lim_{x\rightarrow x_0}  (f(x)\pm g(x)) $ xx $= \lim_{x\rightarrow x_0}  f(x) \pm x\rightarrow g(x)$

!STOP

Also ist z.B. für alle geraden Indizes $(a_{2n})_{n \in \NN }$ eine

!STOP

Die Reihe $\displaystyle\sum_{k=1}^{\infty} a_k$ xxx

Some **bold text**.
**bold text beginning from start of line**

!STOP

EXERCISE
    CODE
        f(x,y) = x^2 + y^2
        fdx(x,y) = diff(f,x)
        fdy(x,y) = diff(f,y)
    Derivate $"f"(x,y)=f$ w.r.t. $x$: #fdx

!STOP

EXERCISE Unbestimmte Integrale
    CODE
        u1/u2 = rand(2,9)
        f(x) = u1
        g(y) = u2
    Bestimme die folgenden **unbestimmten** Integrale:
    - $ \int f ~ dx = $ #f,DIFF=x $ + C ~~ (C \in \RR)$
    - $ \int g ~ dy = $ #g,DIFF=x $ + C ~~ (C \in \RR)$

!STOP

EXERCISE Ableitungen
    CODE
        f1(x) = sin(x)
        f1_deriv(x) = diff(f1, x)
    $ f(x) = f1 $

    $ f'(x) = $ #f1_deriv

!STOP

EXERCISE Ableitungen
    CODE
        a = rand(3,8)
        f1(x) = a * x + 1 + 2
        f1d(x) = diff(f1 + 5, x)
        t = 2 + 3*4
        y(x) = 7 + t
        y2(x) = 7 + term(t)
        y3(x) = opt(y2)
    $ f(x) = opt(f1) $

    $ f'(x) = $ #f1d

!STOP

EXERCISE Scoring example
    SCORES=5        % total score of the exercise (5/3 for fa; 10/3 for fb)
    CODE
        a = rand(2, 4)
        b = rand(5, 6)
        fa = fac(a)
        fb = fac(b)
    Calculate
    -) $ a! = $ #fa            % if scores are not given for a solution,
    -) $ b! = $ #fb,SCORE=2    % it defaults to 1, i.e. fa has score 1

!STOP

EXERCISE My Single Choice Exercise  @ex:mySingleChoice
    Choose the right answer:
    (x) This answer is correct.
    ( ) This answer is incorrect.

EXERCISE Addition  @ex:add
    CODE
        x/y = rand(1, 5)
        z = x + y
    Calculate $ x + y = $ #z.

EXERCISE My Gap Exercise  @ex:myLabel
    SHOW_GAP_LENGTH=true
    SHOW_REQUIRED_LETTERS_ONLY=true
    Garfield is a #"cat". Rain is #"wet".

!STOP

EXERCISE Lösungsmenge
    CODE
        A = randZ<3,3>(-3,3)
        b = randZ<3,1>(-3,3)
        A = triu(A)
    Ein lineares Gleichungssystem ist durch den Gauß-Algorithmus bereits in Dreiecksform gebracht worden. Die erweiterte Koeffizientenmatrix sieht folgendermaßen aus:
    $ augmented(A|b) $
    Welche Aussage über die **Lösungsmenge** ist korrekt?
    (x) Es gibt eine eindeutige Lösung $x \in \RR^n$.
    ( ) Es gibt keine Lösung.
    ( ) Die Lösungsmenge kann mit einer freien Variable beschrieben werden.


EXERCISE Test
    CODE
        f = [10, 20, 30]
        f[0] = 4
        f[2] = 8
    $ f $
    #f[1]




EXERCISE @ex:einheitswurzel1a
    DISABLE_RETRY=true
    %TODO:Andreas polar-form
    CODE
        z0=complex(1,0);
        z1=complex(-1,0);
        L={z0,z1};
    Gib die Lösungsmenge der Gleichung $z^2=1$ an

    $\mathbb{"L"}=$ #L

EXERCISE @ex:einheitswurzel1b
    DISABLE_RETRY=true
    REQUIREMENT=ex:einheitswurzel1a
    CODE
        r = 1
        phi1 = pi
        phi2 = -pi
    Gebe nun die Lösung als Polarform an:

    Für $"z"=1$ ist die Polarform: #r ${} \cdot \exp($ #phi1 $i)$

    Für $"z"=-1$ ist die Polarform: #r ${} \cdot \exp($ #phi2 $i)$



%KEYBOARD @myKeyboard1
%    7 8 9 +
%    4 5 6 -
%    1 2 3 *
%    0 0 0 !E

% TODO: reference to keyboard

%EXERCISE @ex:expform2
%    CODE
%        r = rand(3,8);
%        a = randZ(-1,1);
%        tmp = rand({1, 1/2});
%        phi = a * tmp * pi;
%        z= r*cos(phi) + 1i*r*sin(phi);
%    Gib die komplexe Zahl $"z"=r e^{@@phi i}$ in Normalform an 
%
%    $"z"=$ #z

% === ORIGINAL ===
%EXERCISE
%    CODE
%        r= rand(3,8);
%        a= randZ(-1,1);
%        phi= a*rand({pi, pi/2})
%        z= r*cos(phi)+1i*r*sin(phi);
%    Gib die komplexe Zahl $"z"=r e^{@@phi i}$ in Normalform an 
%
%    $"z"=$ #z
