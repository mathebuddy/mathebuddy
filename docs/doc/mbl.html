<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="" />
  <meta name="dcterms.date" content="2023-07-26" />
  <title>Mathe:Buddy Language (MBL)</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="doc.css" />
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
[<a href="https://mathebuddy.github.io/mathebuddy/">Home</a>] 
[<a href="./mbl.html">MBL Reference</a>] 
[<a href="./smpl.html">SMPL Reference</a>] 
[<a href="./mbcl.html">MBCL Reference</a>] 
<h1 class="title">Mathe:Buddy Language (MBL)</h1>
<p class="author"></p>
<p class="date">2023-07-26</p>
</header>
<!-- Mathe:Buddy Language (MBL) -->
<hr />
<p><strong>NOTE</strong> This reference guide is updated frequently.</p>
<hr />
<p>This document describes the syntax of the <em>mathe:buddy language
(MBL)</em>, which can be used to create mathematical based online
courses. MBL describes contents as well as randomized training
exercises. It is also used to structure large courses with many levels
and keeps track of the contents dependencies. Tags can be inserted to
transform the definition into a semantical network. The latter can be
used for example in chat bots or didactical learning concepts;
e.g. smart repetition for optimized memoization.</p>
<p>Some concepts of MBL are taken (or copied) from other formal
languages:</p>
<ul>
<li>Text formatting is inspired from <code>Markdown</code>, as it
provides a very expressive and memorable syntax.</li>
<li><code>TeX</code> is used for equations, as most mathematical staff
at universities is firm to that language.</li>
<li><code>SMPL</code>, which is developed in parallel to
<code>MBL</code>, is a general purpose language with focus on expressive
math. It is used to generate random variables in exercises, as well as
to calculate sample solutions.</li>
</ul>
<!-- TODO: implement such tags in to the language! -->
<p>The language definition of MBL is independent of concrete
implementations. All concepts can be transferred to other learning
management systems. The example implementation can be found <a
href="https://github.com/mathebuddy/mathebuddy/tree/main/lib/compiler">here</a>.</p>
<p>A large set of examples can be obtained from <a
href="https://github.com/mathebuddy/mathebuddy-public-courses">https://github.com/mathebuddy/mathebuddy-public-courses</a>.</p>
<h2 id="hello-world">Hello, world!</h2>
<p>The following lines define a trivial level page:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>My first level</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>###############</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>Welcome to mathe:buddy!</span></code></pre></div>
<h2 id="typography">Typography</h2>
<p>This section describes the text structuring and text formatting
features.</p>
<ul>
<li><p><code>Level Title</code></p>
<p>A level title is the main heading of a level file. Example:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>My Course Title @myLabel</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>###############</span></code></pre></div>
<p>Five or more hashtags (<code>#</code>) are required. Labels are
optional.</p></li>
<li><p><code>Sections</code></p>
<p>A level can be separated into sections (headlines). Example:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>My Section @sec:myLabel</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>==========</span></code></pre></div>
<p>Five or more equal signs (<code>=</code>) are required. Labels are
optional. We suggest to use prefix <code>sec:</code> for section labels,
but this is optional.</p></li>
<li><p><code>Subsections</code></p>
<p>A section can be subdivided into one or multiple subsections.
Example:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>My Subsection @subsec:myLabel</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>-------------</span></code></pre></div>
<p>Five or more dashes (<code>-</code>) are required. Labels are
optional. We suggest to use prefix <code>subsec:</code> for subsection
labels, but this is optional.</p></li>
<li><p><code>Paragraphs</code></p>
<p>A paragraph consists of one or multiple lines of continuous text.
Example:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>This is text within a paragraph.</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>Even this text stands in a new line, it is compiled to be written directly behind the last line.</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>An empty line starts a new paragraph.</span></code></pre></div></li>
<li><p><code>Definitions, Theorems, Lemmas, ...</code></p>
<p>Definitions, Theorems etc. are embedded into a <em>block</em> that
syntactically starts and ends with each a line of three dashes
(<code>---</code>). Examples:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DEFINITION</span> Positive @def:positive</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    For any integer <span class="dv">$n$</span>, <span class="dv">$n$</span> is **positive** if <span class="dv">$n&gt;0$</span>.</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">THEOREM</span> The Aristotelian Syllogism @thm:socrates</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    If every man is mortal and Socrates is a man, then Socrates is mortal.</span></code></pre></div>
<p>The runtime environment may replace tag names with corresponding
terms of the local language.</p>
<p>The complete list of supported tags is <code>DEFINITION</code>,
<code>THEOREM</code>, <code>LEMMA</code>, <code>COROLLARY</code>,
<code>PROPOSITION</code>, <code>CONJECTURE</code>, <code>AXIOM</code>,
<code>CLAIM</code>, <code>IDENTITY</code>,
<code>PARADOX</code>.</p></li>
<li><p><code>Examples</code></p>
<p>Examples are embedded into a <em>block</em> that syntactically starts
and ends with each a line of three dashes (<code>---</code>).</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXAMPLE</span> Addition of complex numbers @ex:myExample</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">$z_1=1+3i ~~ z_2=2+4i ~~ z_1+z_2=3+7i$</span></span></code></pre></div>
<p>Full line equations can be inserted as described in subsection
“nesting of blocks below. Example:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXAMPLE</span> Addition of complex numbers @ex:myExample</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">EQUATION</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        z_1=1+3i ~~ z_2=2+4i ~~ z_1+z_2=3+7i</span></code></pre></div></li>
<li><p><code>Bold, Italic and Colored Text</code></p>
<p>Basic text formatting options are bold text, italic text and colored
text. Examples:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>Some **bold** text. Some *italic* text.</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>The word [sky]@color1 is written in primary color.</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>[Some text written in the secondary color.]@color2.</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>You can also write [bold text]@bold and [italic text]@italic similar to color notation.</span></code></pre></div>
<p>Colors are only defined implicitly. The exact rendering depends on
the runtime environment. We restricted the degree of freedom per design
to force uniformly presented courses. <code>color0</code> defines black
color in all cases.</p></li>
<li><p><code>Alignment</code></p>
<p>The default alignment of paragraphs is left. Block types
<code>LEFT</code>, <code>CENTER</code> and <code>RIGHT</code> change the
alignment.</p>
<p>Example:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CENTER</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    This text is centered.</span></code></pre></div></li>
<li><p><code>Links and References</code></p>
<p>Each section, subsection, equation, exercise, … can be labeled at
declaration. A label has the form <code>@PREFIX:LABEL</code>, with
identifiers for <code>PREFIX</code> and <code>LABEL</code>. Using
prefixes is optional.</p>
<p>A link to a labeled object can be placed in paragraph text. One has
to write <code>@PREFIX:LABEL</code> again.</p>
<p>The order of declaration and reference is arbitrary.</p>
<!-- TODO: references to other levels.. -->
<p>Example:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>An introduction is given in @sec:intro.</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>Intro @sec:intro</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>=====</span></code></pre></div>
<p>We suggest to use the following prefixes:</p>
<table>
<thead>
<tr class="header">
<th>prefix</th>
<th>used for</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sec:</code></td>
<td>sections</td>
</tr>
<tr class="even">
<td><code>subsec:</code></td>
<td>subsections</td>
</tr>
<tr class="odd">
<td><code>ex:</code></td>
<td>exercises</td>
</tr>
<tr class="even">
<td><code>fig:</code></td>
<td>figures</td>
</tr>
<tr class="odd">
<td><code>eq:</code> </td>
<td>equation</td>
</tr>
<tr class="even">
<td><code>tab:</code></td>
<td>table</td>
</tr>
<tr class="odd">
<td><code>def:</code></td>
<td>definition</td>
</tr>
<tr class="even">
<td><code>thm:</code></td>
<td>theorem</td>
</tr>
</tbody>
</table>
<p>References to other files should be avoided, if destination levels
are possibly unplayable/locked (read section <a
href="#course-structure">course structure</a>).</p>
<p>A link to a labeled object in another file is denoted by
<code>@PATH/PREFIX:LABEL</code>, where <code>PATH</code> is the relative
file path within the current course, without file extension
(<code>.mbl</code>). <em>Example: To link to theorem
<code>thm:taylor</code> in file <code>../diff/taylor.mbl</code>, write
<code>@../diff/intro/thm:taylor</code>.</em></p>
<p>It is also feasible to insert generic references with the asterisk
operator (<code>*</code>). For example, <code>@ex:taylor*</code> links
to the set of all exercises that have a label starting with
<code>ex:taylor</code> (e.g. <code>ex:taylor-simple</code>,
<code>ex:taylor2</code>, …). The runtime environment inserts comma
separated links.</p></li>
<li><p><code>Comments</code></p>
<p>All characters after <code>%</code> are ignored by the compiler,
until the current line ends.</p>
<p>Comments can e.g. be used to make notes to other developers, or
temporarily hide unfinished stuff. Example:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>This text is displayed in the output. % only a course developer can read this.</span></code></pre></div></li>
<li><p><code>Page Breaks</code></p>
<p>A level can be scrolled vertically by the student. Doom-scrolling
should be avoided (not only) for didactical reasons. Page breaks can be
inserted by a <code>NEWPAGE</code>-<em>block</em>. Example:</p>
<p>TODO!!!!!</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>NEWPAGE</span></code></pre></div></li>
<li><p>Nesting of blocks:</p>
<p>In general, format blocks are used in a sequence, i.e. a new block
starts after the last block ended.</p>
<p>In some cases, a nesting of blocks is needed. The following example
uses text alignment and an equation within a
<code>DEFINITION</code>:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DEFINITION</span> My definition  @def:myDef</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    Some paragraph text here.</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CENTER</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        This text is center aligned.</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">EQUATION</span> @myEquation</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        x^2 + y^2 = z^2</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    Another paragraph here.</span></code></pre></div>
<p>Inner blocks do not use <code>---</code> as separator. Note in the
example, that <code>TEXT</code> is used to leave equation mode.</p>
<p><strong>Warning:</strong> Attributes (for example
<code>@options</code> in exercises) refer to the innermost declared
subblock. To explicitly end a subblock, use the <code>END</code>
keyword. Example:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Test</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="kw">FIGURE</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>@path</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>img/my-figure.svg</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>END</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>@text            % The following lines belong to &#39;EXERCISE&#39;</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>(x) correct answer</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>( ) incorrect answer</span></code></pre></div></li>
</ul>
<h2 id="equations">Equations</h2>
<p>We distinguish two kinds of equations: <em>inline equations</em> are
embedded into a text of a paragraph. <em>Full equations</em> are
rendered in one or more separate lines. The latter are numbered by
default.</p>
<p>Equations are encoded in <code>TeX</code> notation.</p>
<ul>
<li><p><code>Inline Equations</code></p>
<p>An inline equation is embedded into a pair of dollar signs.
Example:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>Einstein&#39;s famous formula is <span class="dv">$E=mc^2$</span>. It defines the energy <span class="dv">$E$</span> of ...</span></code></pre></div></li>
<li><p><code>Full Equations</code> (equations in display math mode)</p>
<p>Full equations are embedded into a block with keyword
<code>EQUATION</code>. Example:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EQUATION</span>  @eq:myLabel</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    a^2 + b^2 = c^2</span></code></pre></div>
<p>The label is optional.</p>
<p>A numbering is displayed right to the equation per default. An
asterisk <code>*</code> hides the numbering. Example:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EQUATION</span>*  @eq:myLabel</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    a^2 + b^2 = c^2</span></code></pre></div>
<p>Equations can be labeled with <code>@</code>. For example,
<code>@eq:myLabel</code> is displayed <span
class="math inline">\(Eq~(1)\)</span> (depends on the runtime
environment).</p>
<p><strong>Aligned equations</strong> improve readability. For example
you may stack equal signs vertically.</p>
<p>Each row must contains an ampersand character (<code>&amp;</code>)
for the alignment, and must end with a line feed <code>\\</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>ALIGNED-<span class="kw">EQUATION</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    (x+1)^2 &amp;= (x+1)(x+1) \\</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>            &amp;= x^2 + x + x + 1 \\</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>            &amp;= x^2 + 2x + 1 \\</span></code></pre></div>
<p><em>Remarks: The last linefeed via <code>\\</code> is optional. The
spacing before <code>&amp;</code> is optional, but highly suggested to
improve readability.</em></p></li>
<li><p>Abbreviations</p>
<p>Equations are written in plain <code>TeX</code> code. In some cases,
the notation is rather long. We introduce some abbreviations for a
shorter notation. The following table lists all implemented
abbreviations:</p>
<table>
<thead>
<tr class="header">
<th>type</th>
<th>plain tex</th>
<th>short notation</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\mathbb{R}\)</span></td>
<td><code>\mathbb{R}</code></td>
<td><code>\RR</code></td>
<td></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td><code>\mathbb{N}</code></td>
<td><code>\NN</code></td>
<td></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\mathbb{Z}\)</span></td>
<td><code>\mathbb{Z}</code></td>
<td><code>\ZZ</code></td>
<td></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\mathbb{C}\)</span></td>
<td><code>\mathbb{C}</code></td>
<td><code>\CC</code></td>
<td></td>
</tr>
</tbody>
</table>
<p>Using abbreviations is optional.</p></li>
</ul>
<!-- (TODO: extend table) -->
<h2 id="figures">Figures</h2>
<p>SMPL provides syntax to plot function graphs.</p>
<p>All other figures must be generated with external tools. We highly
recommend to generate files in the <code>SVG</code> (Scalable Vector
Graphics) format using <a href="https://inkscape.org">Inkscape</a>).</p>
<ul>
<li><p><code>Figures</code></p>
<p>A figure displays an image file. It is highly recommended to use
<code>*.svg</code> as file format (scalable vector graphics).
Example:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FIGURE</span> My figure title @fig:myFigure</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">WIDTH</span>=75</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    PATH=images/myImage.svg</span></code></pre></div>
<p>Attribute <code>width-P</code> specifies the displayed width with a
percentage value for <code>P</code>. E.g. <code>width-75</code> renders
the figure with 75 % of the display width. Default is
<code>width-100</code>.</p></li>
<li><p><code>Function Plots</code></p>
<p>Functions graphs are described in a <em>block</em> with keyword
<code>FIGURE</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FIGURE</span> My Plot @fig:functions</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">WIDTH</span>=75</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>        let f(x) = x^2</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>        let g(x) = 2*x</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>        figure {</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>          x_axis(-5, 5, &quot;x&quot;)  % x-min, y-max, label</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>          y_axis(-0.5, 4.5, &quot;y&quot;)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>          function(f)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>          function(g)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>          circle(0, 0, 0.1)   % x, y, radius</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>          circle(2, 4, 0.1)</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CAPTION</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>        Some functions <span class="dv">$f$</span> and <span class="dv">$g$</span></span></code></pre></div>
<p>Part <code>@code</code> defines two functions <span
class="math inline">\(f(x)\)</span> anf <span
class="math inline">\(g(x)\)</span>. Function <code>figures2d()</code>
generates a new plot variable.</p></li>
</ul>
<!-- TODO: write more text -->
<!--  OLD
Axis definition is done by &nbsp;&nbsp; `xaxis LABEL from MIN to MAX` &nbsp;&nbsp; for the x-axis and &nbsp;&nbsp; `yaxis LABEL from MIN to MAX` &nbsp;&nbsp; for the y-axis.

`colorX` changes the current color. All subsequent plots are drawn in that color. `X` is an integer value for the color key.

`plot F` renders a function curve `F` that is specified as term. An exact definition is essential. In particular, all multiplication operators (`*`) must be denoted explicitly. The exact syntax is described in the SMPL documentation.

Keyword `coord X Y` renders a small circle at position $(X,Y)$.
-->
<h2 id="itemizations-and-enumerations">Itemizations and
Enumerations</h2>
<ul>
<li><p><code>Itemize</code></p>
<p>An itemization lists a set of bullet points. Example:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>My itemization:</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>- first item</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>- second item</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>- third item</span></code></pre></div>
<p>A line that starts with a dash (<code>-</code>) is rendered as bullet
point.</p></li>
<li><p><code>Enumeration (numbers)</code></p>
<p>Enumerations list a sequence of numbered items. Example:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>My enumeration:</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>#. first item</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>#. second item</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>#. third item</span></code></pre></div>
<p>A line that starts with a hashtag following a dot (<code>#.</code>)
is rendered with numbering (1, 2, …).</p></li>
<li><p><code>Enumeration (letters)</code></p>
<p>Alphabetical enumerations list a sequence of items. Example:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>My enumeration:</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>-) first item</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>-) second item</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>-) third item</span></code></pre></div>
<p>A line that starts with a dash following a closing parenthesis
(<code>-)</code>) is rendered with preceding letters <code>a)</code>,
<code>b)</code>, … .</p></li>
</ul>
<p><em>Note: Hierarchical itemizations are not supported for didactical
reasons, as well as a mobile friendly presentation.</em></p>
<h2 id="tables">Tables</h2>
<p>A table is described by a <em>block</em> with keyword
<code>TABLE</code>. Each row of the table is written without line break.
Columns are separated by <code>&amp;</code>. The first row is considered
as headline.</p>
<p>Example:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">TABLE</span> My table title  @tab:label</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">ALIGN</span>=left</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">$x$</span> &amp; <span class="dv">$f(x)$</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    1   &amp; 1</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    2   &amp; 4</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    3   &amp; 9</span></code></pre></div>
<p>The alignment option <code>align-X</code> specifies the placing of
the table. Parameter <code>X</code> is one of <code>left</code>,
<code>center</code>, <code>right</code>. Default is
<code>align-center</code>.</p>
<h2 id="exercises">Exercises</h2>
<p>Exercises provide interactive elements to the course. For example,
multiple choice questions display multiple answers, from which students
have to select all correct ones to gather scores.</p>
<p>Most exercises contain a <code>@code</code> part to generate
randomized variables and to calculate the sample solution. It is denoted
in the <em>Simple Math Programming Language (SMPL)</em>. The
documentation can be found <a
href="https://app.f07-its.fh-koeln.de/docs-smpl.html">here</a>.</p>
<p>The following paragraphs describe all implemented exercise types.</p>
<ul>
<li><p><code>Calculation Exercises</code></p>
<p>This type of exercise asks students to solve a question with one or
more numeric solutions. Solutions can be scalars, vectors, matrices or
sets.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My exercise  @ex:myLabel</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>        let x/y = rand(1, 5)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        let z = x + y</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        let A/B = rand&lt;2,3&gt;(-5,5)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>        let C = A + B</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ x+y= $</span> #z</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ A+B= $</span> #C</span></code></pre></div>
<p><em>Note: <code>let x/y = rand(1, 5)</code> is an abbreviation for
<code>let x = rand(1, 5); let y = rand(1, 5);</code> with guarantee that
<span class="math inline">\(x \neq y\)</span></em></p>
<p>Part <code>@code</code> draws random variables and generates the
sample solution.</p>
<p>Part <code>@texts</code> describes the question text. Typography,
itemizations, equations, etc. can be included, as described above. Input
fields are generated for patterns <code>#V</code>, where <code>V</code>
is a valid variable from part <code>@code</code>. Take care, that input
fields are <em>not</em> inserted within equations.</p>
<p>Variables in math mode (inline equations embedded into dollar signs)
are substituted by values of code variables by default. In the example
above, <span class="math inline">\(x\)</span> is e.g. shown as <span
class="math inline">\(3\)</span> (depending on the present value for
<span class="math inline">\(x\)</span>). If the variable identifiers
should be rendered instead, the concerned variable name must written in
quotes, e.g.   <code>$ "x" + "y" $</code>   (spacing is optional).</p>
<!-- TODO: number of random instances; default 10 -->
<p>Input Types:</p>
<ul>
<li><p><code>integers and real numbers</code></p>
<p>Without any options, an input field is generated for each input with
<code>#V</code>, for a variable <code>V</code> from part
<code>@code</code>. The student has to type in the answer on a numeric
keyboard.</p>
<p>If option <code>choices-X</code> is given, a set of <code>X</code>
possible answers is shown. Only one these answers is a correct one. All
other answers are incorrect. The student has to select the correct
solution to gather scoring.</p>
<p>Example:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Multiplication</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    CHOICES=4</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>        let x/y = rand(10,20)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>        let z = x * y</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$x * y=$</span> #z</span></code></pre></div></li>
<li><p><code>complex numbers</code></p>
<p>Per default, two input fields of the form    <code>[ ] + [ ]i</code>
   are shown to enter the solution in normal form.</p>
<p>If the option <code>polar-form</code> is given, then the student as
to enter the solution in polar form.</p>
<p>Option <code>choices-X</code> renders <code>X</code> buttons, where
one of them shows the correct solution (refer to exercise type
<code>integers and real numbers</code>).</p>
<p>Example:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Complex addition</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>        let x/y = complex(rand(10,20), rand(10,20))</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>        let z = x + y</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$x + y=$</span> #polar(z)</span></code></pre></div></li>
<li><p><code>sets</code></p>
<p>Per default, if the set has length <span
class="math inline">\(n\)</span>, then <span
class="math inline">\(n\)</span> input fields are shown to enter the
solution from a numeric keyboard.</p>
<p>If option <code>n-args</code> is given, students must figure out the
number of solution fields on their own.</p>
<p>Option <code>choices-X</code> renders <code>X</code> buttons, where
one of them shows the correct solution (refer to exercise type
<code>integers and real numbers</code>).</p>
<p>Example:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Linear Equations</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    FLEX_ELEMENTS=true</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>        let s = {-2, 2}</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    Solve <span class="dv">$x^2 - 4 = 0$</span>.</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">$x=$</span> #s</span></code></pre></div></li>
<li><p><code>matrices</code></p>
<p>Per default, an input matrix is shown with a text field for each
element of the solution matrix.</p>
<p>If option <code>n-rows</code> is given, students must figure out the
number of solution rows on their own.</p>
<p>If option <code>n-cols</code> is given, students must figure out the
number of solution columns on their own.</p>
<p>Option <code>choices-X</code> renders <code>X</code> buttons, where
one of them shows the correct solution (refer to exercise type
<code>integers and real numbers</code>).</p>
<p>Example:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Matrix Operations</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    FLEX_ROWS=true</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    FLEX_COLS=true</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>        let A/B/C = rand&lt;3,3&gt;(0, 5)    % 3x3-matrices</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>        let D = A*B + C</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$A*B + C=$</span> #D</span></code></pre></div></li>
<li><p><code>vectors</code></p>
<p>Exercises with vector solutions are technically matrix exercises with
the number of rows, or columns respectively, set to one.</p></li>
<li><p><code>terms</code></p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Simple Integration  @ex:intSimple</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>        let F(x) = (1/3) x^3 + 7x</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    Solve <span class="dv">$\int (x^2+7) dx = #build_term(F),score=2 +C$</span></span></code></pre></div>
<p>Without any option, the student is required to enter
<code>1/3*x^3 + 7*x</code> (or an algebraic equivalent solution) on a
keyboard.</p>
<p>Option <code>term-tokens-X</code> lists a set of buttons. Each button
represents a part of the solution term. In the example, buttons
<code>[1/3]</code>, <code>[*]</code>, <code>[x^3]</code>,
<code>[+]</code>, <code>[7]</code>, <code>[x]</code> are shown in random
order. The student has to click on the buttons to construct the
solution. Attribute <code>X</code> represents the overhead factor,
i.e. the number of additional buttons with (most likely) useless
options. The example sets <code>X</code> to <code>1,5</code>. In this
case 9 instead of 6 buttons are shown (e.g. <code>[1/5]</code>,
<code>[/]</code>, <code>[x^4]</code>).</p>
<p>Option <code>forbid-X</code> does not allow <code>X</code>in the
solution term. For example <code>forbid-sin</code> forbids to use the
sinus function. List of supported values for <code>X</code> (in
alphabetical order): <code>abs</code>, <code>acos</code>,
<code>asin</code>, <code>atan</code>, <code>cos</code>,
<code>exp</code>, <code>log</code>, <code>sin</code>, <code>tan</code>.
For multiple forbiddings, repeat the <code>forbid-X</code> option with
different identifiers for <code>X</code>.</p>
<p>Option <code>require-X</code> forces the student to use
<code>X</code> in the answer. The set of supported values is equal to
the definition of <code>forbid-X</code>.</p>
<!-- TODO: equivalency, ... -->
<!-- TODO: exercise with fraction answer --></li>
</ul></li>
<li><p>Scoring of answers</p>
<p>Per default, each input field is weighted with 1 score. And the total
score per exercise is defined as sum of scores of the input fields.</p>
<p>Example for custom scoring:</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Scoring example</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    SCORES=5   % total score of the exercise (5/3 for fa; 10/3 for fb)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>        let a = rand(2,4)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>        let b = rand(5,8)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>        let fa = fac(a)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>        let fb = fac(b)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ a! = $</span> #fa,score=1   % relative score for solution fa is 1</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ b! = $</span> #fb,score=2   % relative score for solution fb is 2</span></code></pre></div>
<p>Option <code>scores-X</code> defines that <code>X</code> is the total
score for the exercise a student can receive at maximum.</p>
<p>Option <code>score-V-X</code> defines that <code>X</code> is the
maximum score for solution variable <code>V</code>.</p>
<p>The sum of all <code>score-V-Xi</code> must <em>not</em> necessarily
be equal to <code>score-V-X</code>.</p></li>
<li><p><code>Static Multiple Choice Exercise</code></p>
<p>Multiple choice exercises list a set of answers, which can be
selected or deselected by the student with checkboxes. Correct answers
are indicated by <code>[x]</code>. Incorrect answers are indicated by
<code>[ ]</code>. Example:</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My Multiple Choice Exercise  @ex:myMultiChoice</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">ORDER</span>=static</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    Choose the right answers:</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    [x] This answer is correct.</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    [ ] This answer is incorrect.</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    [x] This answer is correct.</span></code></pre></div>
<p>Each correct answer is scored with 1 points, each wrong answer is
scored with -1 points. The total score of the exercise can be weighted
with option <code>scores-X</code>, where <code>X</code> is the total
score.</p>
<p>Answers are displayed in random order per default. Option
<code>static-order</code> suppresses random shuffling.</p></li>
<li><p><code>Dynamic Multiple Choice Exercise</code></p>
<p>Dynamic multiple choice exercises calculate the correctness of
answers at runtime. Example:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My dynamic Multiple Choice Exercise</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>        let x/y/z/w = rand(10, 20)     % no pair of x, y, z, w is equal</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>        let c1 = x &gt; w</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        let c2 = y &gt; w</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>        let c3 = z &gt; w</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    Choose the correct answer(s):</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    [:c1] <span class="dv">$x &gt; w$</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    [:c2] <span class="dv">$y &gt; w$</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    [:c3] <span class="dv">$z &gt; w$</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    [x]   <span class="dv">$1 &gt; 0$</span>    % statically true</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    [ ]   <span class="dv">$1 &lt; 0$</span>    % statically false</span></code></pre></div>
<p>Correctness of an answer is determined by a boolean variable
<code>V</code>, in the form <code>[:V]</code>.</p>
<p>You are allowed to mix static and dynamic answers: If variable
<code>x</code> is a boolean variable, then <code>[:x]</code> is correct
(incorrect) if <span class="math inline">\(x\)</span> is true (false).
The notation <code>[x]</code> indicates that the answer is
<em>always</em> true.</p></li>
<li><p><code>Single Choice Exercise</code></p>
<p>In single choice exercises, exactly one answer is true. All other
answers are wrong. Instead of check boxes, radio buttons are
displayed.</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My Single Choice Exercise  @ex:myMultiChoice</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    (x) This answer is correct.</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    ( ) This answer is incorrect.</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    ( ) This answer is incorrect.</span></code></pre></div>
<p>The definition of single choice exercises is similar to the
definition of multiple choice exercises. We use round parentheses
<code>( )</code>, instead of brackets <code>[ ]</code>.</p>
<p>For dynamic single choice exercises, the exercise designer must take
care, that no more than one option is correct. In case of more than one
correct answers, the behavior is undefined.</p></li>
<li><p><code>Gap Exercise</code></p>
<p>Gap exercises provide an input field to enter words within fluent
paragraph text.</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My Gap Exercise  @ex:myLabel</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    SHOW_GAP_LENGTH=true</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    SHOW_REQUIRED_LETTERS_ONLY=true</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    Garfield is a #&quot;cat&quot;. Rain is #&quot;wet&quot;.</span></code></pre></div>
<p>Option <code>show-length</code> hints the number of characters of the
solution word.</p>
<p>Option <code>restricted-keyboard</code> displays a context-sensitive
keyboard that only shows characters needed for the solution. E.g. for
the first answer <code>cat</code> from the example, the student only
sees keys <code>[A]</code>, <code>[C]</code> and
<code>[T]</code>.</p></li>
<li><p><code>Arrangement Exercise</code></p>
<p>Arrangement exercises show a sequence of strings or numbers that must
be reordered by the student.</p>
<!-- TODO: string arrangement -->
<div class="sourceCode" id="cb38"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Arrangement exercise</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    ARRANGE=true</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    ACCEPT_IMMEDIATELY=true</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>        let n = rand(5,10)          % length</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>        let f = zeros&lt;1,n&gt;()        % row vector for the sequence</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>        f[1] = 1                    % f[0]=0, f[1]=1</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>        for (let i=2; i&lt;n; i++) {   % calc sequence iteratively</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>            f[i] = f[i-2] + f[i-1]</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    Arrange the following numbers to get the first numbers of the Fibonacci sequence: #f</span></code></pre></div>
<p><em>Preface: The answer field <code>#f</code> would ask the student
to type in the elements of the row vector:
<code>[0, 1, 1, 2, 3, 5, ...]</code>.</em></p>
<p>Writing   <code>#:order(v)</code>   lists a randomly shuffled form of
vector <code>v</code>. The student is required to reorder the vector to
finally get vector <code>v</code>.</p>
<p>The option <code>accept-immediately</code> accepts the answer
immediately when it is correct. If the option is missing, then the
student needs to submit the solution explicitly.</p></li>
<li><p><code>Timed Exercise</code></p>
<p>A timed exercise is repeatedly shown. Each instance uses different
variables. Quick and correct responses results in a large high score.
This question type might test, if students are already trained well to a
specific topic.</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode mbl"><code class="sourceCode mbl"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Timed exercise</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    TIMER=3</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    ACCELERATE=true</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    STOP_AFTER_ERRORS=1</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    CHOICES=4</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>        let x:y = rand(20,50)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>        let z = x + y</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ x + y = #z $</span></span></code></pre></div>
<p>Option <code>timed-X</code> enables timing. The student has
<code>X</code> seconds to give an answer.</p>
<p>Option <code>accelerate</code> decreases time per question.</p>
<p>Option <code>multi-choice-X</code> lists <code>X</code> options per
question.</p>
<p>Option <code>stop-on-error-X</code> stops asking after <code>X</code>
incorrect answers.</p></li>
</ul>
<h2 id="course-structure">Course Structure</h2>
<p>Large courses need to be structured into multiple files. We use the
following terms in the subsequent sections:</p>
<ul>
<li><code>Course</code>: an entire course, e.g. “higher math 1”.</li>
<li><code>Chapter</code>: a logical chapter of a course, e.g. “complex
numbers”.</li>
<li><code>Unit</code>: a learning unit of a chapter, e.g. “basics of
complex numbers”, “complex functions, sequences and series”.</li>
<li><code>Level</code>: a basic part of a unit, e.g. “normal form”,
“polar form”, “absolute value”.</li>
</ul>
<p>A course consists of multiple <code>*.mbl</code> files. The file
hierarchy is <code>/COURSE/CHAPTER/LEVEL_FILE.mbl</code>. Thus, each
file represents a level of the course. Units are defined in index files
(see below).</p>
<p>Example folder hierarchy for a course <em>higher math 1</em>
(<code>hm1</code>):</p>
<pre><code>hm1/course.mbl
...
hm1/cmplx/index.mbl
hm1/cmplx/start.mbl
hm1/cmplx/intro.mbl
hm1/cmplx/normal.mbl
hm1/cmplx/conj.mbl
hm1/cmplx/conj-props.mbl
hm1/cmplx/abs.mbl
hm1/cmplx/polar.mbl
...
hm1/diff/index.mbl
hm1/diff/...
...</code></pre>
<p>File <code>course.mbl</code> contains general meta data for the
course and lists all chapters.</p>
<p>Each chapter directory is organized by an index file, named
<code>index.mbl</code>. The format of index files is described in the
next section.</p>
<h2 id="level-index-files-index.mbl">Level Index Files
(<code>index.mbl</code>)</h2>
<p>An index file defines meta data for a chapter. It also lists all
files and its dependencies.</p>
<blockquote>
<p>hm1/cmplx/index.mbl</p>
</blockquote>
<pre><code>% a comment line

TITLE
    Complex Numbers

AUTHOR
    TH Koeln

UNIT Complex Basics
    (2,0) start                   ICON icons/start.svg
    (1,0) gauss       !start      ICON icons/gauss.svg
    (3,1) normal      !start
    (3,2) conj        !normal
    (4,2) conj-props  !conj
    (3,3) abs         !conj
    (2,4) polar       !abs

UNIT Complex Functions, Sequences, Series
    ...</code></pre>
<p>Each chapter consists of a set of units.</p>
<p>Each unit consists of a set of levels. A unit can be represented by a
(directed) graph <span class="math inline">\(G=(V,E)\)</span> with <span
class="math inline">\(V\)</span> the levels and <span
class="math inline">\(E\)</span> the dependencies between levels.</p>
<p>Each level is described by an <code>*.mbl</code> file. A level is
only playable, if all presuming levels have been passed successfully. At
least one level must have no presuming level.</p>
<p>All Levels of a unit are listed below the <code>UNIT UNIT_NAME</code>
entry. Each level is described in the form:
<code>(X,Y) A !B !C !D ...</code>.</p>
<ul>
<li><p>Coordinates <code>(X,Y)</code> describe the position of node
<span class="math inline">\(v \in V(G)\)</span>, where
<code>(0,0)</code> is interpreted as <em>top-left</em>.</p></li>
<li><p>File <code>A</code> is the level.</p></li>
<li><p>Files <code>!B</code>, <code>!C</code>, … (with
<code>!</code>-prefix) represent the requirements of <code>A</code>,
i.e. level <code>A</code> depends on levels <code>B</code>,
<code>C</code>, ….</p></li>
<li><p>Requirements for other course chapters can be denoted by relative
paths, e.g. <code>!../basics/sets</code> requires level
<code>sets.mbl</code> in chapter <code>basics</code>.</p></li>
<li><p>(Optional) Icons in SVG format can be inserted by keyword
<code>ICON</code>.</p></li>
</ul>
<p>Since all units are stored in the same file directory, prefixes to
file names may be helpful.</p>
<p>Example:</p>
<pre><code>...
UNIT Complex Basics
    (2,0) basics-start
    (1,0) basics-gauss       !basics-start
    (3,1) basics-normal      !basics-start
...

UNIT Complex Functions, Sequences, Series
    (0,0) fss-start
...</code></pre>
<h2 id="course-description-file-course.mbl">Course Description File
(<code>course.mbl</code>)</h2>
<p>The course description file <code>course.mbl</code> is similar
organized to level index files.</p>
<p>It mainly lists all chapters and its dependencies.</p>
<p>Example:</p>
<pre><code>TITLE
   A Short Demo Course

AUTHOR
    TH Koeln

CHAPTERS
    (0,0) basics
    (2,0) essentials  !basics
    (1,1) advanced    !basics !essentials</code></pre>
<p><em>Author: Andreas Schwenk, TH Köln</em></p>
<!--
# TODO

- add preview images in this document
- add links to web-simulator (not public)
- chatbot code
- repetition, ...
- indexing / glossary

-->
</body>
</html>
