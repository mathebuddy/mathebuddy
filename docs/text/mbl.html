<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>MBL Specification</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">MBL Specification</h1>
</header>
<!-- MatheBuddy Language (MBL) -->
<p>(only available in English)</p>
<p>This document outlines the syntax of the
<code>MatheBuddy Language (MBL)</code>, designed for creating math-based
online courses. <code>MBL</code> supports both content structuring and
the generation of randomized training exercises. It is especially suited
for organizing large, multi-level courses and managing content
dependencies efficiently. Additionally, semantic tags can be added to
transform the structure into a semantic network, which can be leveraged
in applications like chatbots or adaptive learning strategies, such as
smart repetition for optimized memorization.</p>
<p>Several concepts in MBL are inspired by other formal languages:</p>
<ul>
<li>Text formatting draws from <code>Markdown</code>, known for its
expressive and easy-to-remember syntax.</li>
<li><code>TeX</code> is employed for equations, as it is the standard
language used by most academic staff in mathematics departments.</li>
<li><code>SMPL</code>, developed alongside MBL, is a general-purpose
language with a focus on mathematical expression. It is used to generate
random variables in exercises and compute sample solutions.</li>
</ul>
<p>Although originally developed for the MatheBuddy Learning app, the
<code>MBL</code> language is designed to be platform-independent,
allowing for easy integration into other learning management
systems.</p>
<p>For a comprehensive collection of example courses, visit the public
repository: <a
href="https://github.com/mathebuddy/mathebuddy-public-courses">MatheBuddy
Public Courses</a>.</p>
<h2 id="file-format">File Format</h2>
<p>MBL files are written in UTF-8 encoded text and use the
<code>*.mbl</code> file extension. Typically, an <code>*.mbl</code> file
represents a level, which is a self-contained module designed to explain
specific content to students. These files include text, equations,
figures, and exercises.</p>
<p>The chapter <em>Course Structure</em> will detail how to organize a
full course, comprising multiple chapters, units, and levels.</p>
<h2 id="hello-world">Hello, world!</h2>
<p>The following example defines a simple level page with only the title
and a single paragraph of text.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>My first level</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>###############</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>Welcome to MatheBuddy!</span></code></pre></div>
<p>Here’s an improved version of the provided section:</p>
<h2 id="typography">Typography</h2>
<p>This section outlines the text structuring and formatting features in
MBL.</p>
<ul>
<li><p><strong>Level Title</strong>: The main heading of a level file,
defined with at least four hashtags (<code>#</code>). Labels are
optional.</p>
<p>Example:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>My Course Title @myLabel</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>###############</span></code></pre></div></li>
<li><p><strong>Sections</strong>: Levels can be divided into sections
using at least four equal signs (<code>=</code>). Labels are optional,
and it is recommended to use the prefix <code>sec:</code> for section
labels.</p>
<p>Example:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>My Section @sec:myLabel</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>==========</span></code></pre></div></li>
<li><p><strong>Subsections</strong>: Sections can be further subdivided
with subsections, using at least four dashes (<code>-</code>). Labels
are optional, and it is recommended to use the prefix
<code>subsec:</code> for subsection labels.</p>
<p>Example:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>My Subsection @subsec:myLabel</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>-------------</span></code></pre></div></li>
<li><p><strong>Paragraphs</strong>: A paragraph consists of one or more
lines of continuous text. New paragraphs start after an empty line.</p>
<p>Example:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>This is a sentence within a paragraph.</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>Although the next sentence starts on a new line,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>it will still appear directly after the previous one without any gap.</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>A new paragraph begins here.</span></code></pre></div></li>
<li><p><strong>Bold, Italic, and Colored Text</strong>: Basic text
formatting options include bold, italic, and colored text. Use
<code>**</code> for bold, <code>*</code> for italic, and square brackets
with a color code for colored text.</p>
<p>Example:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>This text is **bold**. This one is *italic*.</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>The word [beautiful]@color1 is displayed in the primary color.&quot;</span></code></pre></div>
<p>The specific colors depend on the runtime environment, but
<code>color0</code> is always black.</p></li>
<li><p><strong>Definitions and Theorems</strong>: Definitions, theorems,
and similar elements are structured in blocks. All lines in a block are
indented by four spaces.</p>
<p>Examples:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DEFINITION</span> Positive @def:positive</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    A number <span class="dv">$n$</span> is **positive** if <span class="dv">$n &gt; 0$</span>.</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="kw">THEOREM</span> The Aristotelian Syllogism @thm:socrates</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    If all men are mortal and Socrates is a man, then Socrates is mortal.</span></code></pre></div>
<p>The list of supported tags is: <code>AXIOM</code>,
<code>CLAIM</code>, <code>CONJECTURE</code>, <code>COROLLARY</code>,
<code>DEFINITION</code>, <code>EXAMPLE</code>, <code>IDENTITY</code>,
<code>LEMMA</code>, <code>PARADOX</code>, <code>PROPOSITION</code>,
<code>THEOREM</code>, <code>PROOF</code>.</p></li>
<li><p><strong>Examples</strong>: Examples are also formatted in blocks,
indented by four spaces.</p>
<p>Example:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXAMPLE</span> Complex Number Addition @ex:myExample</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">$z_1 = 1 + 3i$</span>, <span class="dv">$z_2 = 2 + 4i$</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    so <span class="dv">$z_1 + z_2 = 3 + 7i$</span>.</span></code></pre></div></li>
<li><p><strong>Alignment</strong>: Text alignment can be adjusted using
the <code>LEFT</code>, <code>CENTER</code>, and <code>RIGHT</code>
blocks.</p>
<p>Example:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CENTER</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    This text is centered.</span></code></pre></div></li>
<li><p><strong>Links and References</strong>: Sections, exercises, and
other objects can be labeled with <code>@PREFIX:LABEL</code>, allowing
for easy cross-referencing.</p>
<p>Example:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>Refer to section @sec:intro for an introduction.</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>Intro @sec:intro</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>=====</span></code></pre></div>
<p>Suggested prefixes include <code>sec:</code> for sections,
<code>ex:</code> for exercises, and <code>fig:</code> for
figures.</p></li>
<li><p><strong>Comments</strong>: Comments are indicated by
<code>%</code> and ignored by the compiler until the end of the
line.</p>
<p>Example:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>This is visible text.</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>% This comment is visible to developers only.</span></code></pre></div></li>
<li><p><strong>Page Breaks</strong>: To minimize excessive vertical
scrolling, page breaks can be added using the <code>NEWPAGE</code>
block.</p>
<p>Example:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>NEWPAGE</span></code></pre></div></li>
<li><p><strong>Block Nesting</strong>: Blocks can be nested, with deeper
levels created by additional indentation. The <code>END</code> keyword
can be used to close a block explicitly.</p>
<p>Example:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DEFINITION</span> My Definition @def:myDef</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    Some explanation here.</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CENTER</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        This text is centered.</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">EQUATION</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        x^2 + y^2 = z^2</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    Additional explanation here.</span></code></pre></div></li>
</ul>
<h2 id="equations">Equations</h2>
<p>We differentiate between two types of equations:</p>
<ul>
<li><strong>Inline equations</strong> are embedded within the text of a
paragraph.</li>
<li><strong>Block equations</strong> are rendered on separate lines,
typically with numbering.</li>
</ul>
<p>Equations are written using <code>TeX</code> notation.</p>
<ul>
<li><p><strong>Inline Equations</strong>:<br />
Inline equations are enclosed within dollar signs (<code>$</code>).</p>
<p>Example:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>Einstein’s renowned equation, <span class="dv">$E=mc^2$</span>,</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>defines the relationship between energy (<span class="dv">$E$</span>) and mass (<span class="dv">$m$</span>),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>with <span class="dv">$c$</span> representing the speed of light.</span></code></pre></div></li>
<li><p><strong>Block Equations</strong> (display math mode):<br />
Block equations are enclosed within an <code>EQUATION</code> block.</p>
<p>Example:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EQUATION</span> @eq:myLabel</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    a^2 + b^2 = c^2</span></code></pre></div>
<ul>
<li>Labels are optional and allow referencing the equation (e.g.,
<code>@eq:myLabel</code>).</li>
<li>By default, equations are numbered. To suppress numbering, use an
asterisk (<code>*</code>):</li>
</ul>
<div class="sourceCode" id="cb16"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EQUATION</span>* @eq:myLabel</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    a^2 + b^2 = c^2</span></code></pre></div>
<p>Equations can be referenced in the text, e.g.,
<code>@eq:myLabel</code>, and will be displayed based on the runtime
environment (e.g., as <span
class="math inline">\(Eq~(1)\)</span>).</p></li>
<li><p><strong>Aligned Equations</strong>:<br />
For better readability, equations with multiple steps or operations can
be aligned vertically.<br />
Use an ampersand (<code>&amp;</code>) for alignment, and end each line
with a double backslash (<code>\\</code>). Example:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALIGNED</span>-<span class="kw">EQUATION</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    (x+1)^2 &amp;= (x+1)(x+1) \\</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>            &amp;= x^2 + x + x + 1 \\</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>            &amp;= x^2 + 2x + 1 \\</span></code></pre></div>
<p><em>Note: The final linefeed (<code>\\</code>) is optional.
Consistent spacing around <code>&amp;</code> is recommended for
clarity.</em></p></li>
<li><p><strong>Abbreviations</strong>:<br />
To simplify the notation, some commonly used mathematical symbols have
shorthand versions. The following table lists available
abbreviations:</p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th><code>TeX</code> Code</th>
<th>Abbreviation</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="math inline">\(\mathbb{R}\)</span></td>
<td><code>\mathbb{R}</code></td>
<td><code>\RR</code></td>
</tr>
<tr>
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td><code>\mathbb{N}</code></td>
<td><code>\NN</code></td>
</tr>
<tr>
<td><span class="math inline">\(\mathbb{Z}\)</span></td>
<td><code>\mathbb{Z}</code></td>
<td><code>\ZZ</code></td>
</tr>
<tr>
<td><span class="math inline">\(\mathbb{C}\)</span></td>
<td><code>\mathbb{C}</code></td>
<td><code>\CC</code></td>
</tr>
</tbody>
</table>
<p>Abbreviations are optional but can enhance readability for common
symbols.</p></li>
</ul>
<!-- TODO: old from here on -->
<h2 id="figures">Figures</h2>
<p>SMPL provides syntax to plot function graphs.</p>
<p>All other figures must be generated with external tools. We highly
recommend to generate files in the <code>SVG</code> (Scalable Vector
Graphics) format using <a href="https://inkscape.org">Inkscape</a>).</p>
<ul>
<li><p><code>Figures</code></p>
<p>A figure displays an image file. It is highly recommended to use
<code>*.svg</code> as file format (scalable vector graphics).
Example:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FIGURE</span> My figure title @fig:myFigure</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">WIDTH</span>=75</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">PATH</span>=images/myImage.svg</span></code></pre></div>
<p>Attribute <code>width-P</code> specifies the displayed width with a
percentage value for <code>P</code>. E.g. <code>width-75</code> renders
the figure with 75 % of the display width. Default is
<code>width-100</code>.</p></li>
<li><p><code>Function Plots</code></p>
<p>Functions graphs are described in a <em>block</em> with keyword
<code>FIGURE</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FIGURE</span> My Plot @fig:functions</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">WIDTH</span>=75</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        let f(x) = x^2</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        let g(x) = 2*x</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        figure {</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>          x_axis(-5, 5, &quot;x&quot;)  % x-min, y-max, label</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>          y_axis(-0.5, 4.5, &quot;y&quot;)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>          function(f)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>          function(g)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>          circle(0, 0, 0.1)   % x, y, radius</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>          circle(2, 4, 0.1)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CAPTION</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>        Some functions <span class="dv">$f$</span> and <span class="dv">$g$</span></span></code></pre></div>
<p>Part <code>@code</code> defines two functions <span
class="math inline">\(f(x)\)</span> anf <span
class="math inline">\(g(x)\)</span>. Function <code>figures2d()</code>
generates a new plot variable.</p></li>
</ul>
<!-- TODO: write more text -->
<!--  OLD
Axis definition is done by &nbsp;&nbsp; `xaxis LABEL from MIN to MAX` &nbsp;&nbsp; for the x-axis and &nbsp;&nbsp; `yaxis LABEL from MIN to MAX` &nbsp;&nbsp; for the y-axis.

`colorX` changes the current color. All subsequent plots are drawn in that color. `X` is an integer value for the color key.

`plot F` renders a function curve `F` that is specified as term. An exact definition is essential. In particular, all multiplication operators (`*`) must be denoted explicitly. The exact syntax is described in the SMPL documentation.

Keyword `coord X Y` renders a small circle at position $(X,Y)$.
-->
<h2 id="itemizations-and-enumerations">Itemizations and
Enumerations</h2>
<ul>
<li><p><code>Itemize</code></p>
<p>An itemization lists a set of bullet points. Example:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>My itemization:</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>- first item</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>- second item</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>- third item</span></code></pre></div>
<p>A line that starts with a dash (<code>-</code>) is rendered as bullet
point.</p></li>
<li><p><code>Enumeration (numbers)</code></p>
<p>Enumerations list a sequence of numbered items. Example:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>My enumeration:</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>#. first item</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>#. second item</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>#. third item</span></code></pre></div>
<p>A line that starts with a hashtag following a dot (<code>#.</code>)
is rendered with numbering (1, 2, …).</p></li>
<li><p><code>Enumeration (letters)</code></p>
<p>Alphabetical enumerations list a sequence of items. Example:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>My enumeration:</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>-) first item</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>-) second item</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>-) third item</span></code></pre></div>
<p>A line that starts with a dash following a closing parenthesis
(<code>-)</code>) is rendered with preceding letters <code>a)</code>,
<code>b)</code>, … .</p></li>
</ul>
<p><em>Note: Hierarchical itemizations are not supported for didactical
reasons, as well as a mobile friendly presentation.</em></p>
<h2 id="tables">Tables</h2>
<p>A table is described by a <em>block</em> with keyword
<code>TABLE</code>. Each row of the table is written without line break.
Columns are separated by <code>&amp;</code>. The first row is considered
as headline.</p>
<p>Example:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">TABLE</span> My table title  @tab:label</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">ALIGN</span>=left</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">$x$</span> &amp; <span class="dv">$f(x)$</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    1   &amp; 1</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    2   &amp; 4</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    3   &amp; 9</span></code></pre></div>
<p>The alignment option <code>align-X</code> specifies the placing of
the table. Parameter <code>X</code> is one of <code>left</code>,
<code>center</code>, <code>right</code>. Default is
<code>align-center</code>.</p>
<h2 id="exercises">Exercises</h2>
<p>Exercises provide interactive elements to the course. For example,
multiple choice questions display multiple answers, from which students
have to select all correct ones to gather scores.</p>
<p>Most exercises contain a <code>@code</code> part to generate
randomized variables and to calculate the sample solution. It is denoted
in the <em>Simple Math Programming Language (SMPL)</em>. The
documentation can be found <a
href="https://app.f07-its.fh-koeln.de/docs-smpl.html">here</a>.</p>
<p>The following paragraphs describe all implemented exercise types.</p>
<ul>
<li><p><code>Calculation Exercises</code></p>
<p>This type of exercise asks students to solve a question with one or
more numeric solutions. Solutions can be scalars, vectors, matrices or
sets.</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My exercise  @ex:myLabel</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        let x/y = rand(1, 5)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>        let z = x + y</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>        let A/B = rand&lt;2,3&gt;(-5,5)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        let C = A + B</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ x+y= $</span> #z</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ A+B= $</span> #C</span></code></pre></div>
<p><em>Note: <code>let x/y = rand(1, 5)</code> is an abbreviation for
<code>let x = rand(1, 5); let y = rand(1, 5);</code> with guarantee that
<span class="math inline">\(x \neq y\)</span></em></p>
<p>Part <code>@code</code> draws random variables and generates the
sample solution.</p>
<p>Part <code>@texts</code> describes the question text. Typography,
itemizations, equations, etc. can be included, as described above. Input
fields are generated for patterns <code>#V</code>, where <code>V</code>
is a valid variable from part <code>@code</code>. Take care, that input
fields are <em>not</em> inserted within equations.</p>
<p>Variables in math mode (inline equations embedded into dollar signs)
are substituted by values of code variables by default. In the example
above, <span class="math inline">\(x\)</span> is e.g. shown as <span
class="math inline">\(3\)</span> (depending on the present value for
<span class="math inline">\(x\)</span>). If the variable identifiers
should be rendered instead, the concerned variable name must written in
quotes, e.g.   <code>$ "x" + "y" $</code>   (spacing is optional).</p>
<!-- TODO: number of random instances; default 10 -->
<p>Input Types:</p>
<ul>
<li><p><code>integers and real numbers</code></p>
<p>Without any options, an input field is generated for each input with
<code>#V</code>, for a variable <code>V</code> from part
<code>@code</code>. The student has to type in the answer on a numeric
keyboard.</p>
<p>If option <code>choices-X</code> is given, a set of <code>X</code>
possible answers is shown. Only one these answers is a correct one. All
other answers are incorrect. The student has to select the correct
solution to gather scoring.</p>
<p>Example:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Multiplication</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">CHOICES</span>=4</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>        let x/y = rand(10,20)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>        let z = x * y</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$x * y=$</span> #z</span></code></pre></div></li>
<li><p><code>complex numbers</code></p>
<p>Per default, two input fields of the form    <code>[ ] + [ ]i</code>
   are shown to enter the solution in normal form.</p>
<p>If the option <code>polar-form</code> is given, then the student as
to enter the solution in polar form.</p>
<p>Option <code>choices-X</code> renders <code>X</code> buttons, where
one of them shows the correct solution (refer to exercise type
<code>integers and real numbers</code>).</p>
<p>Example:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Complex addition</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>        let x/y = complex(rand(10,20), rand(10,20))</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>        let z = x + y</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$x + y=$</span> #polar(z)</span></code></pre></div></li>
<li><p><code>sets</code></p>
<p>Per default, if the set has length <span
class="math inline">\(n\)</span>, then <span
class="math inline">\(n\)</span> input fields are shown to enter the
solution from a numeric keyboard.</p>
<p>If option <code>n-args</code> is given, students must figure out the
number of solution fields on their own.</p>
<p>Option <code>choices-X</code> renders <code>X</code> buttons, where
one of them shows the correct solution (refer to exercise type
<code>integers and real numbers</code>).</p>
<p>Example:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Linear Equations</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">FLEX_ELEMENTS</span>=true</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        let s = {-2, 2}</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    Solve <span class="dv">$x^2 - 4 = 0$</span>.</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">$x=$</span> #s</span></code></pre></div></li>
<li><p><code>matrices</code></p>
<p>Per default, an input matrix is shown with a text field for each
element of the solution matrix.</p>
<p>If option <code>n-rows</code> is given, students must figure out the
number of solution rows on their own.</p>
<p>If option <code>n-cols</code> is given, students must figure out the
number of solution columns on their own.</p>
<p>Option <code>choices-X</code> renders <code>X</code> buttons, where
one of them shows the correct solution (refer to exercise type
<code>integers and real numbers</code>).</p>
<p>Example:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Matrix Operations</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">FLEX_ROWS</span>=true</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">FLEX_COLS</span>=true</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>        let A/B/C = rand&lt;3,3&gt;(0, 5)    % 3x3-matrices</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>        let D = A*B + C</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$A*B + C=$</span> #D</span></code></pre></div></li>
<li><p><code>vectors</code></p>
<p>Exercises with vector solutions are technically matrix exercises with
the number of rows, or columns respectively, set to one.</p></li>
<li><p><code>terms</code></p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Simple Integration  @ex:intSimple</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>        let F(x) = (1/3) x^3 + 7x</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    Solve <span class="dv">$\int (x^2+7) dx = #build_term(F),score=2 +C$</span></span></code></pre></div>
<p>Without any option, the student is required to enter
<code>1/3*x^3 + 7*x</code> (or an algebraic equivalent solution) on a
keyboard.</p>
<p>Option <code>term-tokens-X</code> lists a set of buttons. Each button
represents a part of the solution term. In the example, buttons
<code>[1/3]</code>, <code>[*]</code>, <code>[x^3]</code>,
<code>[+]</code>, <code>[7]</code>, <code>[x]</code> are shown in random
order. The student has to click on the buttons to construct the
solution. Attribute <code>X</code> represents the overhead factor,
i.e. the number of additional buttons with (most likely) useless
options. The example sets <code>X</code> to <code>1,5</code>. In this
case 9 instead of 6 buttons are shown (e.g. <code>[1/5]</code>,
<code>[/]</code>, <code>[x^4]</code>).</p>
<p>Option <code>forbid-X</code> does not allow <code>X</code>in the
solution term. For example <code>forbid-sin</code> forbids to use the
sinus function. List of supported values for <code>X</code> (in
alphabetical order): <code>abs</code>, <code>acos</code>,
<code>asin</code>, <code>atan</code>, <code>cos</code>,
<code>exp</code>, <code>log</code>, <code>sin</code>, <code>tan</code>.
For multiple forbiddings, repeat the <code>forbid-X</code> option with
different identifiers for <code>X</code>.</p>
<p>Option <code>require-X</code> forces the student to use
<code>X</code> in the answer. The set of supported values is equal to
the definition of <code>forbid-X</code>.</p>
<!-- TODO: equivalency, ... -->
<!-- TODO: exercise with fraction answer --></li>
</ul></li>
<li><p>Scoring of answers</p>
<p>Per default, each input field is weighted with 1 score. And the total
score per exercise is defined as sum of scores of the input fields.</p>
<p>Example for custom scoring:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Scoring example</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">SCORES</span>=5   % total score of the exercise (5/3 for fa; 10/3 for fb)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>        let a = rand(2,4)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>        let b = rand(5,8)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>        let fa = fac(a)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>        let fb = fac(b)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ a! = $</span> #fa,score=1   % relative score for solution fa is 1</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ b! = $</span> #fb,score=2   % relative score for solution fb is 2</span></code></pre></div>
<p>Option <code>scores-X</code> defines that <code>X</code> is the total
score for the exercise a student can receive at maximum.</p>
<p>Option <code>score-V-X</code> defines that <code>X</code> is the
maximum score for solution variable <code>V</code>.</p>
<p>The sum of all <code>score-V-Xi</code> must <em>not</em> necessarily
be equal to <code>score-V-X</code>.</p></li>
<li><p><code>Static Multiple Choice Exercise</code></p>
<p>Multiple choice exercises list a set of answers, which can be
selected or deselected by the student with checkboxes. Correct answers
are indicated by <code>[x]</code>. Incorrect answers are indicated by
<code>[ ]</code>. Example:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My Multiple Choice Exercise  @ex:myMultiChoice</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">ORDER</span>=static</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    Choose the right answers:</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    [x] This answer is correct.</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    [ ] This answer is incorrect.</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    [x] This answer is correct.</span></code></pre></div>
<p>Each correct answer is scored with 1 points, each wrong answer is
scored with -1 points. The total score of the exercise can be weighted
with option <code>scores-X</code>, where <code>X</code> is the total
score.</p>
<p>Answers are displayed in random order per default. Option
<code>static-order</code> suppresses random shuffling.</p></li>
<li><p><code>Dynamic Multiple Choice Exercise</code></p>
<p>Dynamic multiple choice exercises calculate the correctness of
answers at runtime. Example:</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My dynamic Multiple Choice Exercise</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>        let x/y/z/w = rand(10, 20)     % no pair of x, y, z, w is equal</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>        let c1 = x &gt; w</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>        let c2 = y &gt; w</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>        let c3 = z &gt; w</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    Choose the correct answer(s):</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    [:c1] <span class="dv">$x &gt; w$</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    [:c2] <span class="dv">$y &gt; w$</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    [:c3] <span class="dv">$z &gt; w$</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    [x]   <span class="dv">$1 &gt; 0$</span>    % statically true</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    [ ]   <span class="dv">$1 &lt; 0$</span>    % statically false</span></code></pre></div>
<p>Correctness of an answer is determined by a boolean variable
<code>V</code>, in the form <code>[:V]</code>.</p>
<p>You are allowed to mix static and dynamic answers: If variable
<code>x</code> is a boolean variable, then <code>[:x]</code> is correct
(incorrect) if <span class="math inline">\(x\)</span> is true (false).
The notation <code>[x]</code> indicates that the answer is
<em>always</em> true.</p></li>
<li><p><code>Single Choice Exercise</code></p>
<p>In single choice exercises, exactly one answer is true. All other
answers are wrong. Instead of check boxes, radio buttons are
displayed.</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My Single Choice Exercise  @ex:myMultiChoice</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    (x) This answer is correct.</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    ( ) This answer is incorrect.</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    ( ) This answer is incorrect.</span></code></pre></div>
<p>The definition of single choice exercises is similar to the
definition of multiple choice exercises. We use round parentheses
<code>( )</code>, instead of brackets <code>[ ]</code>.</p>
<p>For dynamic single choice exercises, the exercise designer must take
care, that no more than one option is correct. In case of more than one
correct answers, the behavior is undefined.</p></li>
<li><p><code>Gap Exercise</code></p>
<p>Gap exercises provide an input field to enter words within fluent
paragraph text.</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> My Gap Exercise  @ex:myLabel</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">SHOW_GAP_LENGTH</span>=true</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">SHOW_REQUIRED_LETTERS_ONLY</span>=true</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    Garfield is a #&quot;cat&quot;. Rain is #&quot;wet&quot;.</span></code></pre></div>
<p>Option <code>show-length</code> hints the number of characters of the
solution word.</p>
<p>Option <code>restricted-keyboard</code> displays a context-sensitive
keyboard that only shows characters needed for the solution. E.g. for
the first answer <code>cat</code> from the example, the student only
sees keys <code>[A]</code>, <code>[C]</code> and
<code>[T]</code>.</p></li>
<li><p><code>Arrangement Exercise</code></p>
<p>Arrangement exercises show a sequence of strings or numbers that must
be reordered by the student.</p>
<!-- TODO: string arrangement -->
<div class="sourceCode" id="cb35"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Arrangement exercise</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">ARRANGE</span>=true</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">ACCEPT_IMMEDIATELY</span>=true</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        let n = rand(5,10)          % length</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>        let f = zeros&lt;n&gt;()          % vector for the sequence</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        f[0] = 0</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>        f[1] = 1</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>        for k from 2 to n-1 {       % calc sequence iteratively</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>            f[k] = f[k-2] + f[k-1]</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    Arrange the following numbers to get the first numbers of the Fibonacci sequence: #f</span></code></pre></div>
<p>Note the use of <code>k</code> for the loop variable. A variable
named <code>i</code> would be considered as complex number
<code>0+1*i</code>.</p>
<p><em>Preface: The answer field <code>#f</code> would ask the student
to type in the elements of the row vector:
<code>[0, 1, 1, 2, 3, 5, ...]</code>.</em></p>
<p>Writing   <code>#:order(v)</code>   lists a randomly shuffled form of
vector <code>v</code>. The student is required to reorder the vector to
finally get vector <code>v</code>.</p>
<p>The option <code>accept-immediately</code> accepts the answer
immediately when it is correct. If the option is missing, then the
student needs to submit the solution explicitly.</p></li>
<li><p><code>Timed Exercise</code></p>
<p>A timed exercise is repeatedly shown. Each instance uses different
variables. Quick and correct responses results in a large high score.
This question type might test, if students are already trained well to a
specific topic.</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXERCISE</span> Timed exercise</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">TIMER</span>=3</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">ACCELERATE</span>=true</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">STOP_AFTER_ERRORS</span>=1</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">CHOICES</span>=4</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">CODE</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>        let x:y = rand(20,50)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>        let z = x + y</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    Calculate <span class="dv">$ x + y = #z $</span></span></code></pre></div>
<p>Option <code>timed-X</code> enables timing. The student has
<code>X</code> seconds to give an answer.</p>
<p>Option <code>accelerate</code> decreases time per question.</p>
<p>Option <code>multi-choice-X</code> lists <code>X</code> options per
question.</p>
<p>Option <code>stop-on-error-X</code> stops asking after <code>X</code>
incorrect answers.</p></li>
</ul>
<h2 id="course-structure">Course Structure</h2>
<p>Large courses need to be structured into multiple files. We use the
following terms in the subsequent sections:</p>
<ul>
<li><code>Course</code>: an entire course, e.g. “higher math 1”.</li>
<li><code>Chapter</code>: a logical chapter of a course, e.g. “complex
numbers”.</li>
<li><code>Unit</code>: a learning unit of a chapter, e.g. “basics of
complex numbers”, “complex functions, sequences and series”.</li>
<li><code>Level</code>: a basic part of a unit, e.g. “normal form”,
“polar form”, “absolute value”.</li>
</ul>
<p>A course consists of multiple <code>*.mbl</code> files. The file
hierarchy is <code>/COURSE/CHAPTER/LEVEL_FILE.mbl</code>. Thus, each
file represents a level of the course. Units are defined in index files
(see below).</p>
<p>Example folder hierarchy for a course <em>higher math 1</em>
(<code>hm1</code>):</p>
<pre><code>hm1/course.mbl
...
hm1/cmplx/index.mbl
hm1/cmplx/start.mbl
hm1/cmplx/intro.mbl
hm1/cmplx/normal.mbl
hm1/cmplx/conj.mbl
hm1/cmplx/conj-props.mbl
hm1/cmplx/abs.mbl
hm1/cmplx/polar.mbl
...
hm1/diff/index.mbl
hm1/diff/...
...</code></pre>
<p>File <code>course.mbl</code> contains general meta data for the
course and lists all chapters.</p>
<p>Each chapter directory is organized by an index file, named
<code>index.mbl</code>. The format of index files is described in the
next section.</p>
<h2 id="level-index-files-index.mbl">Level Index Files
(<code>index.mbl</code>)</h2>
<p>An index file defines meta data for a chapter. It also lists all
files and its dependencies.</p>
<blockquote>
<p>hm1/cmplx/index.mbl</p>
</blockquote>
<div class="sourceCode" id="cb38"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>% a comment line</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="kw">TITLE</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    Complex Numbers</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="kw">AUTHOR</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    TH Koeln</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="kw">UNIT</span> Complex Basics</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>    (2,0) start                   ICON icons/start.svg</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    (1,0) gauss       !start      ICON icons/gauss.svg</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>    (3,1) normal      !start</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>    (3,2) conj        !normal</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    (4,2) conj-props  !conj</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>    (3,3) abs         !conj</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>    (2,4) polar       !abs</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a><span class="kw">UNIT</span> Complex Functions, Sequences, Series</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>    ...</span></code></pre></div>
<p>Each chapter consists of a set of units.</p>
<p>Each unit consists of a set of levels. A unit can be represented by a
(directed) graph <span class="math inline">\(G=(V,E)\)</span> with <span
class="math inline">\(V\)</span> the levels and <span
class="math inline">\(E\)</span> the dependencies between levels.</p>
<p>Each level is described by an <code>*.mbl</code> file. A level is
only playable, if all presuming levels have been passed successfully. At
least one level must have no presuming level.</p>
<p>All Levels of a unit are listed below the <code>UNIT UNIT_NAME</code>
entry. Each level is described in the form:
<code>(X,Y) A !B !C !D ...</code>.</p>
<ul>
<li><p>Coordinates <code>(X,Y)</code> describe the position of node
<span class="math inline">\(v \in V(G)\)</span>, where
<code>(0,0)</code> is interpreted as <em>top-left</em>.</p></li>
<li><p>File <code>A</code> is the level.</p></li>
<li><p>Files <code>!B</code>, <code>!C</code>, … (with
<code>!</code>-prefix) represent the requirements of <code>A</code>,
i.e. level <code>A</code> depends on levels <code>B</code>,
<code>C</code>, ….</p></li>
<li><p>Requirements for other course chapters can be denoted by relative
paths, e.g. <code>!../basics/sets</code> requires level
<code>sets.mbl</code> in chapter <code>basics</code>.</p></li>
<li><p>(Optional) Icons in SVG format can be inserted by keyword
<code>ICON</code>.</p></li>
</ul>
<p>Since all units are stored in the same file directory, prefixes to
file names may be helpful.</p>
<p>Example:</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="kw">UNIT</span> Complex Basics</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    (2,0) basics-start</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    (1,0) basics-gauss       !basics-start</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    (3,1) basics-normal      !basics-start</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="kw">UNIT</span> Complex Functions, Sequences, Series</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>    (0,0) fss-start</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
<h2 id="course-description-file-course.mbl">Course Description File
(<code>course.mbl</code>)</h2>
<p>The course description file <code>course.mbl</code> is similar
organized to level index files.</p>
<p>It mainly lists all chapters and its dependencies.</p>
<p>Example:</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode mbl"><code class="sourceCode mblsyntax"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">TITLE</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    A Short Demo Course</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="kw">AUTHOR</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    TH Koeln</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="kw">CHAPTERS</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    (0,0) basics</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    (2,0) essentials  !basics</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    (1,1) advanced    !basics !essentials</span></code></pre></div>
<p><em>Author: Andreas Schwenk, TH Köln</em></p>
<!--
# TODO

- add preview images in this document
- add links to web-simulator (not public)
- chatbot code
- repetition, ...
- indexing / glossary

-->
</body>
</html>
