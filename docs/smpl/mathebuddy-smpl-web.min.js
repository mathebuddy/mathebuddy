"use strict";var mathebuddySMPL=(()=>{var Cc=Object.create;var ln=Object.defineProperty;var Mc=Object.getOwnPropertyDescriptor;var Tc=Object.getOwnPropertyNames;var Sc=Object.getPrototypeOf,Fc=Object.prototype.hasOwnProperty;var Sr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Nc=(t,e)=>{for(var r in e)ln(t,r,{get:e[r],enumerable:!0})},Oa=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Tc(e))!Fc.call(t,i)&&i!==r&&ln(t,i,{get:()=>e[i],enumerable:!(n=Mc(e,i))||n.enumerable});return t};var xt=(t,e,r)=>(r=t!=null?Cc(Sc(t)):{},Oa(e||!t||!t.__esModule?ln(r,"default",{value:t,enumerable:!0}):r,t)),Bc=t=>Oa(ln({},"__esModule",{value:!0}),t);var za=Sr(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.getStr=br.setLanguage=br.LanguageText=br.Language=void 0;var pn;(function(t){t[t.EN=0]="EN",t[t.DE=1]="DE"})(pn=br.Language||(br.Language={}));var Dr;(function(t){t[t.EXPECTED=0]="EXPECTED",t[t.EXPECTED_ONE_OF=1]="EXPECTED_ONE_OF",t[t.CONDITION_NOT_BOOLEAN=2]="CONDITION_NOT_BOOLEAN",t[t.UNKNOWN_SYMBOL=3]="UNKNOWN_SYMBOL",t[t.SYMBOL_IS_NOT_A_FUNCTION=4]="SYMBOL_IS_NOT_A_FUNCTION",t[t.BIN_OP_INCOMPATIBLE_TYPES=5]="BIN_OP_INCOMPATIBLE_TYPES"})(Dr=br.LanguageText||(br.LanguageText={}));function Ic(t){Pa=t}br.setLanguage=Ic;function Rc(t){return Ei[t+"_"+Pa]}br.getStr=Rc;var Pa=pn.EN,Ei={};function gt(t,e){Ei[t+"_"+pn.EN]=e}function yt(t,e){Ei[t+"_"+pn.DE]=e}gt(Dr.EXPECTED,"expected");yt(Dr.EXPECTED,"erwarte");gt(Dr.EXPECTED_ONE_OF,"expected one of");yt(Dr.EXPECTED_ONE_OF,"erwarte Token aus Liste");gt(Dr.CONDITION_NOT_BOOLEAN,"condition must be boolean");yt(Dr.CONDITION_NOT_BOOLEAN,"Bedingung muss Boolsch sein");gt(Dr.UNKNOWN_SYMBOL,"unknown symbol");yt(Dr.UNKNOWN_SYMBOL,"unbekanntes Symbol");gt(Dr.SYMBOL_IS_NOT_A_FUNCTION,"symbol is not a function");yt(Dr.SYMBOL_IS_NOT_A_FUNCTION,"Symbol ist keine Funktion");gt(Dr.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP is incompatible for types $T1 and $T2");yt(Dr.BIN_OP_INCOMPATIBLE_TYPES,"Operator $OP ist inkompatibel mit den Typen $T1 und $T2")});var ka=Sr(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.LexerState=void 0;var Vt=class{constructor(){this.i=0,this.n=-1,this.row=1,this.col=1,this.indent=0,this.lastIndent=0,this.stack=[]}copy(){let e=new Vt;e.i=this.i,e.n=this.n,e.row=this.row,e.col=this.col,e.indent=this.indent,e.lastIndent=this.lastIndent;for(let r=0;r<this.stack.length;r++)e.stack.push(this.stack[r].copy());return e}};mn.LexerState=Vt});var qa=Sr(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.LexerToken=ft.LexerTokenType=void 0;var Ua;(function(t){t.DEL="DEL",t.TER="TER",t.INT="INT",t.BIGINT="BIGINT",t.REAL="REAL",t.HEX="HEX",t.STR="STR",t.ID="ID",t.END="END"})(Ua=ft.LexerTokenType||(ft.LexerTokenType={}));var Xt=class{constructor(){this.token="",this.type=Ua.TER,this.value=0,this.valueBigint=0n,this.fileID="",this.row=0,this.col=0}toString(){let e=this.token;e=e.replace(/\n/g,"\\n"),e=e.replace(/\t/g,"\\t");let r=this.fileID+":"+this.row+":"+this.col;return r+=': "'+e+'" ('+this.type+")",r}copy(){let e=new Xt;return e.token=this.token,e.type=this.type,e.value=this.value,e.fileID=this.fileID,e.row=this.row,e.col=this.col,e}};ft.LexerToken=Xt});var Va=Sr(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.Lexer=Kr.ParseError=Kr.LexerFile=void 0;var Ce=za(),Lc=ka(),le=qa(),hn=class{constructor(){this.stateBackup=null,this.tokenBackup=null,this.id="",this.sourceCode=""}};Kr.LexerFile=hn;var Qe=class extends Error{constructor(e){super(e),this.name="ParseError"}};Kr.ParseError=Qe;var wi=class{constructor(){this.terminals=new Set,this.fileStack=[],this.token=null,this.lastToken=null,this.state=null,this.singleLineCommentStart="//",this.multiLineCommentStart="/*",this.multilineCommentEnd="*/",this.emitNewline=!1,this.emitHex=!0,this.emitInt=!0,this.emitReal=!0,this.emitBigint=!0,this.emitSingleQuotes=!0,this.emitDoubleQuotes=!0,this.emitIndentation=!1,this.lexerFilePositionPrefix="!>",this.allowBackslashLineBreaks=!1,this.putTrailingSemicolon=[],this.multicharDelimiters=[]}configureSingleLineComments(e="//"){this.singleLineCommentStart=e}configureMultiLineComments(e="/*",r="*/"){this.multiLineCommentStart=e,this.multilineCommentEnd=r}configureLexerFilePositionPrefix(e="!>"){this.lexerFilePositionPrefix=e}enableEmitNewlines(e){this.emitNewline=e}enableEmitHex(e){this.emitHex=e}enableEmitInt(e){this.emitInt=e}enableEmitReal(e){this.emitReal=e}enableEmitBigint(e){this.emitBigint=e}enableEmitSingleQuotes(e){this.emitSingleQuotes=e}enableEmitDoubleQuotes(e){this.emitDoubleQuotes=e}enableEmitIndentation(e){this.emitIndentation=e}enableBackslashLineBreaks(e){this.allowBackslashLineBreaks=e}isEND(){return this.token.type===le.LexerTokenType.END}isNotEND(){return this.token.type!==le.LexerTokenType.END}END(){if(this.token.type===le.LexerTokenType.END)this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" END")}isID(){return this.token.type===le.LexerTokenType.ID}ID(){let e="";if(this.token.type===le.LexerTokenType.ID)e=this.token.token,this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" ID");return e}isLID(){return this.token.type===le.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase()}LID(){let e="";if(this.token.type===le.LexerTokenType.ID&&this.token.token===this.token.token.toLowerCase())e=this.token.token,this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" LowerCaseID");return e}isUID(){return this.token.type===le.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase()}UID(){let e="";if(this.token.type===le.LexerTokenType.ID&&this.token.token===this.token.token.toUpperCase())e=this.token.token,this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" UpperCaseID");return e}isINT(){return this.token.type===le.LexerTokenType.INT}INT(){let e=0;if(this.token.type===le.LexerTokenType.INT)e=this.token.value,this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" INT");return e}isBIGINT(){return this.token.type===le.LexerTokenType.BIGINT}BIGINT(){let e=0n;if(this.token.type===le.LexerTokenType.BIGINT)e=this.token.valueBigint,this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" BIGINT");return e}isREAL(){return this.token.type===le.LexerTokenType.REAL}REAL(){let e=0;if(this.token.type===le.LexerTokenType.REAL)e=this.token.value,this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" REAL");return e}isHEX(){return this.token.type===le.LexerTokenType.HEX}HEX(){let e="";if(this.token.type===le.LexerTokenType.HEX)e=this.token.token,this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" HEX");return e}isSTR(){return this.token.type===le.LexerTokenType.STR}STR(){let e="";if(this.token.type===le.LexerTokenType.STR)e=this.token.token,this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" STR");return e}isTER(e){return this.token.type===le.LexerTokenType.DEL&&this.token.token===e||this.token.type===le.LexerTokenType.ID&&this.token.token===e}isNotTER(e){return this.isTER(e)==!1&&this.token.type!=le.LexerTokenType.END}TER(e){if(this.token.type===le.LexerTokenType.DEL&&this.token.token===e||this.token.type===le.LexerTokenType.ID&&this.token.token===e)this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+' "'+e+'"')}isEOS(){return this.token.token===";"}EOS(){if(this.token.token===";")this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+' ";"')}isINDENT(){return this.token.type==le.LexerTokenType.DEL&&this.token.token==="	+"}isNotINDENT(){return!(this.token.type===le.LexerTokenType.DEL&&this.token.token==="	+")}INDENT(){if(this.token.type==le.LexerTokenType.DEL&&this.token.token==="	+")this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" INDENT")}isOUTDENT(){return this.token.type==le.LexerTokenType.DEL&&this.token.token==="	-"}isNotOUTDENT(){return this.token.type===le.LexerTokenType.END?!1:!(this.token.type===le.LexerTokenType.DEL&&this.token.token==="	-")}OUTDENT(){if(this.token.type==le.LexerTokenType.DEL&&this.token.token==="	-")this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" OUTDENT")}isNEWLINE(){return this.isOUTDENT()||this.token.type==le.LexerTokenType.DEL&&this.token.token===`
`}isNotNEWLINE(){return!this.isOUTDENT()&&!(this.token.type===le.LexerTokenType.DEL&&this.token.token===`
`)}NEWLINE(){if(!this.isOUTDENT())if(this.token.type==le.LexerTokenType.DEL&&this.token.token===`
`)this.next();else throw new Qe(this.err_pos()+(0,Ce.getStr)(Ce.LanguageText.EXPECTED)+" NEWLINE")}error(e,r=null){throw new Qe(this.err_pos(r)+e)}errorExpected(e){let r=(0,Ce.getStr)(Ce.LanguageText.EXPECTED_ONE_OF)+" ";for(let n=0;n<e.length;n++)n>0&&(r+=", "),r+=e[n];r+=".",this.error(r)}errorConditionNotBoolean(){this.error((0,Ce.getStr)(Ce.LanguageText.CONDITION_NOT_BOOLEAN))}errorUnknownSymbol(e){this.error((0,Ce.getStr)(Ce.LanguageText.UNKNOWN_SYMBOL)+" "+e)}errorNotAFunction(){this.error((0,Ce.getStr)(Ce.LanguageText.SYMBOL_IS_NOT_A_FUNCTION))}errorTypesInBinaryOperation(e,r,n){this.error((0,Ce.getStr)(Ce.LanguageText.BIN_OP_INCOMPATIBLE_TYPES).replace("$OP",e).replace("$T1",r).replace("$T2",n))}err_pos(e=null){return e==null&&(e=this.token),e.fileID+":"+e.row+":"+e.col+": "}addPutTrailingSemicolon(e,r=""){let n=new le.LexerToken;n.type=e,n.token=r,this.putTrailingSemicolon.push(n)}setTerminals(e){this.terminals.clear(),this.multicharDelimiters=[];for(let r of e)r.length!=0&&(r[0]>="A"&&r[0]<="Z"||r[0]>="a"&&r[0]<="z"||r[0]=="_"?this.terminals.add(r):this.multicharDelimiters.push(r));this.multicharDelimiters.sort(function(r,n){return n.length-r.length})}getTerminals(){return Array.from(this.terminals)}getMulticharDelimiters(){return this.multicharDelimiters}getToken(){return this.token}next(){this.lastToken=this.token;let e=this.fileStack.slice(-1)[0].sourceCode,r=this.fileStack.slice(-1)[0].id,n=this.state;if(n.stack.length>0){this.token=n.stack[0],n.stack.shift();return}this.token=new le.LexerToken,this.token.fileID=r,n.indent=-1;let i=!1;for(;;)if(n.i<n.n&&e[n.i]===`
`)n.indent=0,i=this.nextTokenLinefeed(n);else if(n.i<n.n&&e[n.i]===" ")n.i++,n.col++,n.indent>=0&&n.indent++;else if(n.i<n.n&&e[n.i]==="	")n.i++,n.col+=4,n.indent>=0&&(n.indent+=4);else if(this.allowBackslashLineBreaks&&n.i<n.n&&e[n.i]==="\\")for(n.i++;n.i<n.n;){if(e[n.i]==" ")n.col++;else if(e[n.i]=="	")n.col+=4;else if(e[n.i]==`
`)n.row++,n.col=1;else break;n.i++}else if(this.singleLineCommentStart.length>0&&this.isNext(this.singleLineCommentStart)){if(this.emitIndentation&&n.indent>=0)break;let f=this.singleLineCommentStart.length;for(n.i+=f,n.col+=f;n.i<n.n&&e[n.i]!=`
`;)n.i++,n.col++;n.i<n.n&&e[n.i]===`
`&&(i=this.nextTokenLinefeed(n)),n.indent=0}else if(this.multiLineCommentStart.length>0&&this.isNext(this.multiLineCommentStart)){if(this.emitIndentation&&n.indent>=0)break;let f=this.multiLineCommentStart.length;for(n.i+=f,n.col+=f;n.i<n.n&&!this.isNext(this.multilineCommentEnd);)e[n.i]===`
`?(n.row++,n.col=1,n.indent=0):n.col++,n.i++;f=this.multilineCommentEnd.length,n.i+=f,n.col+=f}else if(this.lexerFilePositionPrefix.length>0&&e.substring(n.i).startsWith(this.lexerFilePositionPrefix)){n.i+=this.lexerFilePositionPrefix.length;let f="";for(;n.i<n.n&&e[n.i]!==":";)f+=e[n.i],n.i++;n.i++,this.fileStack.slice(-1)[0].id=f,this.token.fileID=f;let l="";for(;n.i<n.n&&e[n.i]!==":";)l+=e[n.i],n.i++;n.i++,this.token.row=parseInt(l);let c="";for(;n.i<n.n&&e[n.i]!==":";)c+=e[n.i],n.i++;n.i++,this.token.col=parseInt(c)}else break;if(this.emitIndentation&&n.indent>=0){let f=n.indent-n.lastIndent;if(n.lastIndent=n.indent,f!=0)if(f%4==0){let l=f>0,c=Math.floor(Math.abs(f)/4);for(let u=0;u<c;u++)this.token=new le.LexerToken,this.token.fileID=r,this.token.row=n.row,l?this.token.col=n.col-f+4*u:this.token.col=n.col,this.token.type=le.LexerTokenType.DEL,this.token.token=l?"	+":"	-",n.stack.push(this.token);this.token=n.stack[0],n.stack.shift();return}else{this.token.row=n.row,this.token.col=n.col-f,this.token.type=le.LexerTokenType.TER,this.token.token="	err";return}}if(i)return;let o=n.copy();if(this.token.row=n.row,this.token.col=n.col,n.indent=0,n.i>=n.n){this.token.token="$end",this.token.type=le.LexerTokenType.END;return}if(this.token.type=le.LexerTokenType.ID,this.token.token="",n.i<n.n&&(e[n.i]>="A"&&e[n.i]<="Z"||e[n.i]>="a"&&e[n.i]<="z"||e[n.i]==="_"))for(this.token.token+=e[n.i],n.i++,n.col++;n.i<n.n&&(e[n.i]>="A"&&e[n.i]<="Z"||e[n.i]>="a"&&e[n.i]<="z"||e[n.i]>="0"&&e[n.i]<="9"||e[n.i]==="_");)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0){this.terminals.has(this.token.token)&&(this.token.type=le.LexerTokenType.TER),this.state=n;return}if(n=o.copy(),this.emitDoubleQuotes&&(this.token.type=le.LexerTokenType.STR,n.i<n.n&&e[n.i]==='"')){for(this.token.token="",n.i++,n.col++;n.i<n.n&&e[n.i]!='"'&&e[n.i]!=`
`;)this.token.token+=e[n.i],n.i++,n.col++;if(n.i<n.n&&e[n.i]==='"'){n.i++,n.col++,this.state=n;return}}if(n=o.copy(),this.emitSingleQuotes&&(this.token.type=le.LexerTokenType.STR,n.i<n.n&&e[n.i]==="'")){for(this.token.token="",n.i++,n.col++;n.i<n.n&&e[n.i]!="'"&&e[n.i]!=`
`;)this.token.token+=e[n.i],n.i++,n.col++;if(n.i<n.n&&e[n.i]==="'"){n.i++,n.col++,this.state=n;return}}if(n=o.copy(),this.emitHex&&(this.token.type=le.LexerTokenType.HEX,this.token.token="",n.i<n.n&&e[n.i]==="0"&&(n.i++,n.col++,n.i<n.n&&e[n.i]==="x"))){n.i++,n.col++;let f=0;for(;n.i<n.n&&(e[n.i]>="0"&&e[n.i]<="9"||e[n.i]>="A"&&e[n.i]<="F"||e[n.i]>="a"&&e[n.i]<="f");)this.token.token+=e[n.i],n.i++,n.col++,f++;if(f>0){this.token.token="0x"+this.token.token,this.token.value=parseInt(this.token.token,16),this.token.valueBigint=BigInt(this.token.token),this.state=n;return}}if(n=o.copy(),this.emitInt){if(this.token.type=le.LexerTokenType.INT,this.token.token="",n.i<n.n&&e[n.i]==="0")this.token.token="0",n.i++,n.col++;else if(n.i<n.n&&e[n.i]>="1"&&e[n.i]<="9")for(this.token.token=e[n.i],n.i++,n.col++;n.i<n.n&&e[n.i]>="0"&&e[n.i]<="9";)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0&&this.emitBigint&&n.i<n.n&&e[n.i]==="n")n.i++,n.col++,this.token.type=le.LexerTokenType.BIGINT;else if(this.token.token.length>0&&this.emitReal&&n.i<n.n&&e[n.i]===".")for(this.token.type=le.LexerTokenType.REAL,this.token.token+=".",n.i++,n.col++;n.i<n.n&&e[n.i]>="0"&&e[n.i]<="9";)this.token.token+=e[n.i],n.i++,n.col++;if(this.token.token.length>0){this.token.type===le.LexerTokenType.INT?this.token.value=parseInt(this.token.token):this.token.type===le.LexerTokenType.BIGINT?this.token.valueBigint=BigInt(this.token.token):this.token.value=parseFloat(this.token.token),this.state=n;return}}this.token.type=le.LexerTokenType.DEL,this.token.token="";for(let f=0;f<this.multicharDelimiters.length;f++){let l=this.multicharDelimiters[f],c=!0;n=o.copy();for(let u=0;u<l.length;u++){let a=l[u];if(n.i<n.n&&e[n.i]===a)n.i++,n.col++;else{c=!1;break}}if(c){this.state=n,this.token.token=l;return}}n=o.copy(),this.token.type=le.LexerTokenType.DEL,this.token.token="",n.i<n.n&&(this.token.token=e[n.i],n.i++,n.col++,this.state=n)}nextTokenLinefeed(e){let r=!1;if(this.emitNewline)this.token.row=e.row,this.token.col=e.col,this.token.token=`
`,this.token.type=le.LexerTokenType.DEL;else if(this.putTrailingSemicolon.length>0){let n=!1;for(let i of this.putTrailingSemicolon)if(i.type===this.lastToken.type&&(i.type===le.LexerTokenType.DEL?n=i.token===this.lastToken.token:n=!0,n))break;n&&(r=!0,this.token.row=e.row,this.token.col=e.col,this.token.token=";",this.token.type=le.LexerTokenType.DEL)}return e.row++,e.col=1,e.indent=0,e.i++,this.emitNewline||r}isNext(e){let r=this.fileStack.slice(-1)[0].sourceCode,n=this.state,i=e.length;if(n.i+i>=n.n)return!1;for(let o=0;o<i;o++){let f=e[o];if(r[n.i+o]!=f)return!1}return!0}pushSource(e,r){this.fileStack.length>0&&(this.fileStack.slice(-1)[0].stateBackup=this.state.copy(),this.fileStack.slice(-1)[0].tokenBackup=this.token.copy());let n=new hn;n.id=e,n.sourceCode=r,this.fileStack.push(n),this.state=new Lc.LexerState,this.state.n=r.length,this.next()}popSource(){this.fileStack.pop(),this.fileStack.length>0&&(this.state=this.fileStack.slice(-1)[0].stateBackup,this.token=this.fileStack.slice(-1)[0].tokenBackup)}backupState(){return{state:this.state.copy(),token:this.token.copy()}}replayState(e){this.state=e.state,this.token=e.token}};Kr.Lexer=wi});var bi=Sr(ct=>{"use strict";var Oc=ct&&ct.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pc=ct&&ct.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Oc(e,t,r)};Object.defineProperty(ct,"__esModule",{value:!0});Pc(Va(),ct)});var Du=Sr((Ci,Mi)=>{(function(t,e){typeof Ci=="object"&&typeof Mi<"u"?Mi.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.typed=e())})(Ci,function(){"use strict";function t(a,s){var p=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!p){if(Array.isArray(a)||(p=e(a))||s&&a&&typeof a.length=="number"){p&&(a=p);var h=0,v=function(){};return{s:v,n:function(){return h>=a.length?{done:!0}:{done:!1,value:a[h++]}},e:function(y){throw y},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,d=!1,g;return{s:function(){p=p.call(a)},n:function(){var y=p.next();return m=y.done,y},e:function(y){d=!0,g=y},f:function(){try{!m&&p.return!=null&&p.return()}finally{if(d)throw g}}}}function e(a,s){if(!!a){if(typeof a=="string")return r(a,s);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return r(a,s)}}function r(a,s){(s==null||s>a.length)&&(s=a.length);for(var p=0,h=new Array(s);p<s;p++)h[p]=a[p];return h}function n(a){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},n(a)}function i(){return!0}function o(){return!1}function f(){}var l="Argument is not a typed-function.";function c(){function a(S){return n(S)==="object"&&S!==null&&S.constructor===Object}var s=[{name:"number",test:function(R){return typeof R=="number"}},{name:"string",test:function(R){return typeof R=="string"}},{name:"boolean",test:function(R){return typeof R=="boolean"}},{name:"Function",test:function(R){return typeof R=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(R){return R instanceof Date}},{name:"RegExp",test:function(R){return R instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(R){return R===null}},{name:"undefined",test:function(R){return R===void 0}}],p={name:"any",test:i,isAny:!0},h,v,m=0,d={createCount:0};function g(S){var R=h.get(S);if(R)return R;var U='Unknown type "'+S+'"',Y=S.toLowerCase(),j,ee=t(v),ne;try{for(ee.s();!(ne=ee.n()).done;)if(j=ne.value,j.toLowerCase()===Y){U+='. Did you mean "'+j+'" ?';break}}catch(H){ee.e(H)}finally{ee.f()}throw new TypeError(U)}function D(S){for(var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",U=R?g(R).index:v.length,Y=[],j=0;j<S.length;++j){if(!S[j]||typeof S[j].name!="string"||typeof S[j].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var ee=S[j].name;if(h.has(ee))throw new TypeError('Duplicate type name "'+ee+'"');Y.push(ee),h.set(ee,{name:ee,test:S[j].test,isAny:S[j].isAny,index:U+j,conversionsTo:[]})}var ne=v.slice(U);v=v.slice(0,U).concat(Y).concat(ne);for(var H=U+Y.length;H<v.length;++H)h.get(v[H]).index=H}function y(){h=new Map,v=[],m=0,D([p],!1)}y(),D(s);function w(){var S,R=t(v),U;try{for(R.s();!(U=R.n()).done;)S=U.value,h.get(S).conversionsTo=[]}catch(Y){R.e(Y)}finally{R.f()}m=0}function b(S){var R=v.filter(function(U){var Y=h.get(U);return!Y.isAny&&Y.test(S)});return R.length?R:["any"]}function x(S){return S&&typeof S=="function"&&"_typedFunctionData"in S}function A(S,R,U){if(!x(S))throw new TypeError(l);var Y=U&&U.exact,j=Array.isArray(R)?R.join(","):R,ee=O(j),ne=E(ee);if(!Y||ne in S.signatures){var H=S._typedFunctionData.signatureMap.get(ne);if(H)return H}var re=ee.length,he;if(Y){he=[];var _e;for(_e in S.signatures)he.push(S._typedFunctionData.signatureMap.get(_e))}else he=S._typedFunctionData.signatures;for(var oe=0;oe<re;++oe){var ar=ee[oe],He=[],nr=void 0,Ze=t(he),pr;try{for(Ze.s();!(pr=Ze.n()).done;){nr=pr.value;var $e=q(nr.params,oe);if(!(!$e||ar.restParam&&!$e.restParam)){if(!$e.hasAny){var wr=function(){var mr=L($e);if(ar.types.some(function(st){return!mr.has(st.name)}))return"continue"}();if(wr==="continue")continue}He.push(nr)}}}catch(mr){Ze.e(mr)}finally{Ze.f()}if(he=He,he.length===0)break}var ur,sr=t(he),ut;try{for(sr.s();!(ut=sr.n()).done;)if(ur=ut.value,ur.params.length<=re)return ur}catch(mr){sr.e(mr)}finally{sr.f()}throw new TypeError("Signature not found (signature: "+(S.name||"unnamed")+"("+E(ee,", ")+"))")}function C(S,R,U){return A(S,R,U).implementation}function _(S,R){var U=g(R);if(U.test(S))return S;var Y=U.conversionsTo;if(Y.length===0)throw new Error("There are no conversions to "+R+" defined.");for(var j=0;j<Y.length;j++){var ee=g(Y[j].from);if(ee.test(S))return Y[j].convert(S)}throw new Error("Cannot convert "+S+" to "+R)}function E(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return S.map(function(U){return U.name}).join(R)}function T(S){var R=S.indexOf("...")===0,U=R?S.length>3?S.slice(3):"any":S,Y=U.split("|").map(function(H){return g(H.trim())}),j=!1,ee=R?"...":"",ne=Y.map(function(H){return j=H.isAny||j,ee+=H.name+"|",{name:H.name,typeIndex:H.index,test:H.test,isAny:H.isAny,conversion:null,conversionIndex:-1}});return{types:ne,name:ee.slice(0,-1),hasAny:j,hasConversion:!1,restParam:R}}function M(S){var R=S.types.map(function(ne){return ne.name}),U=K(R),Y=S.hasAny,j=S.name,ee=U.map(function(ne){var H=g(ne.from);return Y=H.isAny||Y,j+="|"+ne.from,{name:ne.from,typeIndex:H.index,test:H.test,isAny:H.isAny,conversion:ne,conversionIndex:ne.index}});return{types:S.types.concat(ee),name:j,hasAny:Y,hasConversion:ee.length>0,restParam:S.restParam}}function L(S){return S.typeSet||(S.typeSet=new Set,S.types.forEach(function(R){return S.typeSet.add(R.name)})),S.typeSet}function O(S){var R=[];if(typeof S!="string")throw new TypeError("Signatures must be strings");var U=S.trim();if(U==="")return R;for(var Y=U.split(","),j=0;j<Y.length;++j){var ee=T(Y[j].trim());if(ee.restParam&&j!==Y.length-1)throw new SyntaxError('Unexpected rest parameter "'+Y[j]+'": only allowed for the last parameter');if(ee.types.length===0)return null;R.push(ee)}return R}function I(S){var R=Ee(S);return R?R.restParam:!1}function F(S){if(!S||S.types.length===0)return i;if(S.types.length===1)return g(S.types[0].name).test;if(S.types.length===2){var R=g(S.types[0].name).test,U=g(S.types[1].name).test;return function(ee){return R(ee)||U(ee)}}else{var Y=S.types.map(function(j){return g(j.name).test});return function(ee){for(var ne=0;ne<Y.length;ne++)if(Y[ne](ee))return!0;return!1}}}function Z(S){var R,U,Y;if(I(S)){R=ce(S).map(F);var j=R.length,ee=F(Ee(S)),ne=function(re){for(var he=j;he<re.length;he++)if(!ee(re[he]))return!1;return!0};return function(re){for(var he=0;he<R.length;he++)if(!R[he](re[he]))return!1;return ne(re)&&re.length>=j+1}}else return S.length===0?function(re){return re.length===0}:S.length===1?(U=F(S[0]),function(re){return U(re[0])&&re.length===1}):S.length===2?(U=F(S[0]),Y=F(S[1]),function(re){return U(re[0])&&Y(re[1])&&re.length===2}):(R=S.map(F),function(re){for(var he=0;he<R.length;he++)if(!R[he](re[he]))return!1;return re.length===R.length})}function q(S,R){return R<S.length?S[R]:I(S)?Ee(S):null}function N(S,R){var U=q(S,R);return U?L(U):new Set}function B(S){return S.conversion===null||S.conversion===void 0}function k(S,R){var U=new Set;return S.forEach(function(Y){var j=N(Y.params,R),ee,ne=t(j),H;try{for(ne.s();!(H=ne.n()).done;)ee=H.value,U.add(ee)}catch(re){ne.e(re)}finally{ne.f()}}),U.has("any")?["any"]:Array.from(U)}function W(S,R,U){var Y,j,ee=S||"unnamed",ne=U,H,re=function(){var Ze=[];if(ne.forEach(function($e){var wr=q($e.params,H),ur=F(wr);(H<$e.params.length||I($e.params))&&ur(R[H])&&Ze.push($e)}),Ze.length===0){if(j=k(ne,H),j.length>0){var pr=b(R[H]);return Y=new TypeError("Unexpected type of argument in function "+ee+" (expected: "+j.join(" or ")+", actual: "+pr.join(" | ")+", index: "+H+")"),Y.data={category:"wrongType",fn:ee,index:H,actual:pr,expected:j},{v:Y}}}else ne=Ze};for(H=0;H<R.length;H++){var he=re();if(n(he)==="object")return he.v}var _e=ne.map(function(nr){return I(nr.params)?1/0:nr.params.length});if(R.length<Math.min.apply(null,_e))return j=k(ne,H),Y=new TypeError("Too few arguments in function "+ee+" (expected: "+j.join(" or ")+", index: "+R.length+")"),Y.data={category:"tooFewArgs",fn:ee,index:R.length,expected:j},Y;var oe=Math.max.apply(null,_e);if(R.length>oe)return Y=new TypeError("Too many arguments in function "+ee+" (expected: "+oe+", actual: "+R.length+")"),Y.data={category:"tooManyArgs",fn:ee,index:R.length,expectedLength:oe},Y;for(var ar=[],He=0;He<R.length;++He)ar.push(b(R[He]).join("|"));return Y=new TypeError('Arguments of type "'+ar.join(", ")+'" do not match any of the defined signatures of function '+ee+"."),Y.data={category:"mismatch",actual:ar},Y}function V(S){for(var R=v.length+1,U=0;U<S.types.length;U++)B(S.types[U])&&(R=Math.min(R,S.types[U].typeIndex));return R}function z(S){for(var R=m+1,U=0;U<S.types.length;U++)B(S.types[U])||(R=Math.min(R,S.types[U].conversionIndex));return R}function G(S,R){if(S.hasAny){if(!R.hasAny)return 1}else if(R.hasAny)return-1;if(S.restParam){if(!R.restParam)return 1}else if(R.restParam)return-1;if(S.hasConversion){if(!R.hasConversion)return 1}else if(R.hasConversion)return-1;var U=V(S)-V(R);if(U<0)return-1;if(U>0)return 1;var Y=z(S)-z(R);return Y<0?-1:Y>0?1:0}function Q(S,R){var U=S.params,Y=R.params,j=Ee(U),ee=Ee(Y),ne=I(U),H=I(Y);if(ne&&j.hasAny){if(!H||!ee.hasAny)return 1}else if(H&&ee.hasAny)return-1;var re=0,he=0,_e,oe=t(U),ar;try{for(oe.s();!(ar=oe.n()).done;)_e=ar.value,_e.hasAny&&++re,_e.hasConversion&&++he}catch(kt){oe.e(kt)}finally{oe.f()}var He=0,nr=0,Ze=t(Y),pr;try{for(Ze.s();!(pr=Ze.n()).done;)_e=pr.value,_e.hasAny&&++He,_e.hasConversion&&++nr}catch(kt){Ze.e(kt)}finally{Ze.f()}if(re!==He)return re-He;if(ne&&j.hasConversion){if(!H||!ee.hasConversion)return 1}else if(H&&ee.hasConversion)return-1;if(he!==nr)return he-nr;if(ne){if(!H)return 1}else if(H)return-1;var $e=(U.length-Y.length)*(ne?-1:1);if($e!==0)return $e;for(var wr=[],ur=0,sr=0;sr<U.length;++sr){var ut=G(U[sr],Y[sr]);wr.push(ut),ur+=ut}if(ur!==0)return ur;for(var mr,st=0,sn=wr;st<sn.length;st++)if(mr=sn[st],mr!==0)return mr;return 0}function K(S){if(S.length===0)return[];var R=S.map(g);S.length>1&&R.sort(function(re,he){return re.index-he.index});var U=R[0].conversionsTo;if(S.length===1)return U;U=U.concat([]);for(var Y=new Set(S),j=1;j<R.length;++j){var ee=void 0,ne=t(R[j].conversionsTo),H;try{for(ne.s();!(H=ne.n()).done;)ee=H.value,Y.has(ee.from)||(U.push(ee),Y.add(ee.from))}catch(re){ne.e(re)}finally{ne.f()}}return U}function te(S,R){var U=R;if(S.some(function(H){return H.hasConversion})){var Y=I(S),j=S.map(ie);U=function(){for(var re=[],he=Y?arguments.length-1:arguments.length,_e=0;_e<he;_e++)re[_e]=j[_e](arguments[_e]);return Y&&(re[he]=arguments[he].map(j[he])),R.apply(this,re)}}var ee=U;if(I(S)){var ne=S.length-1;ee=function(){return U.apply(this,Ne(arguments,0,ne).concat([Ne(arguments,ne)]))}}return ee}function ie(S){var R,U,Y,j,ee=[],ne=[];switch(S.types.forEach(function(H){H.conversion&&(ee.push(g(H.conversion.from).test),ne.push(H.conversion.convert))}),ne.length){case 0:return function(re){return re};case 1:return R=ee[0],Y=ne[0],function(re){return R(re)?Y(re):re};case 2:return R=ee[0],U=ee[1],Y=ne[0],j=ne[1],function(re){return R(re)?Y(re):U(re)?j(re):re};default:return function(re){for(var he=0;he<ne.length;he++)if(ee[he](re))return ne[he](re);return re}}}function $(S){function R(U,Y,j){if(Y<U.length){var ee=U[Y],ne=[];if(ee.restParam){var H=ee.types.filter(B);H.length<ee.types.length&&ne.push({types:H,name:"..."+H.map(function(re){return re.name}).join("|"),hasAny:H.some(function(re){return re.isAny}),hasConversion:!1,restParam:!0}),ne.push(ee)}else ne=ee.types.map(function(re){return{types:[re],name:re.name,hasAny:re.isAny,hasConversion:re.conversion,restParam:!1}});return Xe(ne,function(re){return R(U,Y+1,j.concat([re]))})}else return[j]}return R(S,0,[])}function ye(S,R){for(var U=Math.max(S.length,R.length),Y=0;Y<U;Y++){var j=N(S,Y),ee=N(R,Y),ne=!1,H=void 0,re=t(ee),he;try{for(re.s();!(he=re.n()).done;)if(H=he.value,j.has(H)){ne=!0;break}}catch(nr){re.e(nr)}finally{re.f()}if(!ne)return!1}var _e=S.length,oe=R.length,ar=I(S),He=I(R);return ar?He?_e===oe:oe>=_e:He?_e>=oe:_e===oe}function me(S){return S.map(function(R){return Zr(R)?tr(R.referToSelf.callback):Rr(R)?Er(R.referTo.references,R.referTo.callback):R})}function ae(S,R,U){var Y=[],j,ee=t(S),ne;try{for(ee.s();!(ne=ee.n()).done;){j=ne.value;var H=U[j];if(typeof H!="number")throw new TypeError('No definition for referenced signature "'+j+'"');if(H=R[H],typeof H!="function")return!1;Y.push(H)}}catch(re){ee.e(re)}finally{ee.f()}return Y}function se(S,R,U){for(var Y=me(S),j=new Array(Y.length).fill(!1),ee=!0;ee;){ee=!1;for(var ne=!0,H=0;H<Y.length;++H)if(!j[H]){var re=Y[H];if(Zr(re))Y[H]=re.referToSelf.callback(U),Y[H].referToSelf=re.referToSelf,j[H]=!0,ne=!1;else if(Rr(re)){var he=ae(re.referTo.references,Y,R);he?(Y[H]=re.referTo.callback.apply(this,he),Y[H].referTo=re.referTo,j[H]=!0,ne=!1):ee=!0}}if(ne&&ee)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Y}function De(S){var R=/\bthis(\(|\.signatures\b)/;Object.keys(S).forEach(function(U){var Y=S[U];if(R.test(Y.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ae(S,R){if(d.createCount++,Object.keys(R).length===0)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&De(R);var U=[],Y=[],j={},ee=[],ne,H=function(){if(!Object.prototype.hasOwnProperty.call(R,ne))return"continue";var We=O(ne);if(!We)return"continue";U.forEach(function(dt){if(ye(dt,We))throw new TypeError('Conflicting signatures "'+E(dt)+'" and "'+E(We)+'".')}),U.push(We);var Ia=Y.length;Y.push(R[ne]);var _c=We.map(M),fn=void 0,cn=t($(_c)),Ra;try{for(cn.s();!(Ra=cn.n()).done;){fn=Ra.value;var La=E(fn);ee.push({params:fn,name:La,fn:Ia}),fn.every(function(dt){return!dt.hasConversion})&&(j[La]=Ia)}}catch(dt){cn.e(dt)}finally{cn.f()}};for(ne in R)var re=H();ee.sort(Q);var he=se(Y,j,qt),_e;for(_e in j)Object.prototype.hasOwnProperty.call(j,_e)&&(j[_e]=he[j[_e]]);for(var oe=[],ar=new Map,He=0,nr=ee;He<nr.length;He++)_e=nr[He],ar.has(_e.name)||(_e.fn=he[_e.fn],oe.push(_e),ar.set(_e.name,_e));for(var Ze=oe[0]&&oe[0].params.length<=2&&!I(oe[0].params),pr=oe[1]&&oe[1].params.length<=2&&!I(oe[1].params),$e=oe[2]&&oe[2].params.length<=2&&!I(oe[2].params),wr=oe[3]&&oe[3].params.length<=2&&!I(oe[3].params),ur=oe[4]&&oe[4].params.length<=2&&!I(oe[4].params),sr=oe[5]&&oe[5].params.length<=2&&!I(oe[5].params),ut=Ze&&pr&&$e&&wr&&ur&&sr,mr=0;mr<oe.length;++mr)oe[mr].test=Z(oe[mr].params);for(var st=Ze?F(oe[0].params[0]):o,sn=pr?F(oe[1].params[0]):o,kt=$e?F(oe[2].params[0]):o,jf=wr?F(oe[3].params[0]):o,ec=ur?F(oe[4].params[0]):o,rc=sr?F(oe[5].params[0]):o,tc=Ze?F(oe[0].params[1]):o,nc=pr?F(oe[1].params[1]):o,ic=$e?F(oe[2].params[1]):o,oc=wr?F(oe[3].params[1]):o,ac=ur?F(oe[4].params[1]):o,uc=sr?F(oe[5].params[1]):o,Ut=0;Ut<oe.length;++Ut)oe[Ut].implementation=te(oe[Ut].params,oe[Ut].fn);var sc=Ze?oe[0].implementation:f,fc=pr?oe[1].implementation:f,cc=$e?oe[2].implementation:f,lc=wr?oe[3].implementation:f,pc=ur?oe[4].implementation:f,mc=sr?oe[5].implementation:f,hc=Ze?oe[0].params.length:-1,vc=pr?oe[1].params.length:-1,dc=$e?oe[2].params.length:-1,xc=wr?oe[3].params.length:-1,gc=ur?oe[4].params.length:-1,yc=sr?oe[5].params.length:-1,Dc=ut?6:0,Ec=oe.length,wc=oe.map(function(yr){return yr.test}),bc=oe.map(function(yr){return yr.implementation}),Ac=function(){for(var We=Dc;We<Ec;We++)if(wc[We](arguments))return bc[We].apply(this,arguments);return d.onMismatch(S,arguments,oe)};function qt(yr,We){return arguments.length===hc&&st(yr)&&tc(We)?sc.apply(this,arguments):arguments.length===vc&&sn(yr)&&nc(We)?fc.apply(this,arguments):arguments.length===dc&&kt(yr)&&ic(We)?cc.apply(this,arguments):arguments.length===xc&&jf(yr)&&oc(We)?lc.apply(this,arguments):arguments.length===gc&&ec(yr)&&ac(We)?pc.apply(this,arguments):arguments.length===yc&&rc(yr)&&uc(We)?mc.apply(this,arguments):Ac.apply(this,arguments)}try{Object.defineProperty(qt,"name",{value:S})}catch{}return qt.signatures=j,qt._typedFunctionData={signatures:oe,signatureMap:ar},qt}function Te(S,R,U){throw W(S,R,U)}function ce(S){return Ne(S,0,S.length-1)}function Ee(S){return S[S.length-1]}function Ne(S,R,U){return Array.prototype.slice.call(S,R,U)}function Ve(S,R){for(var U=0;U<S.length;U++)if(R(S[U]))return S[U]}function Xe(S,R){return Array.prototype.concat.apply([],S.map(R))}function lr(){var S=ce(arguments).map(function(U){return E(O(U))}),R=Ee(arguments);if(typeof R!="function")throw new TypeError("Callback function expected as last argument");return Er(S,R)}function Er(S,R){return{referTo:{references:S,callback:R}}}function tr(S){if(typeof S!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:S}}}function Rr(S){return S&&n(S.referTo)==="object"&&Array.isArray(S.referTo.references)&&typeof S.referTo.callback=="function"}function Zr(S){return S&&n(S.referToSelf)==="object"&&typeof S.referToSelf.callback=="function"}function zt(S,R){if(!S)return R;if(R&&R!==S){var U=new Error("Function names do not match (expected: "+S+", actual: "+R+")");throw U.data={actual:R,expected:S},U}return S}function Gr(S){var R;for(var U in S)Object.prototype.hasOwnProperty.call(S,U)&&(x(S[U])||typeof S[U].signature=="string")&&(R=zt(R,S[U].name));return R}function un(S,R){var U;for(U in R)if(Object.prototype.hasOwnProperty.call(R,U)){if(U in S&&R[U]!==S[U]){var Y=new Error('Signature "'+U+'" is defined twice');throw Y.data={signature:U,sourceFunction:R[U],destFunction:S[U]},Y}S[U]=R[U]}}var Di=d;d=function(R){for(var U=typeof R=="string",Y=U?1:0,j=U?R:"",ee={},ne=Y;ne<arguments.length;++ne){var H=arguments[ne],re={},he=void 0;if(typeof H=="function"?(he=H.name,typeof H.signature=="string"?re[H.signature]=H:x(H)&&(re=H.signatures)):a(H)&&(re=H,U||(he=Gr(H))),Object.keys(re).length===0){var _e=new TypeError("Argument to 'typed' at index "+ne+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw _e.data={index:ne,argument:H},_e}U||(j=zt(j,he)),un(ee,re)}return Ae(j||"",ee)},d.create=c,d.createCount=Di.createCount,d.onMismatch=Te,d.throwMismatchError=Te,d.createError=W,d.clear=y,d.clearConversions=w,d.addTypes=D,d._findType=g,d.referTo=lr,d.referToSelf=tr,d.convert=_,d.findSignature=A,d.find=C,d.isTypedFunction=x,d.warnAgainstDeprecatedThis=!0,d.addType=function(S,R){var U="any";R!==!1&&h.has("Object")&&(U="Object"),d.addTypes([S],U)};function vt(S){if(!S||typeof S.from!="string"||typeof S.to!="string"||typeof S.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(S.to===S.from)throw new SyntaxError('Illegal to define conversion from "'+S.from+'" to itself.')}return d.addConversion=function(S){vt(S);var R=g(S.to);if(R.conversionsTo.every(function(U){return U.from!==S.from}))R.conversionsTo.push({from:S.from,convert:S.convert,index:m++});else throw new Error('There is already a conversion from "'+S.from+'" to "'+R.name+'"')},d.addConversions=function(S){S.forEach(d.addConversion)},d.removeConversion=function(S){vt(S);var R=g(S.to),U=Ve(R.conversionsTo,function(j){return j.from===S.from});if(!U)throw new Error("Attempt to remove nonexistent conversion from "+S.from+" to "+S.to);if(U.convert!==S.convert)throw new Error("Conversion to remove does not match existing conversion");var Y=R.conversionsTo.indexOf(U);R.conversionsTo.splice(Y,1)},d.resolve=function(S,R){if(!x(S))throw new TypeError(l);for(var U=S._typedFunctionData.signatures,Y=0;Y<U.length;++Y)if(U[Y].test(R))return U[Y];return null},d}var u=c();return u})});var os=Sr((Gi,is)=>{(function(t){"use strict";var e=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},r=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},n=function(u){var a=Math.PI/4;if(-a>u||u>a)return Math.cos(u)-1;var s=u*u;return s*(s*(s*(s*(s*(s*(s*(s/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(u,a){var s=Math.abs(u),p=Math.abs(a);return s<3e3&&p<3e3?Math.sqrt(s*s+p*p):(s<p?(s=p,p=u/a):p=a/u,s*Math.sqrt(1+p*p))},o=function(){throw SyntaxError("Invalid Param")};function f(u,a){var s=Math.abs(u),p=Math.abs(a);return u===0?Math.log(p):a===0?Math.log(s):s<3e3&&p<3e3?Math.log(u*u+a*a)*.5:(u=u/2,a=a/2,.5*Math.log(u*u+a*a)+Math.LN2)}var l=function(u,a){var s={re:0,im:0};if(u==null)s.re=s.im=0;else if(a!==void 0)s.re=u,s.im=a;else switch(typeof u){case"object":if("im"in u&&"re"in u)s.re=u.re,s.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return c.INFINITY;s.re=u.abs*Math.cos(u.arg),s.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return c.INFINITY;s.re=u.r*Math.cos(u.phi),s.im=u.r*Math.sin(u.phi)}else u.length===2?(s.re=u[0],s.im=u[1]):o();break;case"string":s.im=s.re=0;var p=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,v=0;p===null&&o();for(var m=0;m<p.length;m++){var d=p[m];d===" "||d==="	"||d===`
`||(d==="+"?h++:d==="-"?v++:d==="i"||d==="I"?(h+v===0&&o(),p[m+1]!==" "&&!isNaN(p[m+1])?(s.im+=parseFloat((v%2?"-":"")+p[m+1]),m++):s.im+=parseFloat((v%2?"-":"")+"1"),h=v=0):((h+v===0||isNaN(d))&&o(),p[m+1]==="i"||p[m+1]==="I"?(s.im+=parseFloat((v%2?"-":"")+d),m++):s.re+=parseFloat((v%2?"-":"")+d),h=v=0))}h+v>0&&o();break;case"number":s.im=0,s.re=u;break;default:o()}return isNaN(s.re)||isNaN(s.im),s};function c(u,a){if(!(this instanceof c))return new c(u,a);var s=l(u,a);this.re=s.re,this.im=s.im}c.prototype={re:0,im:0,sign:function(){var u=this.abs();return new c(this.re/u,this.im/u)},add:function(u,a){var s=new c(u,a);return this.isInfinite()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:new c(this.re+s.re,this.im+s.im)},sub:function(u,a){var s=new c(u,a);return this.isInfinite()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:new c(this.re-s.re,this.im-s.im)},mul:function(u,a){var s=new c(u,a);return this.isInfinite()&&s.isZero()||this.isZero()&&s.isInfinite()?c.NAN:this.isInfinite()||s.isInfinite()?c.INFINITY:s.im===0&&this.im===0?new c(this.re*s.re,0):new c(this.re*s.re-this.im*s.im,this.re*s.im+this.im*s.re)},div:function(u,a){var s=new c(u,a);if(this.isZero()&&s.isZero()||this.isInfinite()&&s.isInfinite())return c.NAN;if(this.isInfinite()||s.isZero())return c.INFINITY;if(this.isZero()||s.isInfinite())return c.ZERO;u=this.re,a=this.im;var p=s.re,h=s.im,v,m;return h===0?new c(u/p,a/p):Math.abs(p)<Math.abs(h)?(m=p/h,v=p*m+h,new c((u*m+a)/v,(a*m-u)/v)):(m=h/p,v=h*m+p,new c((u+a*m)/v,(a-u*m)/v))},pow:function(u,a){var s=new c(u,a);if(u=this.re,a=this.im,s.isZero())return c.ONE;if(s.im===0){if(a===0&&u>0)return new c(Math.pow(u,s.re),0);if(u===0)switch((s.re%4+4)%4){case 0:return new c(Math.pow(a,s.re),0);case 1:return new c(0,Math.pow(a,s.re));case 2:return new c(-Math.pow(a,s.re),0);case 3:return new c(0,-Math.pow(a,s.re))}}if(u===0&&a===0&&s.re>0&&s.im>=0)return c.ZERO;var p=Math.atan2(a,u),h=f(u,a);return u=Math.exp(s.re*h-s.im*p),a=s.im*h+s.re*p,new c(u*Math.cos(a),u*Math.sin(a))},sqrt:function(){var u=this.re,a=this.im,s=this.abs(),p,h;if(u>=0){if(a===0)return new c(Math.sqrt(u),0);p=.5*Math.sqrt(2*(s+u))}else p=Math.abs(a)/Math.sqrt(2*(s-u));return u<=0?h=.5*Math.sqrt(2*(s-u)):h=Math.abs(a)/Math.sqrt(2*(s+u)),new c(p,a<0?-h:h)},exp:function(){var u=Math.exp(this.re);return this.im,new c(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,a=this.im;return new c(Math.expm1(u)*Math.cos(a)+n(a),Math.exp(u)*Math.sin(a))},log:function(){var u=this.re,a=this.im;return a===0&&u>0,new c(f(u,a),Math.atan2(a,u))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,a=this.im;return new c(Math.sin(u)*e(a),Math.cos(u)*r(a))},cos:function(){var u=this.re,a=this.im;return new c(Math.cos(u)*e(a),-Math.sin(u)*r(a))},tan:function(){var u=2*this.re,a=2*this.im,s=Math.cos(u)+e(a);return new c(Math.sin(u)/s,r(a)/s)},cot:function(){var u=2*this.re,a=2*this.im,s=Math.cos(u)-e(a);return new c(-Math.sin(u)/s,r(a)/s)},sec:function(){var u=this.re,a=this.im,s=.5*e(2*a)+.5*Math.cos(2*u);return new c(Math.cos(u)*e(a)/s,Math.sin(u)*r(a)/s)},csc:function(){var u=this.re,a=this.im,s=.5*e(2*a)-.5*Math.cos(2*u);return new c(Math.sin(u)*e(a)/s,-Math.cos(u)*r(a)/s)},asin:function(){var u=this.re,a=this.im,s=new c(a*a-u*u+1,-2*u*a).sqrt(),p=new c(s.re-a,s.im+u).log();return new c(p.im,-p.re)},acos:function(){var u=this.re,a=this.im,s=new c(a*a-u*u+1,-2*u*a).sqrt(),p=new c(s.re-a,s.im+u).log();return new c(Math.PI/2-p.im,p.re)},atan:function(){var u=this.re,a=this.im;if(u===0){if(a===1)return new c(0,1/0);if(a===-1)return new c(0,-1/0)}var s=u*u+(1-a)*(1-a),p=new c((1-a*a-u*u)/s,-2*u/s).log();return new c(-.5*p.im,.5*p.re)},acot:function(){var u=this.re,a=this.im;if(a===0)return new c(Math.atan2(1,u),0);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).atan():new c(u!==0?u/0:0,a!==0?-a/0:0).atan()},asec:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(0,1/0);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).acos():new c(u!==0?u/0:0,a!==0?-a/0:0).acos()},acsc:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(Math.PI/2,1/0);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).asin():new c(u!==0?u/0:0,a!==0?-a/0:0).asin()},sinh:function(){var u=this.re,a=this.im;return new c(r(u)*Math.cos(a),e(u)*Math.sin(a))},cosh:function(){var u=this.re,a=this.im;return new c(e(u)*Math.cos(a),r(u)*Math.sin(a))},tanh:function(){var u=2*this.re,a=2*this.im,s=e(u)+Math.cos(a);return new c(r(u)/s,Math.sin(a)/s)},coth:function(){var u=2*this.re,a=2*this.im,s=e(u)-Math.cos(a);return new c(r(u)/s,-Math.sin(a)/s)},csch:function(){var u=this.re,a=this.im,s=Math.cos(2*a)-e(2*u);return new c(-2*r(u)*Math.cos(a)/s,2*e(u)*Math.sin(a)/s)},sech:function(){var u=this.re,a=this.im,s=Math.cos(2*a)+e(2*u);return new c(2*e(u)*Math.cos(a)/s,-2*r(u)*Math.sin(a)/s)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var a=this.asin();return this.re=-this.im,this.im=u,u=a.re,a.re=-a.im,a.im=u,a},acosh:function(){var u=this.acos();if(u.im<=0){var a=u.re;u.re=-u.im,u.im=a}else{var a=u.im;u.im=-u.re,u.re=a}return u},atanh:function(){var u=this.re,a=this.im,s=u>1&&a===0,p=1-u,h=1+u,v=p*p+a*a,m=v!==0?new c((h*p-a*a)/v,(a*p+h*a)/v):new c(u!==-1?u/0:0,a!==0?a/0:0),d=m.re;return m.re=f(m.re,m.im)/2,m.im=Math.atan2(m.im,d)/2,s&&(m.im=-m.im),m},acoth:function(){var u=this.re,a=this.im;if(u===0&&a===0)return new c(0,Math.PI/2);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).atanh():new c(u!==0?u/0:0,a!==0?-a/0:0).atanh()},acsch:function(){var u=this.re,a=this.im;if(a===0)return new c(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var s=u*u+a*a;return s!==0?new c(u/s,-a/s).asinh():new c(u!==0?u/0:0,a!==0?-a/0:0).asinh()},asech:function(){var u=this.re,a=this.im;if(this.isZero())return c.INFINITY;var s=u*u+a*a;return s!==0?new c(u/s,-a/s).acosh():new c(u!==0?u/0:0,a!==0?-a/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var u=this.re,a=this.im,s=u*u+a*a;return new c(u/s,-a/s)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new c(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new c(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new c(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,a){var s=new c(u,a);return Math.abs(s.re-this.re)<=c.EPSILON&&Math.abs(s.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var u=this.re,a=this.im,s="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<c.EPSILON&&(u=0),Math.abs(a)<c.EPSILON&&(a=0),a===0?s+u:(u!==0?(s+=u,s+=" ",a<0?(a=-a,s+="-"):s+="+",s+=" "):a<0&&(a=-a,s+="-"),a!==1&&(s+=a),s+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return c}):typeof Gi=="object"?(Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,is.exports=c):t.Complex=c})(Gi)});var us=Sr((Qi,as)=>{(function(t){"use strict";var e=2e3,r={s:1,n:0,d:1};function n(p,h){if(isNaN(p=parseInt(p,10)))throw s.InvalidParameter;return p*h}function i(p,h){if(h===0)throw s.DivisionByZero;var v=Object.create(s.prototype);v.s=p<0?-1:1,p=p<0?-p:p;var m=a(p,h);return v.n=p/m,v.d=h/m,v}function o(p){for(var h={},v=p,m=2,d=4;d<=v;){for(;v%m===0;)v/=m,h[m]=(h[m]||0)+1;d+=1+2*m++}return v!==p?v>1&&(h[v]=(h[v]||0)+1):h[p]=(h[p]||0)+1,h}var f=function(p,h){var v=0,m=1,d=1,g=0,D=0,y=0,w=1,b=1,x=0,A=1,C=1,_=1,E=1e7,T;if(p!=null)if(h!==void 0){if(v=p,m=h,d=v*m,v%1!==0||m%1!==0)throw s.NonIntegerParameter}else switch(typeof p){case"object":{if("d"in p&&"n"in p)v=p.n,m=p.d,"s"in p&&(v*=p.s);else if(0 in p)v=p[0],1 in p&&(m=p[1]);else throw s.InvalidParameter;d=v*m;break}case"number":{if(p<0&&(d=p,p=-p),p%1===0)v=p;else if(p>0){for(p>=1&&(b=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=b);A<=E&&_<=E;)if(T=(x+C)/(A+_),p===T){A+_<=E?(v=x+C,m=A+_):_>A?(v=C,m=_):(v=x,m=A);break}else p>T?(x+=C,A+=_):(C+=x,_+=A),A>E?(v=C,m=_):(v=x,m=A);v*=b}else(isNaN(p)||isNaN(h))&&(m=v=NaN);break}case"string":{if(A=p.match(/\d+|./g),A===null)throw s.InvalidParameter;if(A[x]==="-"?(d=-1,x++):A[x]==="+"&&x++,A.length===x+1?D=n(A[x++],d):A[x+1]==="."||A[x]==="."?(A[x]!=="."&&(g=n(A[x++],d)),x++,(x+1===A.length||A[x+1]==="("&&A[x+3]===")"||A[x+1]==="'"&&A[x+3]==="'")&&(D=n(A[x],d),w=Math.pow(10,A[x].length),x++),(A[x]==="("&&A[x+2]===")"||A[x]==="'"&&A[x+2]==="'")&&(y=n(A[x+1],d),b=Math.pow(10,A[x+1].length)-1,x+=3)):A[x+1]==="/"||A[x+1]===":"?(D=n(A[x],d),w=n(A[x+2],1),x+=3):A[x+3]==="/"&&A[x+1]===" "&&(g=n(A[x],d),D=n(A[x+2],d),w=n(A[x+4],1),x+=5),A.length<=x){m=w*b,d=v=y+m*g+b*D;break}}default:throw s.InvalidParameter}if(m===0)throw s.DivisionByZero;r.s=d<0?-1:1,r.n=Math.abs(v),r.d=Math.abs(m)};function l(p,h,v){for(var m=1;h>0;p=p*p%v,h>>=1)h&1&&(m=m*p%v);return m}function c(p,h){for(;h%2===0;h/=2);for(;h%5===0;h/=5);if(h===1)return 0;for(var v=10%h,m=1;v!==1;m++)if(v=v*10%h,m>e)return 0;return m}function u(p,h,v){for(var m=1,d=l(10,v,h),g=0;g<300;g++){if(m===d)return g;m=m*10%h,d=d*10%h}return 0}function a(p,h){if(!p)return h;if(!h)return p;for(;;){if(p%=h,!p)return h;if(h%=p,!h)return p}}function s(p,h){if(f(p,h),this instanceof s)p=a(r.d,r.n),this.s=r.s,this.n=r.n/p,this.d=r.d/p;else return i(r.s*r.n,r.d)}s.DivisionByZero=new Error("Division by Zero"),s.InvalidParameter=new Error("Invalid argument"),s.NonIntegerParameter=new Error("Parameters must be integer"),s.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(p,h){return f(p,h),i(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(p,h){return f(p,h),i(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(p,h){return f(p,h),i(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(p,h){return f(p,h),i(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(p,h){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(p===void 0)return i(this.s*this.n%this.d,1);if(f(p,h),r.n===0&&this.d===0)throw s.DivisionByZero;return i(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(p,h){return f(p,h),i(a(r.n,this.n)*a(r.d,this.d),r.d*this.d)},lcm:function(p,h){return f(p,h),r.n===0&&this.n===0?i(0,1):i(r.n*this.n,a(r.n,this.n)*a(r.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):i(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(p,h){if(f(p,h),r.d===1)return r.s<0?i(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):i(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var v=o(this.n),m=o(this.d),d=1,g=1;for(var D in v)if(D!=="1"){if(D==="0"){d=0;break}if(v[D]*=r.n,v[D]%r.d===0)v[D]/=r.d;else return null;d*=Math.pow(D,v[D])}for(var D in m)if(D!=="1"){if(m[D]*=r.n,m[D]%r.d===0)m[D]/=r.d;else return null;g*=Math.pow(D,m[D])}return r.s<0?i(g,d):i(d,g)},equals:function(p,h){return f(p,h),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(p,h){f(p,h);var v=this.s*this.n*r.d-r.s*r.n*this.d;return(0<v)-(v<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var h=this.abs(),v=h.toContinued(),m=1;m<v.length;m++){for(var d=i(v[m-1],1),g=m-2;g>=0;g--)d=d.inverse().add(v[g]);if(d.sub(h).abs().valueOf()<p)return d.mul(this.s)}return this},divisible:function(p,h){return f(p,h),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var h,v="",m=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=m:(p&&(h=Math.floor(m/d))>0&&(v+=h,v+=" ",m%=d),v+=m,v+="/",v+=d),v},toLatex:function(p){var h,v="",m=this.n,d=this.d;return this.s<0&&(v+="-"),d===1?v+=m:(p&&(h=Math.floor(m/d))>0&&(v+=h,m%=d),v+="\\frac{",v+=m,v+="}{",v+=d,v+="}"),v},toContinued:function(){var p,h=this.n,v=this.d,m=[];if(isNaN(h)||isNaN(v))return m;do m.push(Math.floor(h/v)),p=h%v,h=v,v=p;while(h!==1);return m},toString:function(p){var h=this.n,v=this.d;if(isNaN(h)||isNaN(v))return"NaN";p=p||15;var m=c(h,v),d=u(h,v,m),g=this.s<0?"-":"";if(g+=h/v|0,h%=v,h*=10,h&&(g+="."),m){for(var D=d;D--;)g+=h/v|0,h%=v,h*=10;g+="(";for(var D=m;D--;)g+=h/v|0,h%=v,h*=10;g+=")"}else for(var D=p;h&&D--;)g+=h/v|0,h%=v,h*=10;return g}},typeof define=="function"&&define.amd?define([],function(){return s}):typeof Qi=="object"?(Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,as.exports=s):t.Fraction=s})(Qi)});var Nf=Sr(pi=>{"use strict";pi.byteLength=W0;pi.toByteArray=j0;pi.fromByteArray=th;var Vr=[],Tr=[],H0=typeof Uint8Array<"u"?Uint8Array:Array,Da="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(mt=0,Sf=Da.length;mt<Sf;++mt)Vr[mt]=Da[mt],Tr[Da.charCodeAt(mt)]=mt;var mt,Sf;Tr["-".charCodeAt(0)]=62;Tr["_".charCodeAt(0)]=63;function Ff(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function W0(t){var e=Ff(t),r=e[0],n=e[1];return(r+n)*3/4-n}function K0(t,e,r){return(e+r)*3/4-r}function j0(t){var e,r=Ff(t),n=r[0],i=r[1],o=new H0(K0(t,n,i)),f=0,l=i>0?n-4:n,c;for(c=0;c<l;c+=4)e=Tr[t.charCodeAt(c)]<<18|Tr[t.charCodeAt(c+1)]<<12|Tr[t.charCodeAt(c+2)]<<6|Tr[t.charCodeAt(c+3)],o[f++]=e>>16&255,o[f++]=e>>8&255,o[f++]=e&255;return i===2&&(e=Tr[t.charCodeAt(c)]<<2|Tr[t.charCodeAt(c+1)]>>4,o[f++]=e&255),i===1&&(e=Tr[t.charCodeAt(c)]<<10|Tr[t.charCodeAt(c+1)]<<4|Tr[t.charCodeAt(c+2)]>>2,o[f++]=e>>8&255,o[f++]=e&255),o}function eh(t){return Vr[t>>18&63]+Vr[t>>12&63]+Vr[t>>6&63]+Vr[t&63]}function rh(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(eh(n));return i.join("")}function th(t){for(var e,r=t.length,n=r%3,i=[],o=16383,f=0,l=r-n;f<l;f+=o)i.push(rh(t,f,f+o>l?l:f+o));return n===1?(e=t[r-1],i.push(Vr[e>>2]+Vr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Vr[e>>10]+Vr[e>>4&63]+Vr[e<<2&63]+"=")),i.join("")}});var Bf=Sr(Ea=>{Ea.read=function(t,e,r,n,i){var o,f,l=i*8-n-1,c=(1<<l)-1,u=c>>1,a=-7,s=r?i-1:0,p=r?-1:1,h=t[e+s];for(s+=p,o=h&(1<<-a)-1,h>>=-a,a+=l;a>0;o=o*256+t[e+s],s+=p,a-=8);for(f=o&(1<<-a)-1,o>>=-a,a+=n;a>0;f=f*256+t[e+s],s+=p,a-=8);if(o===0)o=1-u;else{if(o===c)return f?NaN:(h?-1:1)*(1/0);f=f+Math.pow(2,n),o=o-u}return(h?-1:1)*f*Math.pow(2,o-n)};Ea.write=function(t,e,r,n,i,o){var f,l,c,u=o*8-i-1,a=(1<<u)-1,s=a>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,v=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,f=a):(f=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-f))<1&&(f--,c*=2),f+s>=1?e+=p/c:e+=p*Math.pow(2,1-s),e*c>=2&&(f++,c/=2),f+s>=a?(l=0,f=a):f+s>=1?(l=(e*c-1)*Math.pow(2,i),f=f+s):(l=e*Math.pow(2,s-1)*Math.pow(2,i),f=0));i>=8;t[r+h]=l&255,h+=v,l/=256,i-=8);for(f=f<<i|l,u+=i;u>0;t[r+h]=f&255,h+=v,f/=256,u-=8);t[r+h-v]|=m*128}});var Jf=Sr(Pt=>{"use strict";var wa=Nf(),Lt=Bf(),If=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Pt.Buffer=X;Pt.SlowBuffer=sh;Pt.INSPECT_MAX_BYTES=50;var mi=2147483647;Pt.kMaxLength=mi;X.TYPED_ARRAY_SUPPORT=nh();!X.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function nh(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(X.prototype,"parent",{enumerable:!0,get:function(){if(!!X.isBuffer(this))return this.buffer}});Object.defineProperty(X.prototype,"offset",{enumerable:!0,get:function(){if(!!X.isBuffer(this))return this.byteOffset}});function Wr(t){if(t>mi)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,X.prototype),e}function X(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ca(t)}return Pf(t,e,r)}X.poolSize=8192;function Pf(t,e,r){if(typeof t=="string")return oh(t,e);if(ArrayBuffer.isView(t))return ah(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Xr(t,ArrayBuffer)||t&&Xr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xr(t,SharedArrayBuffer)||t&&Xr(t.buffer,SharedArrayBuffer)))return Aa(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return X.from(n,e,r);let i=uh(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return X.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}X.from=function(t,e,r){return Pf(t,e,r)};Object.setPrototypeOf(X.prototype,Uint8Array.prototype);Object.setPrototypeOf(X,Uint8Array);function zf(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function ih(t,e,r){return zf(t),t<=0?Wr(t):e!==void 0?typeof r=="string"?Wr(t).fill(e,r):Wr(t).fill(e):Wr(t)}X.alloc=function(t,e,r){return ih(t,e,r)};function Ca(t){return zf(t),Wr(t<0?0:Ma(t)|0)}X.allocUnsafe=function(t){return Ca(t)};X.allocUnsafeSlow=function(t){return Ca(t)};function oh(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!X.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=kf(t,e)|0,n=Wr(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function ba(t){let e=t.length<0?0:Ma(t.length)|0,r=Wr(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function ah(t){if(Xr(t,Uint8Array)){let e=new Uint8Array(t);return Aa(e.buffer,e.byteOffset,e.byteLength)}return ba(t)}function Aa(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,X.prototype),n}function uh(t){if(X.isBuffer(t)){let e=Ma(t.length)|0,r=Wr(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Sa(t.length)?Wr(0):ba(t);if(t.type==="Buffer"&&Array.isArray(t.data))return ba(t.data)}function Ma(t){if(t>=mi)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+mi.toString(16)+" bytes");return t|0}function sh(t){return+t!=t&&(t=0),X.alloc(+t)}X.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==X.prototype};X.compare=function(e,r){if(Xr(e,Uint8Array)&&(e=X.from(e,e.offset,e.byteLength)),Xr(r,Uint8Array)&&(r=X.from(r,r.offset,r.byteLength)),!X.isBuffer(e)||!X.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,f=Math.min(n,i);o<f;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};X.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};X.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return X.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=X.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let f=e[n];if(Xr(f,Uint8Array))o+f.length>i.length?(X.isBuffer(f)||(f=X.from(f)),f.copy(i,o)):Uint8Array.prototype.set.call(i,f,o);else if(X.isBuffer(f))f.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=f.length}return i};function kf(t,e){if(X.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Xr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return _a(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Yf(t).length;default:if(i)return n?-1:_a(t).length;e=(""+e).toLowerCase(),i=!0}}X.byteLength=kf;function fh(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return yh(this,e,r);case"utf8":case"utf-8":return qf(this,e,r);case"ascii":return xh(this,e,r);case"latin1":case"binary":return gh(this,e,r);case"base64":return vh(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dh(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}X.prototype._isBuffer=!0;function ht(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}X.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)ht(this,r,r+1);return this};X.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)ht(this,r,r+3),ht(this,r+1,r+2);return this};X.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)ht(this,r,r+7),ht(this,r+1,r+6),ht(this,r+2,r+5),ht(this,r+3,r+4);return this};X.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?qf(this,0,e):fh.apply(this,arguments)};X.prototype.toLocaleString=X.prototype.toString;X.prototype.equals=function(e){if(!X.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:X.compare(this,e)===0};X.prototype.inspect=function(){let e="",r=Pt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};If&&(X.prototype[If]=X.prototype.inspect);X.prototype.compare=function(e,r,n,i,o){if(Xr(e,Uint8Array)&&(e=X.from(e,e.offset,e.byteLength)),!X.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let f=o-i,l=n-r,c=Math.min(f,l),u=this.slice(i,o),a=e.slice(r,n);for(let s=0;s<c;++s)if(u[s]!==a[s]){f=u[s],l=a[s];break}return f<l?-1:l<f?1:0};function Uf(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Sa(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=X.from(e,n)),X.isBuffer(e))return e.length===0?-1:Rf(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Rf(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Rf(t,e,r,n,i){let o=1,f=t.length,l=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,f/=2,l/=2,r/=2}function c(a,s){return o===1?a[s]:a.readUInt16BE(s*o)}let u;if(i){let a=-1;for(u=r;u<f;u++)if(c(t,u)===c(e,a===-1?0:u-a)){if(a===-1&&(a=u),u-a+1===l)return a*o}else a!==-1&&(u-=u-a),a=-1}else for(r+l>f&&(r=f-l),u=r;u>=0;u--){let a=!0;for(let s=0;s<l;s++)if(c(t,u+s)!==c(e,s)){a=!1;break}if(a)return u}return-1}X.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};X.prototype.indexOf=function(e,r,n){return Uf(this,e,r,n,!0)};X.prototype.lastIndexOf=function(e,r,n){return Uf(this,e,r,n,!1)};function ch(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let f;for(f=0;f<n;++f){let l=parseInt(e.substr(f*2,2),16);if(Sa(l))return f;t[r+f]=l}return f}function lh(t,e,r,n){return hi(_a(e,t.length-r),t,r,n)}function ph(t,e,r,n){return hi(Ah(e),t,r,n)}function mh(t,e,r,n){return hi(Yf(e),t,r,n)}function hh(t,e,r,n){return hi(_h(e,t.length-r),t,r,n)}X.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let f=!1;for(;;)switch(i){case"hex":return ch(this,e,r,n);case"utf8":case"utf-8":return lh(this,e,r,n);case"ascii":case"latin1":case"binary":return ph(this,e,r,n);case"base64":return mh(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hh(this,e,r,n);default:if(f)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}};X.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function vh(t,e,r){return e===0&&r===t.length?wa.fromByteArray(t):wa.fromByteArray(t.slice(e,r))}function qf(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],f=null,l=o>239?4:o>223?3:o>191?2:1;if(i+l<=r){let c,u,a,s;switch(l){case 1:o<128&&(f=o);break;case 2:c=t[i+1],(c&192)===128&&(s=(o&31)<<6|c&63,s>127&&(f=s));break;case 3:c=t[i+1],u=t[i+2],(c&192)===128&&(u&192)===128&&(s=(o&15)<<12|(c&63)<<6|u&63,s>2047&&(s<55296||s>57343)&&(f=s));break;case 4:c=t[i+1],u=t[i+2],a=t[i+3],(c&192)===128&&(u&192)===128&&(a&192)===128&&(s=(o&15)<<18|(c&63)<<12|(u&63)<<6|a&63,s>65535&&s<1114112&&(f=s))}}f===null?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|f&1023),n.push(f),i+=l}return dh(n)}var Lf=4096;function dh(t){let e=t.length;if(e<=Lf)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Lf));return r}function xh(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function gh(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function yh(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=Ch[t[o]];return i}function Dh(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}X.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,X.prototype),i};function Je(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}X.prototype.readUintLE=X.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Je(e,r,this.length);let i=this[e],o=1,f=0;for(;++f<r&&(o*=256);)i+=this[e+f]*o;return i};X.prototype.readUintBE=X.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Je(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};X.prototype.readUint8=X.prototype.readUInt8=function(e,r){return e=e>>>0,r||Je(e,1,this.length),this[e]};X.prototype.readUint16LE=X.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Je(e,2,this.length),this[e]|this[e+1]<<8};X.prototype.readUint16BE=X.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Je(e,2,this.length),this[e]<<8|this[e+1]};X.prototype.readUint32LE=X.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Je(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};X.prototype.readUint32BE=X.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Je(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};X.prototype.readBigUInt64LE=at(function(e){e=e>>>0,Ot(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&an(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});X.prototype.readBigUInt64BE=at(function(e){e=e>>>0,Ot(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&an(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});X.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Je(e,r,this.length);let i=this[e],o=1,f=0;for(;++f<r&&(o*=256);)i+=this[e+f]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};X.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Je(e,r,this.length);let i=r,o=1,f=this[e+--i];for(;i>0&&(o*=256);)f+=this[e+--i]*o;return o*=128,f>=o&&(f-=Math.pow(2,8*r)),f};X.prototype.readInt8=function(e,r){return e=e>>>0,r||Je(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};X.prototype.readInt16LE=function(e,r){e=e>>>0,r||Je(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};X.prototype.readInt16BE=function(e,r){e=e>>>0,r||Je(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};X.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Je(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};X.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Je(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};X.prototype.readBigInt64LE=at(function(e){e=e>>>0,Ot(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&an(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});X.prototype.readBigInt64BE=at(function(e){e=e>>>0,Ot(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&an(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});X.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Je(e,4,this.length),Lt.read(this,e,!0,23,4)};X.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Je(e,4,this.length),Lt.read(this,e,!1,23,4)};X.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Je(e,8,this.length),Lt.read(this,e,!0,52,8)};X.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Je(e,8,this.length),Lt.read(this,e,!1,52,8)};function gr(t,e,r,n,i,o){if(!X.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}X.prototype.writeUintLE=X.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let l=Math.pow(2,8*n)-1;gr(this,e,r,n,l,0)}let o=1,f=0;for(this[r]=e&255;++f<n&&(o*=256);)this[r+f]=e/o&255;return r+n};X.prototype.writeUintBE=X.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let l=Math.pow(2,8*n)-1;gr(this,e,r,n,l,0)}let o=n-1,f=1;for(this[r+o]=e&255;--o>=0&&(f*=256);)this[r+o]=e/f&255;return r+n};X.prototype.writeUint8=X.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,1,255,0),this[r]=e&255,r+1};X.prototype.writeUint16LE=X.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};X.prototype.writeUint16BE=X.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};X.prototype.writeUint32LE=X.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};X.prototype.writeUint32BE=X.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Vf(t,e,r,n,i){Qf(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let f=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=f,f=f>>8,t[r++]=f,f=f>>8,t[r++]=f,f=f>>8,t[r++]=f,r}function Xf(t,e,r,n,i){Qf(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let f=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=f,f=f>>8,t[r+2]=f,f=f>>8,t[r+1]=f,f=f>>8,t[r]=f,r+8}X.prototype.writeBigUInt64LE=at(function(e,r=0){return Vf(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});X.prototype.writeBigUInt64BE=at(function(e,r=0){return Xf(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});X.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);gr(this,e,r,n,c-1,-c)}let o=0,f=1,l=0;for(this[r]=e&255;++o<n&&(f*=256);)e<0&&l===0&&this[r+o-1]!==0&&(l=1),this[r+o]=(e/f>>0)-l&255;return r+n};X.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let c=Math.pow(2,8*n-1);gr(this,e,r,n,c-1,-c)}let o=n-1,f=1,l=0;for(this[r+o]=e&255;--o>=0&&(f*=256);)e<0&&l===0&&this[r+o+1]!==0&&(l=1),this[r+o]=(e/f>>0)-l&255;return r+n};X.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};X.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};X.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};X.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};X.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||gr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};X.prototype.writeBigInt64LE=at(function(e,r=0){return Vf(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});X.prototype.writeBigInt64BE=at(function(e,r=0){return Xf(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Zf(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Gf(t,e,r,n,i){return e=+e,r=r>>>0,i||Zf(t,e,r,4,34028234663852886e22,-34028234663852886e22),Lt.write(t,e,r,n,23,4),r+4}X.prototype.writeFloatLE=function(e,r,n){return Gf(this,e,r,!0,n)};X.prototype.writeFloatBE=function(e,r,n){return Gf(this,e,r,!1,n)};function $f(t,e,r,n,i){return e=+e,r=r>>>0,i||Zf(t,e,r,8,17976931348623157e292,-17976931348623157e292),Lt.write(t,e,r,n,52,8),r+8}X.prototype.writeDoubleLE=function(e,r,n){return $f(this,e,r,!0,n)};X.prototype.writeDoubleBE=function(e,r,n){return $f(this,e,r,!1,n)};X.prototype.copy=function(e,r,n,i){if(!X.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};X.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!X.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let f=e.charCodeAt(0);(i==="utf8"&&f<128||i==="latin1")&&(e=f)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let f=X.isBuffer(e)?e:X.from(e,i),l=f.length;if(l===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=f[o%l]}return this};var Rt={};function Ta(t,e,r){Rt[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Ta("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Ta("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Ta("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Of(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Of(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Of(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Eh(t,e,r){Ot(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&an(e,t.length-(r+1))}function Qf(t,e,r,n,i,o){if(t>r||t<e){let f=typeof e=="bigint"?"n":"",l;throw o>3?e===0||e===BigInt(0)?l=`>= 0${f} and < 2${f} ** ${(o+1)*8}${f}`:l=`>= -(2${f} ** ${(o+1)*8-1}${f}) and < 2 ** ${(o+1)*8-1}${f}`:l=`>= ${e}${f} and <= ${r}${f}`,new Rt.ERR_OUT_OF_RANGE("value",l,t)}Eh(n,i,o)}function Ot(t,e){if(typeof t!="number")throw new Rt.ERR_INVALID_ARG_TYPE(e,"number",t)}function an(t,e,r){throw Math.floor(t)!==t?(Ot(t,r),new Rt.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Rt.ERR_BUFFER_OUT_OF_BOUNDS:new Rt.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var wh=/[^+/0-9A-Za-z-_]/g;function bh(t){if(t=t.split("=")[0],t=t.trim().replace(wh,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function _a(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let f=0;f<n;++f){if(r=t.charCodeAt(f),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(f+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Ah(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function _h(t,e){let r,n,i,o=[];for(let f=0;f<t.length&&!((e-=2)<0);++f)r=t.charCodeAt(f),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Yf(t){return wa.toByteArray(bh(t))}function hi(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Xr(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Sa(t){return t!==t}var Ch=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function at(t){return typeof BigInt>"u"?Mh:t}function Mh(){throw new Error("BigInt not supported")}});var Fh={};Nc(Fh,{code:()=>yi,interpret:()=>Sh});var Xa=xt(bi());var fr=class{constructor(e="INT"){this.base="INT";this.base=e}clone(){let e=new fr;return e.base=this.base,e}toString(){return""+this.base}},cr=class{constructor(e=""){this.str="";this.tmp="";this.str=e}},Zt=class{constructor(){this.type=new fr;this.code=new cr;this.sym=null}};var Lr=class{constructor(e,r,n,i,o=[]){this.id="";this.kind="LOCAL";this.type=new fr;this.scope=0;this.runtimeId="";this.subSymbols=[];this.functionOverloadSuccessor=null;this.value=null;this.id=e,this.kind=r,this.type=n,this.scope=i,this.subSymbols=o}toString(){let e="SYM";if(e+=',id="'+this.id+'"',e+=',kind="'+this.kind+'"',e+=',type="'+this.type.toString()+'"',e+=',scope="'+this.scope+'"',e+=',runtimeId="'+this.runtimeId+'"',this.subSymbols.length>0){e+=`,subSymbols=[
`;for(let r=0;r<this.subSymbols.length;r++)e+="  "+this.subSymbols[r].toString();e+="]"}return e+=`
`,e}};function Ai(t,e){if(e==="VOID")return"VOID";if(e==="ID")return"ID";if(e==="BOOL")return"BOOL";if(e==="INT")return"INT";if(e==="REAL")return"REAL";if(e==="COMPLEX")return"COMPLEX";if(e==="VECTOR")return"VECTOR";if(e==="MATRIX")return"MATRIX";if(e==="TERM")return"TERM";if(e==="TERM_VAR")return"TERM_VAR";if(e==="SET_INT")return"INT_SET";if(e==="SET_REAL")return"REAL_SET";if(e==="SET_COMPLEX")return"COMPLEX_SET";if(e==="INT_LIST")return"INT_LIST";if(e==="REAL_LIST")return"REAL_LIST";if(e==="COMPLEX_LIST")return"COMPLEX_LIST";if(e==="VECTOR_LIST")return"VECTOR_LIST";if(e==="FIGURE_2D")return"FIGURE_2D";if(e==="STRING")return"STRING";t.error("unknown base type "+e)}function Za(t){let e=new Xa.Lexer;e.configureSingleLineComments("#"),e.configureMultiLineComments("",""),e.enableEmitNewlines(!1),e.enableEmitIndentation(!1),e.enableBackslashLineBreaks(!1),e.setTerminals(["->"]),e.pushSource("PROTOTYPES",t);let r=[];for(;e.isNotEND();){let n=e.ID(),i=[],o=[];if(e.isTER("<")){e.next();let h=0;for(;e.isNotTER(">");)h>0&&e.TER(","),i.push(e.ID()),e.TER(":"),o.push(Ai(e,e.ID())),h++;e.TER(">")}let f=[],l=[];e.TER("(");let c=0;for(;e.isNotTER(")");)c>0&&e.TER(","),f.push(e.ID()),e.TER(":"),l.push(Ai(e,e.ID())),c++;e.TER(")"),e.TER(":");let u=Ai(e,e.ID());e.TER("->");let a=e.ID();e.TER("."),a+="."+e.ID(),e.TER(";");let s=[];for(let h=0;h<i.length;h++){let v=new Lr(i[h],"DIMENSION",new fr(o[h]),1,[]);s.push(v)}for(let h=0;h<f.length;h++){let v=new Lr(f[h],"PARAMETER",new fr(l[h]),1,[]);s.push(v)}let p=new Lr(n,"FUNCTION",new fr(u),0,s);p.runtimeId=a;for(let h=r.length-1;h>=0;h--)if(r[h].id===n){r[h].functionOverloadSuccessor=p;break}r.push(p)}return r}var Dt=class extends Error{constructor(e){super(e),this.name="VectorError"}},qe=class{constructor(e){this.size=1;this.values=[];this.size=e,this.values=new Array(e).fill(0)}getSize(){return this.size}setValue(e,r){this.values[e]=r}getValue(e){return this.values[e]}static vector2list(e){return e.clone().values}clone(){let e=new qe(this.size);return e.values=[...this.values],e}toString(){let e="[";for(let r=0;r<this.size;r++)r>0&&(e+=","),e+=this.getValue(r);return e+="]",e}static add(e,r){if(e.size!=r.size)throw new Dt("dimensions do not match");let n=e.clone();for(let i=0;i<r.size;i++)n.values[i]+=r.values[i];return n}static sub(e,r){if(e.size!=r.size)throw new Dt("dimensions do not match");let n=e.clone();for(let i=0;i<r.size;i++)n.values[i]-=r.values[i];return n}mul(e){let r=this.clone();for(let n=0;n<r.size;n++)r.values[n]*=e;return r}static dot(e,r){if(e.size!=r.size)throw new Dt("dimensions do not match");let n=0;for(let i=0;i<r.size;i++)n+=e.values[i]*r.values[i];return n}static cross(e,r){if(e.size!=3||r.size!=3)throw new Dt("vector length must be 3");let n=new qe(3);return n.values[0]=e.values[1]*r.values[2]-e.values[2]*r.values[1],n.values[1]=e.values[2]*r.values[0]-e.values[0]*r.values[2],n.values[2]=e.values[0]*r.values[1]-e.values[1]*r.values[0],n}norm2(){let e=0;for(let r=0;r<this.size;r++)e+=this.values[r]*this.values[r];return Math.sqrt(e)}is_zero(e=1e-9){for(let r=0;r<this.size;r++)if(Math.abs(this.getValue(r))>e)return!1;return!0}};var vn=class{constructor(e){this.parent=null;this.parent=e}_create(e,r){let n=new qe(e),i=0;for(let o=0;o<e;o++)n.setValue(o,r[i++]);return n}_clone(e){return e.clone()}_getElement(e,r,n){if(r<0||r>=e.getSize())throw new Se(n,"vector has "+e.getSize()+" elements. Cannot get element "+r);return e.getValue(r)}_setElement(e,r,n,i){if(r<0||r>=e.getSize())throw new Se(i,"vector has "+e.getSize()+" element. Cannot get element "+r);e.setValue(r,n)}_addVectors(e,r,n){if(e.getSize()!=r.getSize())throw new Se(n,"dimensions do not match");return qe.add(e,r)}_subVectors(e,r,n){if(e.getSize()!=r.getSize())throw new Se(n,"dimensions do not match");return qe.sub(e,r)}_mulScalarVector(e,r){return r.mul(e)}_dotVectors(e,r,n){if(e.getSize()!=r.getSize())throw new Se(n,"dimensions do not match");return qe.dot(e,r)}_crossVectors(e,r,n){if(e.getSize()!=3||r.getSize()!=3)throw new Se(n,"vector length must be 3");return qe.cross(e,r)}_norm2vec(e){return e.norm2()}_zerosVector(e){let r=new qe(e);for(let n=0;n<e;n++)r.setValue(n,0);return r}_randVector(e,r,n){let i=new qe(e);for(let o=0;o<e;o++)i.setValue(o,this.parent.interpret_basic._randIntMinMax(r,n));return i}_randZVector(e,r,n){let i=new qe(e);for(let o=0;o<e;o++)i.setValue(o,this.parent.interpret_basic._randIntMinMaxZ(r,n));return i}_isVectorZero(e){return e.is_zero(1e-9)}};function lt(){return lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lt.apply(this,arguments)}var _i={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Ie(t){return typeof t=="number"}function ke(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function Gt(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function $t(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function dn(t){return t&&t.constructor.prototype.isUnit===!0||!1}function ir(t){return typeof t=="string"}var Fe=Array.isArray;function be(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function $r(t){return Array.isArray(t)||be(t)}function xn(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function gn(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function yn(t){return t&&t.constructor.prototype.isRange===!0||!1}function Et(t){return t&&t.constructor.prototype.isIndex===!0||!1}function Ga(t){return typeof t=="boolean"}function $a(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function Qa(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Ya(t){return typeof t=="function"}function Ja(t){return t instanceof Date}function Ha(t){return t instanceof RegExp}function Wa(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Gt(t)&&!$t(t))}function Ka(t){return t===null}function ja(t){return t===void 0}function eu(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function ru(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function tu(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function nu(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function iu(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function ou(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function au(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function uu(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function su(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function fu(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function cu(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function lu(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function pu(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function mu(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function hu(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function vu(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function du(t){return t&&t.constructor.prototype.isChain===!0||!1}function Ke(t){var e=typeof t;return e==="object"?t===null?"null":ke(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function de(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return de(r)});if(t instanceof Date)return new Date(t.valueOf());if(ke(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return zc(t,de)}function zc(t,e){var r={};for(var n in t)bt(t,n)&&(r[n]=e(t[n]));return r}function Dn(t,e){for(var r in e)bt(e,r)&&(t[r]=e[r]);return t}function wt(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!wt(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!wt(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function bt(t,e){return t&&Object.hasOwnProperty.call(t,e)}function xu(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],o=t[i];o!==void 0&&(r[i]=o)}return r}var gu=["Matrix","Array"],yu=["number","BigNumber","Fraction"];var je=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(_i)};lt(je,_i,{MATRIX_OPTIONS:gu,NUMBER_OPTIONS:yu});var Li=xt(Du(),1);function xe(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var Eu=Math.sign||function(t){return t>0?1:t<0?-1:0},wu=Math.log2||function(e){return Math.log(e)/Math.LN2},bu=Math.log10||function(e){return Math.log(e)/Math.LN10},Au=Math.log1p||function(t){return Math.log(t+1)},_u=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},Cu=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Ti(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],o="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!xe(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!xe(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),o="i".concat(r)}var f="";return t<0&&(t=-t,f="-"),"".concat(f).concat(i).concat(t.toString(e)).concat(o)}function Qt(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r="auto",n,i;if(e&&(e.notation&&(r=e.notation),Ie(e)?n=e:Ie(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return Mu(t,n);case"exponential":return Tu(t,n);case"engineering":return kc(t,n);case"bin":return Ti(t,2,i);case"oct":return Ti(t,8,i);case"hex":return Ti(t,16,i);case"auto":return Uc(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],f=arguments[4];return o!=="."?o+f:f});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function En(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),o=n.indexOf(".");i+=o!==-1?o-1:n.length-1;var f=n.replace(".","").replace(/^0*/,function(l){return i-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return f.length===0&&(f.push(0),i++),{sign:r,coefficients:f,exponent:i}}function kc(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=En(t),n=wn(r,e),i=n.exponent,o=n.coefficients,f=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Ie(e))for(;e>o.length||i-f+1>o.length;)o.push(0);else for(var l=Math.abs(i-f)-(o.length-1),c=0;c<l;c++)o.push(0);for(var u=Math.abs(i-f),a=1;u>0;)a++,u--;var s=o.slice(a).join(""),p=Ie(e)&&s.length||s.match(/[1-9]/)?"."+s:"",h=o.slice(0,a).join("")+p+"e"+(i>=0?"+":"")+f.toString();return n.sign+h}function Mu(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=En(t),n=typeof e=="number"?wn(r,r.exponent+1+e):r,i=n.coefficients,o=n.exponent+1,f=o+(e||0);return i.length<f&&(i=i.concat(At(f-i.length))),o<0&&(i=At(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),n.sign+i.join("")}function Tu(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=En(t),n=e?wn(r,e):r,i=n.coefficients,o=n.exponent;i.length<e&&(i=i.concat(At(e-i.length)));var f=i.shift();return n.sign+f+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function Uc(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,i=r&&r.upperExp!==void 0?r.upperExp:5,o=En(t),f=e?wn(o,e):o;if(f.exponent<n||f.exponent>=i)return Tu(t,e);var l=f.coefficients,c=f.exponent;l.length<e&&(l=l.concat(At(e-l.length))),l=l.concat(At(c-l.length+1+(l.length<e?e-l.length:0))),l=At(-c).concat(l);var u=c>0?c:0;return u<l.length-1&&l.splice(u+1,0,"."),f.sign+l.join("")}function wn(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var o=e-1;for(n[o]++;n[o]===10;)n.pop(),o===0&&(n.unshift(0),r.exponent++,o++),o--,n[o]++}}return r}function At(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function Su(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var qc=Number.EPSILON||2220446049250313e-31;function hr(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<qc?!0:n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}function Si(t,e,r){var n=t.constructor,i=new n(2),o="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!xe(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),o="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(o);case 8:return"".concat(t.toOctal()).concat(o);case 16:return"".concat(t.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function Nu(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",n,i;if(e!==void 0&&(e.notation&&(r=e.notation),typeof e=="number"?n=e:e.precision&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return Xc(t,n);case"exponential":return Fu(t,n);case"engineering":return Vc(t,n);case"bin":return Si(t,2,i);case"oct":return Si(t,8,i);case"hex":return Si(t,16,i);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,f=e&&e.upperExp!==void 0?e.upperExp:5;if(t.isZero())return"0";var l,c=t.toSignificantDigits(n),u=c.e;return u>=o&&u<f?l=c.toFixed():l=Fu(t,n),l.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Vc(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),o=i.toPrecision(e);return o.indexOf("e")!==-1&&(o=i.toString()),o+"e"+(r>=0?"+":"")+n.toString()}function Fu(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function Xc(t,e){return t.toFixed(e)}function Be(t,e){var r=Zc(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function Zc(t,e){if(typeof t=="number")return Qt(t,e);if(ke(t))return Nu(t,e);if(Gc(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return Bu(t,e);if(ir(t))return'"'+t+'"';if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>'"'+n+'": '+Be(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function Bu(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Bu(t[i],e);return r+="]",r}else return Be(t,e)}function Gc(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function Me(t,e,r){if(!(this instanceof Me))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Me.prototype=new RangeError;Me.prototype.constructor=RangeError;Me.prototype.name="DimensionError";Me.prototype.isDimensionError=!0;function Qr(t,e,r){if(!(this instanceof Qr))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Qr.prototype=new RangeError;Qr.prototype.constructor=RangeError;Qr.prototype.name="IndexError";Qr.prototype.isIndexError=!0;function ze(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Iu(t,e,r){var n,i=t.length;if(i!==e[r])throw new Me(i,e[r]);if(r<e.length-1){var o=r+1;for(n=0;n<i;n++){var f=t[n];if(!Array.isArray(f))throw new Me(e.length-1,e.length,"<");Iu(t[n],e,o)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new Me(e.length+1,e.length,">")}function Ni(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new Me(t.length,0)}else Iu(t,e,0)}function Oe(t,e){if(!Ie(t)||!xe(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Qr(t,e)}function pt(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!Ie(i)||!xe(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Be(e)+")")});var n=r!==void 0?r:0;return Fi(t,e,0,n),t}function Fi(t,e,r,n){var i,o,f=t.length,l=e[r],c=Math.min(f,l);if(t.length=l,r<e.length-1){var u=r+1;for(i=0;i<c;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),Fi(o,e,u,n);for(i=c;i<l;i++)o=[],t[i]=o,Fi(o,e,u,n)}else{for(i=0;i<c;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=c;i<l;i++)t[i]=n}}function Ru(t,e){var r=An(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Me(0,n,"!=");e=Yt(e,n);var i=Lu(e);if(n!==i)throw new Me(i,n,"!=");try{return $c(r,e)}catch(o){throw o instanceof Me?new Me(i,n,"!="):o}}function Yt(t,e){var r=Lu(t),n=t.slice(),i=-1,o=t.indexOf(i),f=t.indexOf(i,o+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var l=o>=0,c=e%r===0;if(l)if(c)n[o]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function Lu(t){return t.reduce((e,r)=>e*r,1)}function $c(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var f=r.length/o,l=0;l<f;l++)n.push(r.slice(l*o,(l+1)*o));r=n}return r}function bn(t,e,r,n){var i=n||ze(t);if(r)for(var o=0;o<r;o++)t=[t],i.unshift(1);for(t=Ou(t,e,0);i.length<e;)i.push(1);return t}function Ou(t,e,r){var n,i;if(Array.isArray(t)){var o=r+1;for(n=0,i=t.length;n<i;n++)t[n]=Ou(t[n],e,o)}else for(var f=r;f<e;f++)t=[t];return t}function An(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function _t(t,e){for(var r,n=0,i=0;i<t.length;i++){var o=t[i],f=Array.isArray(o);if(i===0&&f&&(n=o.length),f&&o.length!==n)return;var l=f?_t(o,e):e(o);if(r===void 0)r=l;else if(r!==l)return"mixed"}return r}function P(t,e,r,n){function i(o){var f=xu(o,e.map(Jc));return Qc(t,e,o),r(f)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Qc(t,e,r){var n=e.filter(o=>!Yc(o)).every(o=>r[o]!==void 0);if(!n){var i=e.filter(o=>r[o]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Yc(t){return t&&t[0]==="?"}function Jc(t){return t&&t[0]==="?"?t.slice(1):t}function Pu(t,e){if(qu(t)&&Uu(t,e))return t[e];throw typeof t[e]=="function"&&Hc(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function zu(t,e,r){if(qu(t)&&Uu(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function ku(t,e){return e in t}function Uu(t,e){return!t||typeof t!="object"?!1:bt(Wc,e)?!0:!(e in Object.prototype||e in Function.prototype)}function Hc(t,e){return t==null||typeof t[e]!="function"||bt(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:bt(Kc,e)?!0:!(e in Object.prototype||e in Function.prototype)}function qu(t){return typeof t=="object"&&t&&t.constructor===Object}var Wc={length:!0,name:!0},Kc={toString:!0,valueOf:!0,toLocaleString:!0};var Bi=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return Pu(this.wrappedObject,e)}set(e,r){return zu(this.wrappedObject,e,r),this}has(e){return ku(this.wrappedObject,e)}};function Vu(t){return t?t instanceof Map||t instanceof Bi||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}var Xu=function(){return Xu=Li.default.create,Li.default},jc=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Oi=P("typed",jc,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:o}=e,f=Xu();return f.clear(),f.addTypes([{name:"number",test:Ie},{name:"Complex",test:Gt},{name:"BigNumber",test:ke},{name:"Fraction",test:$t},{name:"Unit",test:dn},{name:"identifier",test:l=>ir&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(l)},{name:"string",test:ir},{name:"Chain",test:du},{name:"Array",test:Fe},{name:"Matrix",test:be},{name:"DenseMatrix",test:xn},{name:"SparseMatrix",test:gn},{name:"Range",test:yn},{name:"Index",test:Et},{name:"boolean",test:Ga},{name:"ResultSet",test:$a},{name:"Help",test:Qa},{name:"function",test:Ya},{name:"Date",test:Ja},{name:"RegExp",test:Ha},{name:"null",test:Ka},{name:"undefined",test:ja},{name:"AccessorNode",test:eu},{name:"ArrayNode",test:ru},{name:"AssignmentNode",test:tu},{name:"BlockNode",test:nu},{name:"ConditionalNode",test:iu},{name:"ConstantNode",test:ou},{name:"FunctionNode",test:uu},{name:"FunctionAssignmentNode",test:au},{name:"IndexNode",test:su},{name:"Node",test:fu},{name:"ObjectNode",test:cu},{name:"OperatorNode",test:lu},{name:"ParenthesisNode",test:pu},{name:"RangeNode",test:mu},{name:"RelationalNode",test:hu},{name:"SymbolNode",test:vu},{name:"Map",test:Vu},{name:"Object",test:Wa}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||Ii(c),Su(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return n||_n(c),new n(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return n||_n(c),new n(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||_n(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){o||Ri(c);var u=new o(c);if(u.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(c){var u=Number(c);if(isNaN(u))throw new Error('Cannot convert "'+c+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(c){r||Ii(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){o||Ri(c);try{return new o(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||_n(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||Ii(c),new r(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return o||Ri(c),new o(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return i||el(),new i(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),f.onMismatch=(l,c,u)=>{var a=f.createError(l,c,u);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&$r(c[0])&&u.some(p=>!p.params.includes(","))){var s=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw s.data=a.data,s}throw a},f.onMismatch=(l,c,u)=>{var a=f.createError(l,c,u);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&$r(c[0])&&u.some(p=>!p.params.includes(","))){var s=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw s.data=a.data,s}throw a},f});function Ii(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function _n(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function el(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ri(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var Ct=9e15,tt=1e9,Pi="0123456789abcdef",Mn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Tn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",zi={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ct,maxE:Ct,crypto:!1},Qu,Yr,ge=!0,Fn="[DecimalError] ",rt=Fn+"Invalid argument: ",Yu=Fn+"Precision limit exceeded",Ju=Fn+"crypto unavailable",Hu="[object Decimal]",or=Math.floor,Ge=Math.pow,rl=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tl=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,nl=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Wu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr=1e7,ve=7,il=9007199254740991,ol=Mn.length-1,ki=Tn.length-1,J={toStringTag:Hu};J.absoluteValue=J.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),fe(t)};J.ceil=function(){return fe(new this.constructor(this),this.e+1,2)};J.clampedTo=J.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(rt+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};J.comparedTo=J.cmp=function(t){var e,r,n,i,o=this,f=o.d,l=(t=new o.constructor(t)).d,c=o.s,u=t.s;if(!f||!l)return!c||!u?NaN:c!==u?c:f===l?0:!f^c<0?1:-1;if(!f[0]||!l[0])return f[0]?c:l[0]?-u:0;if(c!==u)return c;if(o.e!==t.e)return o.e>t.e^c<0?1:-1;for(n=f.length,i=l.length,e=0,r=n<i?n:i;e<r;++e)if(f[e]!==l[e])return f[e]>l[e]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};J.cosine=J.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ve,n.rounding=1,r=al(n,ts(n,r)),n.precision=t,n.rounding=e,fe(Yr==2||Yr==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};J.cubeRoot=J.cbrt=function(){var t,e,r,n,i,o,f,l,c,u,a=this,s=a.constructor;if(!a.isFinite()||a.isZero())return new s(a);for(ge=!1,o=a.s*Ge(a.s*a,1/3),!o||Math.abs(o)==1/0?(r=er(a.d),t=a.e,(o=(t-r.length+1)%3)&&(r+=o==1||o==-2?"0":"00"),o=Ge(r,1/3),t=or((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?r="5e"+t:(r=o.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new s(r),n.s=a.s):n=new s(o.toString()),f=(t=s.precision)+3;;)if(l=n,c=l.times(l).times(l),u=c.plus(a),n=Pe(u.plus(a).times(l),u.plus(c),f+2,1),er(l.d).slice(0,f)===(r=er(n.d)).slice(0,f))if(r=r.slice(f-3,f+1),r=="9999"||!i&&r=="4999"){if(!i&&(fe(l,t+1,0),l.times(l).times(l).eq(a))){n=l;break}f+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(fe(n,t+1,1),e=!n.times(n).times(n).eq(a));break}return ge=!0,fe(n,t,s.rounding,e)};J.decimalPlaces=J.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-or(this.e/ve))*ve,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};J.dividedBy=J.div=function(t){return Pe(this,new this.constructor(t))};J.dividedToIntegerBy=J.divToInt=function(t){var e=this,r=e.constructor;return fe(Pe(e,new r(t),0,1,1),r.precision,r.rounding)};J.equals=J.eq=function(t){return this.cmp(t)===0};J.floor=function(){return fe(new this.constructor(this),this.e+1,3)};J.greaterThan=J.gt=function(t){return this.cmp(t)>0};J.greaterThanOrEqualTo=J.gte=function(t){var e=this.cmp(t);return e==1||e===0};J.hyperbolicCosine=J.cosh=function(){var t,e,r,n,i,o=this,f=o.constructor,l=new f(1);if(!o.isFinite())return new f(o.s?1/0:NaN);if(o.isZero())return l;r=f.precision,n=f.rounding,f.precision=r+Math.max(o.e,o.sd())+4,f.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/Bn(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=Mt(f,1,o.times(e),new f(1),!0);for(var c,u=t,a=new f(8);u--;)c=o.times(o),o=l.minus(c.times(a.minus(c.times(a))));return fe(o,f.precision=r,f.rounding=n,!0)};J.hyperbolicSine=J.sinh=function(){var t,e,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,r=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=Mt(o,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Bn(5,t)),i=Mt(o,2,i,i,!0);for(var f,l=new o(5),c=new o(16),u=new o(20);t--;)f=i.times(i),i=i.times(l.plus(f.times(c.times(f).plus(u))))}return o.precision=e,o.rounding=r,fe(i,e,r,!0)};J.hyperbolicTangent=J.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Pe(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};J.inverseCosine=J.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,o=r.rounding;return n!==-1?n===0?e.isNeg()?Fr(r,i,o):new r(0):new r(NaN):e.isZero()?Fr(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=Fr(r,i+4,o).times(.5),r.precision=i,r.rounding=o,t.minus(e))};J.inverseHyperbolicCosine=J.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ge=!1,r=r.times(r).minus(1).sqrt().plus(r),ge=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};J.inverseHyperbolicSine=J.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ge=!1,r=r.times(r).plus(1).sqrt().plus(r),ge=!0,n.precision=t,n.rounding=e,r.ln())};J.inverseHyperbolicTangent=J.atanh=function(){var t,e,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?fe(new o(i),t,e,!0):(o.precision=r=n-i.e,i=Pe(i.plus(1),new o(1).minus(i),r+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)};J.inverseSine=J.asin=function(){var t,e,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),r=o.precision,n=o.rounding,e!==-1?e===0?(t=Fr(o,r+4,n).times(.5),t.s=i.s,t):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))};J.inverseTangent=J.atan=function(){var t,e,r,n,i,o,f,l,c,u=this,a=u.constructor,s=a.precision,p=a.rounding;if(u.isFinite()){if(u.isZero())return new a(u);if(u.abs().eq(1)&&s+4<=ki)return f=Fr(a,s+4,p).times(.25),f.s=u.s,f}else{if(!u.s)return new a(NaN);if(s+4<=ki)return f=Fr(a,s+4,p).times(.5),f.s=u.s,f}for(a.precision=l=s+10,a.rounding=1,r=Math.min(28,l/ve+2|0),t=r;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(ge=!1,e=Math.ceil(l/ve),n=1,c=u.times(u),f=new a(u),i=u;t!==-1;)if(i=i.times(c),o=f.minus(i.div(n+=2)),i=i.times(c),f=o.plus(i.div(n+=2)),f.d[e]!==void 0)for(t=e;f.d[t]===o.d[t]&&t--;);return r&&(f=f.times(2<<r-1)),ge=!0,fe(f,a.precision=s,a.rounding=p,!0)};J.isFinite=function(){return!!this.d};J.isInteger=J.isInt=function(){return!!this.d&&or(this.e/ve)>this.d.length-2};J.isNaN=function(){return!this.s};J.isNegative=J.isNeg=function(){return this.s<0};J.isPositive=J.isPos=function(){return this.s>0};J.isZero=function(){return!!this.d&&this.d[0]===0};J.lessThan=J.lt=function(t){return this.cmp(t)<0};J.lessThanOrEqualTo=J.lte=function(t){return this.cmp(t)<1};J.logarithm=J.log=function(t){var e,r,n,i,o,f,l,c,u=this,a=u.constructor,s=a.precision,p=a.rounding,h=5;if(t==null)t=new a(10),e=!0;else{if(t=new a(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new a(NaN);e=t.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new a(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)o=!0;else{for(i=r[0];i%10===0;)i/=10;o=i!==1}if(ge=!1,l=s+h,f=et(u,l),n=e?Sn(a,l+10):et(t,l),c=Pe(f,n,l,1),Jt(c.d,i=s,p))do if(l+=10,f=et(u,l),n=e?Sn(a,l+10):et(t,l),c=Pe(f,n,l,1),!o){+er(c.d).slice(i+1,i+15)+1==1e14&&(c=fe(c,s+1,0));break}while(Jt(c.d,i+=10,p));return ge=!0,fe(c,s,p)};J.minus=J.sub=function(t){var e,r,n,i,o,f,l,c,u,a,s,p,h=this,v=h.constructor;if(t=new v(t),!h.d||!t.d)return!h.s||!t.s?t=new v(NaN):h.d?t.s=-t.s:t=new v(t.d||h.s!==t.s?h:NaN),t;if(h.s!=t.s)return t.s=-t.s,h.plus(t);if(u=h.d,p=t.d,l=v.precision,c=v.rounding,!u[0]||!p[0]){if(p[0])t.s=-t.s;else if(u[0])t=new v(h);else return new v(c===3?-0:0);return ge?fe(t,l,c):t}if(r=or(t.e/ve),a=or(h.e/ve),u=u.slice(),o=a-r,o){for(s=o<0,s?(e=u,o=-o,f=p.length):(e=p,r=a,f=u.length),n=Math.max(Math.ceil(l/ve),f)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=u.length,f=p.length,s=n<f,s&&(f=n),n=0;n<f;n++)if(u[n]!=p[n]){s=u[n]<p[n];break}o=0}for(s&&(e=u,u=p,p=e,t.s=-t.s),f=u.length,n=p.length-f;n>0;--n)u[f++]=0;for(n=p.length;n>o;){if(u[--n]<p[n]){for(i=n;i&&u[--i]===0;)u[i]=Nr-1;--u[i],u[n]+=Nr}u[n]-=p[n]}for(;u[--f]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=Nn(u,r),ge?fe(t,l,c):t):new v(c===3?-0:0)};J.modulo=J.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?fe(new n(r),n.precision,n.rounding):(ge=!1,n.modulo==9?(e=Pe(r,t.abs(),0,3,1),e.s*=t.s):e=Pe(r,t,0,n.modulo,1),e=e.times(t),ge=!0,r.minus(e))};J.naturalExponential=J.exp=function(){return Ui(this)};J.naturalLogarithm=J.ln=function(){return et(this)};J.negated=J.neg=function(){var t=new this.constructor(this);return t.s=-t.s,fe(t)};J.plus=J.add=function(t){var e,r,n,i,o,f,l,c,u,a,s=this,p=s.constructor;if(t=new p(t),!s.d||!t.d)return!s.s||!t.s?t=new p(NaN):s.d||(t=new p(t.d||s.s===t.s?s:NaN)),t;if(s.s!=t.s)return t.s=-t.s,s.minus(t);if(u=s.d,a=t.d,l=p.precision,c=p.rounding,!u[0]||!a[0])return a[0]||(t=new p(s)),ge?fe(t,l,c):t;if(o=or(s.e/ve),n=or(t.e/ve),u=u.slice(),i=o-n,i){for(i<0?(r=u,i=-i,f=a.length):(r=a,n=o,f=u.length),o=Math.ceil(l/ve),f=o>f?o+1:f+1,i>f&&(i=f,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(f=u.length,i=a.length,f-i<0&&(i=f,r=a,a=u,u=r),e=0;i;)e=(u[--i]=u[i]+a[i]+e)/Nr|0,u[i]%=Nr;for(e&&(u.unshift(e),++n),f=u.length;u[--f]==0;)u.pop();return t.d=u,t.e=Nn(u,n),ge?fe(t,l,c):t};J.precision=J.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rt+t);return r.d?(e=Ku(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};J.round=function(){var t=this,e=t.constructor;return fe(new e(t),t.e+1,e.rounding)};J.sine=J.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+ve,n.rounding=1,r=sl(n,ts(n,r)),n.precision=t,n.rounding=e,fe(Yr>2?r.neg():r,t,e,!0)):new n(NaN)};J.squareRoot=J.sqrt=function(){var t,e,r,n,i,o,f=this,l=f.d,c=f.e,u=f.s,a=f.constructor;if(u!==1||!l||!l[0])return new a(!u||u<0&&(!l||l[0])?NaN:l?f:1/0);for(ge=!1,u=Math.sqrt(+f),u==0||u==1/0?(e=er(l),(e.length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=or((c+1)/2)-(c<0||c%2),u==1/0?e="5e"+c:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new a(e)):n=new a(u.toString()),r=(c=a.precision)+3;;)if(o=n,n=o.plus(Pe(f,o,r+2,1)).times(.5),er(o.d).slice(0,r)===(e=er(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(fe(o,c+1,0),o.times(o).eq(f))){n=o;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(fe(n,c+1,1),t=!n.times(n).eq(f));break}return ge=!0,fe(n,c,a.rounding,t)};J.tangent=J.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Pe(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,fe(Yr==2||Yr==4?r.neg():r,t,e,!0)):new n(NaN)};J.times=J.mul=function(t){var e,r,n,i,o,f,l,c,u,a=this,s=a.constructor,p=a.d,h=(t=new s(t)).d;if(t.s*=a.s,!p||!p[0]||!h||!h[0])return new s(!t.s||p&&!p[0]&&!h||h&&!h[0]&&!p?NaN:!p||!h?t.s/0:t.s*0);for(r=or(a.e/ve)+or(t.e/ve),c=p.length,u=h.length,c<u&&(o=p,p=h,h=o,f=c,c=u,u=f),o=[],f=c+u,n=f;n--;)o.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=o[i]+h[n]*p[i-n-1]+e,o[i--]=l%Nr|0,e=l/Nr|0;o[i]=(o[i]+e)%Nr|0}for(;!o[--f];)o.pop();return e?++r:o.shift(),t.d=o,t.e=Nn(o,r),ge?fe(t,s.precision,s.rounding):t};J.toBinary=function(t,e){return Vi(this,2,t,e)};J.toDecimalPlaces=J.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(vr(t,0,tt),e===void 0?e=n.rounding:vr(e,0,8),fe(r,t+r.e+1,e))};J.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Or(n,!0):(vr(t,0,tt),e===void 0?e=i.rounding:vr(e,0,8),n=fe(new i(n),t+1,e),r=Or(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};J.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?r=Or(i):(vr(t,0,tt),e===void 0?e=o.rounding:vr(e,0,8),n=fe(new o(i),t+i.e+1,e),r=Or(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};J.toFraction=function(t){var e,r,n,i,o,f,l,c,u,a,s,p,h=this,v=h.d,m=h.constructor;if(!v)return new m(h);if(u=r=new m(1),n=c=new m(0),e=new m(n),o=e.e=Ku(v)-h.e-1,f=o%ve,e.d[0]=Ge(10,f<0?ve+f:f),t==null)t=o>0?e:u;else{if(l=new m(t),!l.isInt()||l.lt(u))throw Error(rt+l);t=l.gt(e)?o>0?e:u:l}for(ge=!1,l=new m(er(v)),a=m.precision,m.precision=o=v.length*ve*2;s=Pe(l,e,0,1,1),i=r.plus(s.times(n)),i.cmp(t)!=1;)r=n,n=i,i=u,u=c.plus(s.times(i)),c=i,i=e,e=l.minus(s.times(i)),l=i;return i=Pe(t.minus(r),n,0,1,1),c=c.plus(i.times(u)),r=r.plus(i.times(n)),c.s=u.s=h.s,p=Pe(u,n,o,1).minus(h).abs().cmp(Pe(c,r,o,1).minus(h).abs())<1?[u,n]:[c,r],m.precision=a,ge=!0,p};J.toHexadecimal=J.toHex=function(t,e){return Vi(this,16,t,e)};J.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:vr(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(ge=!1,r=Pe(r,t,0,e,1).times(t),ge=!0,fe(r)):(t.s=r.s,r=t),r};J.toNumber=function(){return+this};J.toOctal=function(t,e){return Vi(this,8,t,e)};J.toPower=J.pow=function(t){var e,r,n,i,o,f,l=this,c=l.constructor,u=+(t=new c(t));if(!l.d||!t.d||!l.d[0]||!t.d[0])return new c(Ge(+l,u));if(l=new c(l),l.eq(1))return l;if(n=c.precision,o=c.rounding,t.eq(1))return fe(l,n,o);if(e=or(t.e/ve),e>=t.d.length-1&&(r=u<0?-u:u)<=il)return i=ju(c,l,r,n),t.s<0?new c(1).div(i):fe(i,n,o);if(f=l.s,f<0){if(e<t.d.length-1)return new c(NaN);if((t.d[e]&1)==0&&(f=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=f,l}return r=Ge(+l,u),e=r==0||!isFinite(r)?or(u*(Math.log("0."+er(l.d))/Math.LN10+l.e+1)):new c(r+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?f/0:0):(ge=!1,c.rounding=l.s=1,r=Math.min(12,(e+"").length),i=Ui(t.times(et(l,n+r)),n),i.d&&(i=fe(i,n+5,1),Jt(i.d,n,o)&&(e=n+10,i=fe(Ui(t.times(et(l,e+r)),e),e+5,1),+er(i.d).slice(n+1,n+15)+1==1e14&&(i=fe(i,n+1,0)))),i.s=f,ge=!0,c.rounding=o,fe(i,n,o))};J.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Or(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(vr(t,1,tt),e===void 0?e=i.rounding:vr(e,0,8),n=fe(new i(n),t,e),r=Or(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};J.toSignificantDigits=J.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(vr(t,1,tt),e===void 0?e=n.rounding:vr(e,0,8)),fe(new n(r),t,e)};J.toString=function(){var t=this,e=t.constructor,r=Or(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};J.truncated=J.trunc=function(){return fe(new this.constructor(this),this.e+1,1)};J.valueOf=J.toJSON=function(){var t=this,e=t.constructor,r=Or(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function er(t){var e,r,n,i=t.length-1,o="",f=t[0];if(i>0){for(o+=f,e=1;e<i;e++)n=t[e]+"",r=ve-n.length,r&&(o+=jr(r)),o+=n;f=t[e],n=f+"",r=ve-n.length,r&&(o+=jr(r))}else if(f===0)return"0";for(;f%10===0;)f/=10;return o+f}function vr(t,e,r){if(t!==~~t||t<e||t>r)throw Error(rt+t)}function Jt(t,e,r,n){var i,o,f,l;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=ve,i=0):(i=Math.ceil((e+1)/ve),e%=ve),o=Ge(10,ve-e),l=t[i]%o|0,n==null?e<3?(e==0?l=l/100|0:e==1&&(l=l/10|0),f=r<4&&l==99999||r>3&&l==49999||l==5e4||l==0):f=(r<4&&l+1==o||r>3&&l+1==o/2)&&(t[i+1]/o/100|0)==Ge(10,e-2)-1||(l==o/2||l==0)&&(t[i+1]/o/100|0)==0:e<4?(e==0?l=l/1e3|0:e==1?l=l/100|0:e==2&&(l=l/10|0),f=(n||r<4)&&l==9999||!n&&r>3&&l==4999):f=((n||r<4)&&l+1==o||!n&&r>3&&l+1==o/2)&&(t[i+1]/o/1e3|0)==Ge(10,e-3)-1,f}function Cn(t,e,r){for(var n,i=[0],o,f=0,l=t.length;f<l;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=Pi.indexOf(t.charAt(f++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function al(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/Bn(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Mt(t,1,e.times(i),new t(1));for(var o=r;o--;){var f=e.times(e);e=f.times(f).minus(f).times(8).plus(1)}return t.precision-=r,e}var Pe=function(){function t(n,i,o){var f,l=0,c=n.length;for(n=n.slice();c--;)f=n[c]*i+l,n[c]=f%o|0,l=f/o|0;return l&&n.unshift(l),n}function e(n,i,o,f){var l,c;if(o!=f)c=o>f?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,o,f){for(var l=0;o--;)n[o]-=l,l=n[o]<i[o]?1:0,n[o]=l*f+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,f,l,c){var u,a,s,p,h,v,m,d,g,D,y,w,b,x,A,C,_,E,T,M,L=n.constructor,O=n.s==i.s?1:-1,I=n.d,F=i.d;if(!I||!I[0]||!F||!F[0])return new L(!n.s||!i.s||(I?F&&I[0]==F[0]:!F)?NaN:I&&I[0]==0||!F?O*0:O/0);for(c?(h=1,a=n.e-i.e):(c=Nr,h=ve,a=or(n.e/h)-or(i.e/h)),T=F.length,_=I.length,g=new L(O),D=g.d=[],s=0;F[s]==(I[s]||0);s++);if(F[s]>(I[s]||0)&&a--,o==null?(x=o=L.precision,f=L.rounding):l?x=o+(n.e-i.e)+1:x=o,x<0)D.push(1),v=!0;else{if(x=x/h+2|0,s=0,T==1){for(p=0,F=F[0],x++;(s<_||p)&&x--;s++)A=p*c+(I[s]||0),D[s]=A/F|0,p=A%F|0;v=p||s<_}else{for(p=c/(F[0]+1)|0,p>1&&(F=t(F,p,c),I=t(I,p,c),T=F.length,_=I.length),C=T,y=I.slice(0,T),w=y.length;w<T;)y[w++]=0;M=F.slice(),M.unshift(0),E=F[0],F[1]>=c/2&&++E;do p=0,u=e(F,y,T,w),u<0?(b=y[0],T!=w&&(b=b*c+(y[1]||0)),p=b/E|0,p>1?(p>=c&&(p=c-1),m=t(F,p,c),d=m.length,w=y.length,u=e(m,y,d,w),u==1&&(p--,r(m,T<d?M:F,d,c))):(p==0&&(u=p=1),m=F.slice()),d=m.length,d<w&&m.unshift(0),r(y,m,w,c),u==-1&&(w=y.length,u=e(F,y,T,w),u<1&&(p++,r(y,T<w?M:F,w,c))),w=y.length):u===0&&(p++,y=[0]),D[s++]=p,u&&y[0]?y[w++]=I[C]||0:(y=[I[C]],w=1);while((C++<_||y[0]!==void 0)&&x--);v=y[0]!==void 0}D[0]||D.shift()}if(h==1)g.e=a,Qu=v;else{for(s=1,p=D[0];p>=10;p/=10)s++;g.e=s+a*h-1,fe(g,l?o+g.e+1:o,f,v)}return g}}();function fe(t,e,r,n){var i,o,f,l,c,u,a,s,p,h=t.constructor;e:if(e!=null){if(s=t.d,!s)return t;for(i=1,l=s[0];l>=10;l/=10)i++;if(o=e-i,o<0)o+=ve,f=e,a=s[p=0],c=a/Ge(10,i-f-1)%10|0;else if(p=Math.ceil((o+1)/ve),l=s.length,p>=l)if(n){for(;l++<=p;)s.push(0);a=c=0,i=1,o%=ve,f=o-ve+1}else break e;else{for(a=l=s[p],i=1;l>=10;l/=10)i++;o%=ve,f=o-ve+i,c=f<0?0:a/Ge(10,i-f-1)%10|0}if(n=n||e<0||s[p+1]!==void 0||(f<0?a:a%Ge(10,i-f-1)),u=r<4?(c||n)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(o>0?f>0?a/Ge(10,i-f):0:s[p-1])%10&1||r==(t.s<0?8:7)),e<1||!s[0])return s.length=0,u?(e-=t.e+1,s[0]=Ge(10,(ve-e%ve)%ve),t.e=-e||0):s[0]=t.e=0,t;if(o==0?(s.length=p,l=1,p--):(s.length=p+1,l=Ge(10,ve-o),s[p]=f>0?(a/Ge(10,i-f)%Ge(10,f)|0)*l:0),u)for(;;)if(p==0){for(o=1,f=s[0];f>=10;f/=10)o++;for(f=s[0]+=l,l=1;f>=10;f/=10)l++;o!=l&&(t.e++,s[0]==Nr&&(s[0]=1));break}else{if(s[p]+=l,s[p]!=Nr)break;s[p--]=0,l=1}for(o=s.length;s[--o]===0;)s.pop()}return ge&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function Or(t,e,r){if(!t.isFinite())return rs(t);var n,i=t.e,o=er(t.d),f=o.length;return e?(r&&(n=r-f)>0?o=o.charAt(0)+"."+o.slice(1)+jr(n):f>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+jr(-i-1)+o,r&&(n=r-f)>0&&(o+=jr(n))):i>=f?(o+=jr(i+1-f),r&&(n=r-i-1)>0&&(o=o+"."+jr(n))):((n=i+1)<f&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-f)>0&&(i+1===f&&(o+="."),o+=jr(n))),o}function Nn(t,e){var r=t[0];for(e*=ve;r>=10;r/=10)e++;return e}function Sn(t,e,r){if(e>ol)throw ge=!0,r&&(t.precision=r),Error(Yu);return fe(new t(Mn),e,1,!0)}function Fr(t,e,r){if(e>ki)throw Error(Yu);return fe(new t(Tn),e,r,!0)}function Ku(t){var e=t.length-1,r=e*ve+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function jr(t){for(var e="";t--;)e+="0";return e}function ju(t,e,r,n){var i,o=new t(1),f=Math.ceil(n/ve+4);for(ge=!1;;){if(r%2&&(o=o.times(e),Gu(o.d,f)&&(i=!0)),r=or(r/2),r===0){r=o.d.length-1,i&&o.d[r]===0&&++o.d[r];break}e=e.times(e),Gu(e.d,f)}return ge=!0,o}function Zu(t){return t.d[t.d.length-1]&1}function es(t,e,r){for(var n,i=new t(e[0]),o=0;++o<e.length;)if(n=new t(e[o]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function Ui(t,e){var r,n,i,o,f,l,c,u=0,a=0,s=0,p=t.constructor,h=p.rounding,v=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(ge=!1,c=v):c=e,l=new p(.03125);t.e>-2;)t=t.times(l),s+=5;for(n=Math.log(Ge(2,s))/Math.LN10*2+5|0,c+=n,r=o=f=new p(1),p.precision=c;;){if(o=fe(o.times(t),c,1),r=r.times(++a),l=f.plus(Pe(o,r,c,1)),er(l.d).slice(0,c)===er(f.d).slice(0,c)){for(i=s;i--;)f=fe(f.times(f),c,1);if(e==null)if(u<3&&Jt(f.d,c-n,h,u))p.precision=c+=10,r=o=l=new p(1),a=0,u++;else return fe(f,p.precision=v,h,ge=!0);else return p.precision=v,f}f=l}}function et(t,e){var r,n,i,o,f,l,c,u,a,s,p,h=1,v=10,m=t,d=m.d,g=m.constructor,D=g.rounding,y=g.precision;if(m.s<0||!d||!d[0]||!m.e&&d[0]==1&&d.length==1)return new g(d&&!d[0]?-1/0:m.s!=1?NaN:d?0:m);if(e==null?(ge=!1,a=y):a=e,g.precision=a+=v,r=er(d),n=r.charAt(0),Math.abs(o=m.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=er(m.d),n=r.charAt(0),h++;o=m.e,n>1?(m=new g("0."+r),o++):m=new g(n+"."+r.slice(1))}else return u=Sn(g,a+2,y).times(o+""),m=et(new g(n+"."+r.slice(1)),a-v).plus(u),g.precision=y,e==null?fe(m,y,D,ge=!0):m;for(s=m,c=f=m=Pe(m.minus(1),m.plus(1),a,1),p=fe(m.times(m),a,1),i=3;;){if(f=fe(f.times(p),a,1),u=c.plus(Pe(f,new g(i),a,1)),er(u.d).slice(0,a)===er(c.d).slice(0,a))if(c=c.times(2),o!==0&&(c=c.plus(Sn(g,a+2,y).times(o+""))),c=Pe(c,new g(h),a,1),e==null)if(Jt(c.d,a-v,D,l))g.precision=a+=v,u=f=m=Pe(s.minus(1),s.plus(1),a,1),p=fe(m.times(m),a,1),i=l=1;else return fe(c,g.precision=y,D,ge=!0);else return g.precision=y,c;c=u,i+=2}}function rs(t){return String(t.s*t.s/0)}function qi(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%ve,r<0&&(n+=ve),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ve;n<i;)t.d.push(+e.slice(n,n+=ve));e=e.slice(n),n=ve-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),ge&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function ul(t,e){var r,n,i,o,f,l,c,u,a;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Wu.test(e))return qi(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(tl.test(e))r=16,e=e.toLowerCase();else if(rl.test(e))r=2;else if(nl.test(e))r=8;else throw Error(rt+e);for(o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),f=o>=0,n=t.constructor,f&&(e=e.replace(".",""),l=e.length,o=l-o,i=ju(n,new n(r),o,o*2)),u=Cn(e,r,Nr),a=u.length-1,o=a;u[o]===0;--o)u.pop();return o<0?new n(t.s*0):(t.e=Nn(u,a),t.d=u,ge=!1,f&&(t=Pe(t,i,l*4)),c&&(t=t.times(Math.abs(c)<54?Ge(2,c):Ht.pow(2,c))),ge=!0,t)}function sl(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Mt(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/Bn(5,r)),e=Mt(t,2,e,e);for(var i,o=new t(5),f=new t(16),l=new t(20);r--;)i=e.times(e),e=e.times(o.plus(i.times(f.times(i).minus(l))));return e}function Mt(t,e,r,n,i){var o,f,l,c,u=1,a=t.precision,s=Math.ceil(a/ve);for(ge=!1,c=r.times(r),l=new t(n);;){if(f=Pe(l.times(c),new t(e++*e++),a,1),l=i?n.plus(f):n.minus(f),n=Pe(f.times(c),new t(e++*e++),a,1),f=l.plus(n),f.d[s]!==void 0){for(o=s;f.d[o]===l.d[o]&&o--;);if(o==-1)break}o=l,l=n,n=f,f=o,u++}return ge=!0,f.d.length=s+1,f}function Bn(t,e){for(var r=t;--e;)r*=t;return r}function ts(t,e){var r,n=e.s<0,i=Fr(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return Yr=n?4:1,e;if(r=e.divToInt(i),r.isZero())Yr=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(o))return Yr=Zu(r)?n?2:3:n?4:1,e;Yr=Zu(r)?n?1:4:n?3:2}return e.minus(i).abs()}function Vi(t,e,r,n){var i,o,f,l,c,u,a,s,p,h=t.constructor,v=r!==void 0;if(v?(vr(r,1,tt),n===void 0?n=h.rounding:vr(n,0,8)):(r=h.precision,n=h.rounding),!t.isFinite())a=rs(t);else{for(a=Or(t),f=a.indexOf("."),v?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,f>=0&&(a=a.replace(".",""),p=new h(1),p.e=a.length-f,p.d=Cn(Or(p),10,i),p.e=p.d.length),s=Cn(a,10,i),o=c=s.length;s[--c]==0;)s.pop();if(!s[0])a=v?"0p+0":"0";else{if(f<0?o--:(t=new h(t),t.d=s,t.e=o,t=Pe(t,p,r,n,0,i),s=t.d,o=t.e,u=Qu),f=s[r],l=i/2,u=u||s[r+1]!==void 0,u=n<4?(f!==void 0||u)&&(n===0||n===(t.s<0?3:2)):f>l||f===l&&(n===4||u||n===6&&s[r-1]&1||n===(t.s<0?8:7)),s.length=r,u)for(;++s[--r]>i-1;)s[r]=0,r||(++o,s.unshift(1));for(c=s.length;!s[c-1];--c);for(f=0,a="";f<c;f++)a+=Pi.charAt(s[f]);if(v){if(c>1)if(e==16||e==8){for(f=e==16?4:3,--c;c%f;c++)a+="0";for(s=Cn(a,i,e),c=s.length;!s[c-1];--c);for(f=1,a="1.";f<c;f++)a+=Pi.charAt(s[f])}else a=a.charAt(0)+"."+a.slice(1);a=a+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)a="0"+a;a="0."+a}else if(++o>c)for(o-=c;o--;)a+="0";else o<c&&(a=a.slice(0,o)+"."+a.slice(o))}a=(e==16?"0x":e==2?"0b":e==8?"0o":"")+a}return t.s<0?"-"+a:a}function Gu(t,e){if(t.length>e)return t.length=e,!0}function fl(t){return new this(t).abs()}function cl(t){return new this(t).acos()}function ll(t){return new this(t).acosh()}function pl(t,e){return new this(t).plus(e)}function ml(t){return new this(t).asin()}function hl(t){return new this(t).asinh()}function vl(t){return new this(t).atan()}function dl(t){return new this(t).atanh()}function xl(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,o=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=Fr(this,o,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?Fr(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=Fr(this,o,1).times(.5),r.s=t.s):e.s<0?(this.precision=o,this.rounding=1,r=this.atan(Pe(t,e,o,1)),e=Fr(this,o,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Pe(t,e,o,1)),r}function gl(t){return new this(t).cbrt()}function yl(t){return fe(t=new this(t),t.e+1,2)}function Dl(t,e,r){return new this(t).clamp(e,r)}function El(t){if(!t||typeof t!="object")throw Error(Fn+"Object expected");var e,r,n,i=t.defaults===!0,o=["precision",1,tt,"rounding",0,8,"toExpNeg",-Ct,0,"toExpPos",0,Ct,"maxE",0,Ct,"minE",-Ct,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(r=o[e],i&&(this[r]=zi[r]),(n=t[r])!==void 0)if(or(n)===n&&n>=o[e+1]&&n<=o[e+2])this[r]=n;else throw Error(rt+r+": "+n);if(r="crypto",i&&(this[r]=zi[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Ju);else this[r]=!1;else throw Error(rt+r+": "+n);return this}function wl(t){return new this(t).cos()}function bl(t){return new this(t).cosh()}function ns(t){var e,r,n;function i(o){var f,l,c,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,$u(o)){u.s=o.s,ge?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(c=typeof o,c==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(f=0,l=o;l>=10;l/=10)f++;ge?f>i.maxE?(u.e=NaN,u.d=null):f<i.minE?(u.e=0,u.d=[0]):(u.e=f,u.d=[o]):(u.e=f,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return qi(u,o.toString())}else if(c!=="string")throw Error(rt+o);return(l=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(l===43&&(o=o.slice(1)),u.s=1),Wu.test(o)?qi(u,o):ul(u,o)}if(i.prototype=J,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=El,i.clone=ns,i.isDecimal=$u,i.abs=fl,i.acos=cl,i.acosh=ll,i.add=pl,i.asin=ml,i.asinh=hl,i.atan=vl,i.atanh=dl,i.atan2=xl,i.cbrt=gl,i.ceil=yl,i.clamp=Dl,i.cos=wl,i.cosh=bl,i.div=Al,i.exp=_l,i.floor=Cl,i.hypot=Ml,i.ln=Tl,i.log=Sl,i.log10=Nl,i.log2=Fl,i.max=Bl,i.min=Il,i.mod=Rl,i.mul=Ll,i.pow=Ol,i.random=Pl,i.round=zl,i.sign=kl,i.sin=Ul,i.sinh=ql,i.sqrt=Vl,i.sub=Xl,i.sum=Zl,i.tan=Gl,i.tanh=$l,i.trunc=Ql,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Al(t,e){return new this(t).div(e)}function _l(t){return new this(t).exp()}function Cl(t){return fe(t=new this(t),t.e+1,3)}function Ml(){var t,e,r=new this(0);for(ge=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return ge=!0,new this(1/0);r=e}return ge=!0,r.sqrt()}function $u(t){return t instanceof Ht||t&&t.toStringTag===Hu||!1}function Tl(t){return new this(t).ln()}function Sl(t,e){return new this(t).log(e)}function Fl(t){return new this(t).log(2)}function Nl(t){return new this(t).log(10)}function Bl(){return es(this,arguments,"lt")}function Il(){return es(this,arguments,"gt")}function Rl(t,e){return new this(t).mod(e)}function Ll(t,e){return new this(t).mul(e)}function Ol(t,e){return new this(t).pow(e)}function Pl(t){var e,r,n,i,o=0,f=new this(1),l=[];if(t===void 0?t=this.precision:vr(t,1,tt),n=Math.ceil(t/ve),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:l[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(l.push(i%1e7),o+=4);o=n/4}else throw Error(Ju);else for(;o<n;)l[o++]=Math.random()*1e7|0;for(n=l[--o],t%=ve,n&&t&&(i=Ge(10,ve-t),l[o]=(n/i|0)*i);l[o]===0;o--)l.pop();if(o<0)r=0,l=[0];else{for(r=-1;l[0]===0;r-=ve)l.shift();for(n=1,i=l[0];i>=10;i/=10)n++;n<ve&&(r-=ve-n)}return f.e=r,f.d=l,f}function zl(t){return fe(t=new this(t),t.e+1,this.rounding)}function kl(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Ul(t){return new this(t).sin()}function ql(t){return new this(t).sinh()}function Vl(t){return new this(t).sqrt()}function Xl(t,e){return new this(t).sub(e)}function Zl(){var t=0,e=arguments,r=new this(e[t]);for(ge=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return ge=!0,fe(r,this.precision,this.rounding)}function Gl(t){return new this(t).tan()}function $l(t){return new this(t).tanh()}function Ql(t){return fe(t=new this(t),t.e+1,1)}J[Symbol.for("nodejs.util.inspect.custom")]=J.toString;J[Symbol.toStringTag]="Decimal";var Ht=J.constructor=ns(zi);Mn=new Ht(Mn);Tn=new Ht(Tn);var Xi=Ht;var Yl="BigNumber",Jl=["?on","config"],Zi=P(Yl,Jl,t=>{var{on:e,config:r}=t,n=Xi.clone({precision:r.precision,modulo:Xi.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Ye=xt(os(),1);var Hl="Complex",Wl=[],$i=P(Hl,Wl,()=>(Object.defineProperty(Ye.default,"name",{value:"Complex"}),Ye.default.prototype.constructor=Ye.default,Ye.default.prototype.type="Complex",Ye.default.prototype.isComplex=!0,Ye.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ye.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ye.default.prototype.format=function(t){var e="",r=this.im,n=this.re,i=Qt(this.re,t),o=Qt(this.im,t),f=Ie(t)?t:t?t.precision:null;if(f!==null){var l=Math.pow(10,-f);Math.abs(n/r)<l&&(n=0),Math.abs(r/n)<l&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=o+"i":r<0?r===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+o+"i",e},Ye.default.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Ye.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Ie(r)){if(dn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Ie(n))return new Ye.default({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ye.default.prototype.valueOf=Ye.default.prototype.toString,Ye.default.fromJSON=function(t){return new Ye.default(t)},Ye.default.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Ye.default),{isClass:!0});var Pr=xt(us(),1);var Kl="Fraction",jl=[],Yi=P(Kl,jl,()=>(Object.defineProperty(Pr.default,"name",{value:"Fraction"}),Pr.default.prototype.constructor=Pr.default,Pr.default.prototype.type="Fraction",Pr.default.prototype.isFraction=!0,Pr.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Pr.default.fromJSON=function(t){return new Pr.default(t)},Pr.default),{isClass:!0});var ep="Matrix",rp=[],Ji=P(ep,rp,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function In(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var tp="DenseMatrix",np=["Matrix"],Hi=P(tp,np,t=>{var{Matrix:e}=t;function r(a,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!ir(s))throw new Error("Invalid datatype: "+s);if(be(a))a.type==="DenseMatrix"?(this._data=de(a._data),this._size=de(a._size),this._datatype=s||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=s||a._datatype);else if(a&&Fe(a.data)&&Fe(a.size))this._data=a.data,this._size=a.size,Ni(this._data,this._size),this._datatype=s||a.datatype;else if(Fe(a))this._data=u(a),this._size=ze(this._data),Ni(this._data,this._size),this._datatype=s;else{if(a)throw new TypeError("Unsupported type of data ("+Ke(a)+")");this._data=[],this._size=[0],this._datatype=s}}r.prototype=new e,r.prototype.createDenseMatrix=function(a,s){return new r(a,s)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return _t(this._data,Ke)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(a,s){return new r(a,s)},r.prototype.subset=function(a,s,p){switch(arguments.length){case 1:return n(this,a);case 2:case 3:return o(this,a,s,p);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(a){if(!Fe(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new Me(a.length,this._size.length);for(var s=0;s<a.length;s++)Oe(a[s],this._size[s]);for(var p=this._data,h=0,v=a.length;h<v;h++){var m=a[h];Oe(m,p.length),p=p[m]}return p},r.prototype.set=function(a,s,p){if(!Fe(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new Me(a.length,this._size.length,"<");var h,v,m,d=a.map(function(D){return D+1});c(this,d,p);var g=this._data;for(h=0,v=a.length-1;h<v;h++)m=a[h],Oe(m,g.length),g=g[m];return m=a[a.length-1],Oe(m,g.length),g[m]=s,this};function n(a,s){if(!Et(s))throw new TypeError("Invalid index");var p=s.isScalar();if(p)return a.get(s.min());var h=s.size();if(h.length!==a._size.length)throw new Me(h.length,a._size.length);for(var v=s.min(),m=s.max(),d=0,g=a._size.length;d<g;d++)Oe(v[d],a._size[d]),Oe(m[d],a._size[d]);return new r(i(a._data,s,h.length,0),a._datatype)}function i(a,s,p,h){var v=h===p-1,m=s.dimension(h);return v?m.map(function(d){return Oe(d,a.length),a[d]}).valueOf():m.map(function(d){Oe(d,a.length);var g=a[d];return i(g,s,p,h+1)}).valueOf()}function o(a,s,p,h){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var v=s.size(),m=s.isScalar(),d;if(be(p)?(d=p.size(),p=p.valueOf()):d=ze(p),m){if(d.length!==0)throw new TypeError("Scalar expected");a.set(s.min(),p,h)}else{if(v.length<a._size.length)throw new Me(v.length,a._size.length,"<");if(d.length<v.length){for(var g=0,D=0;v[g]===1&&d[g]===1;)g++;for(;v[g]===1;)D++,g++;p=bn(p,v.length,D,d)}if(!wt(v,d))throw new Me(v,d,">");var y=s.max().map(function(x){return x+1});c(a,y,h);var w=v.length,b=0;f(a._data,s,p,w,b)}return a}function f(a,s,p,h,v){var m=v===h-1,d=s.dimension(v);m?d.forEach(function(g,D){Oe(g),a[g]=p[D[0]]}):d.forEach(function(g,D){Oe(g),f(a[g],s,p[D[0]],h,v+1)})}r.prototype.resize=function(a,s,p){if(!$r(a))throw new TypeError("Array or Matrix expected");var h=a.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m),v=p?this.clone():this;return l(v,h,s)};function l(a,s,p){if(s.length===0){for(var h=a._data;Fe(h);)h=h[0];return h}return a._size=s.slice(0),a._data=pt(a._data,a._size,p),a}r.prototype.reshape=function(a,s){var p=s?this.clone():this;p._data=Ru(p._data,a);var h=p._size.reduce((v,m)=>v*m);return p._size=Yt(a,h),p};function c(a,s,p){for(var h=a._size.slice(0),v=!1;h.length<s.length;)h.push(0),v=!0;for(var m=0,d=s.length;m<d;m++)s[m]>h[m]&&(h[m]=s[m],v=!0);v&&l(a,h,p)}r.prototype.clone=function(){var a=new r({data:de(this._data),size:de(this._size),datatype:this._datatype});return a},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(a){var s=this,p=In(a),h=function d(g,D){return Fe(g)?g.map(function(y,w){return d(y,D.concat(w))}):p===1?a(g):p===2?a(g,D):a(g,D,s)},v=h(this._data,[]),m=this._datatype!==void 0?_t(v,Ke):void 0;return new r(v,m)},r.prototype.forEach=function(a){var s=this,p=function h(v,m){Fe(v)?v.forEach(function(d,g){h(d,m.concat(g))}):a(v,m,s)};p(this._data,[])},r.prototype[Symbol.iterator]=function*(){var a=function*s(p,h){if(Fe(p))for(var v=0;v<p.length;v++)yield*s(p[v],h.concat(v));else yield{value:p,index:h}};yield*a(this._data,[])},r.prototype.rows=function(){var a=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var h of p)a.push(new r([h],this._datatype));return a},r.prototype.columns=function(){var a=this,s=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,v=function(g){var D=h.map(y=>[y[g]]);s.push(new r(D,a._datatype))},m=0;m<p[1];m++)v(m);return s},r.prototype.toArray=function(){return de(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(a){return Be(this._data,a)},r.prototype.toString=function(){return Be(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(a){if(a){if(ke(a)&&(a=a.toNumber()),!Ie(a)||!xe(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var s=a>0?a:0,p=a<0?-a:0,h=this._size[0],v=this._size[1],m=Math.min(h-p,v-s),d=[],g=0;g<m;g++)d[g]=this._data[g+p][g+s];return new r({data:d,size:[m],datatype:this._datatype})},r.diagonal=function(a,s,p,h){if(!Fe(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(A){if(ke(A)&&(A=A.toNumber()),!Ie(A)||!xe(A)||A<1)throw new Error("Size values must be positive integers");return A}),p){if(ke(p)&&(p=p.toNumber()),!Ie(p)||!xe(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var v=p>0?p:0,m=p<0?-p:0,d=a[0],g=a[1],D=Math.min(d-m,g-v),y;if(Fe(s)){if(s.length!==D)throw new Error("Invalid value array length");y=function(C){return s[C]}}else if(be(s)){var w=s.size();if(w.length!==1||w[0]!==D)throw new Error("Invalid matrix length");y=function(C){return s.get([C])}}else y=function(){return s};h||(h=ke(y(0))?y(0).mul(0):0);var b=[];if(a.length>0){b=pt(b,a,h);for(var x=0;x<D;x++)b[x+m][x+v]=y(x)}return new r({data:b,size:[d,g]})},r.fromJSON=function(a){return new r(a)},r.prototype.swapRows=function(a,s){if(!Ie(a)||!xe(a)||!Ie(s)||!xe(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Oe(a,this._size[0]),Oe(s,this._size[0]),r._swapRows(a,s,this._data),this},r._swapRows=function(a,s,p){var h=p[a];p[a]=p[s],p[s]=h};function u(a){for(var s=0,p=a.length;s<p;s++){var h=a[s];Fe(h)?a[s]=u(h):h&&h.isMatrix===!0&&(a[s]=u(h.valueOf()))}return a}return r},{isClass:!0});function ss(t){var e=t.length,r=t[0].length,n,i,o=[];for(i=0;i<r;i++){var f=[];for(n=0;n<e;n++)f.push(t[n][i]);o.push(f)}return o}function Ln(t){for(var e=0;e<t.length;e++)if($r(t[e]))return!0;return!1}function Wt(t,e){be(t)&&(t=t.valueOf());for(var r=0,n=t.length;r<n;r++){var i=t[r];Array.isArray(i)?Wt(i,e):e(i)}}function Ue(t,e,r){return t&&typeof t.map=="function"?t.map(function(n){return Ue(n,e,r)}):e(t)}function On(t,e,r){var n=Array.isArray(t)?ze(t):t.size();if(e<0||e>=n.length)throw new Qr(e,n.length);return be(t)?t.create(Rn(t.valueOf(),e,r)):Rn(t,e,r)}function Rn(t,e,r){var n,i,o,f;if(e<=0)if(Array.isArray(t[0])){for(f=ss(t),i=[],n=0;n<f.length;n++)i[n]=Rn(f[n],e-1,r);return i}else{for(o=t[0],n=1;n<t.length;n++)o=r(o,t[n]);return o}else{for(i=[],n=0;n<t.length;n++)i[n]=Rn(t[n],e-1,r);return i}}var dr="number",Jr="number, number";function Wi(t){return Math.abs(t)}Wi.signature=dr;function Ki(t,e){return t+e}Ki.signature=Jr;function ip(t,e){return t-e}ip.signature=Jr;function ji(t,e){return t*e}ji.signature=Jr;function op(t,e){return t/e}op.signature=Jr;function eo(t){return-t}eo.signature=dr;function ap(t){return t}ap.signature=dr;function up(t){return _u(t)}up.signature=dr;function sp(t){return t*t*t}sp.signature=dr;function fp(t){return Math.exp(t)}fp.signature=dr;function cp(t){return Cu(t)}cp.signature=dr;function lp(t,e){if(!xe(t)||!xe(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;e!==0;)r=t%e,t=e,e=r;return t<0?-t:t}lp.signature=Jr;function pp(t,e){if(!xe(t)||!xe(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}pp.signature=Jr;function mp(t){return bu(t)}mp.signature=dr;function hp(t){return wu(t)}hp.signature=dr;function vp(t){return Au(t)}vp.signature=dr;function dp(t,e){if(e>0)return t-e*Math.floor(t/e);if(e===0)return t;throw new Error("Cannot calculate mod for a negative divisor")}dp.signature=Jr;function Pn(t){return Eu(t)}Pn.signature=dr;function xp(t){return Math.sqrt(t)}xp.signature=dr;function gp(t){return t*t}gp.signature=dr;function yp(t,e){var r,n,i,o=0,f=1,l=1,c=0;if(!xe(t)||!xe(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=o,o=f-n*o,f=r,r=l,l=c-n*l,c=r,t=e,e=i;var u;return t<0?u=[-t,-f,-c]:u=[t,t?f:0,c],u}yp.signature=Jr;function ro(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}ro.signature=Jr;function Dp(t){return Math.abs(t)}Dp.signature=dr;function zn(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return zn(t,r)*zn(r+1,e)}function to(t,e){if(!xe(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!xe(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,o=2,f=e<r?e:r,l=i;l<=t;++l)for(n*=l;o<=f&&n%o===0;)n/=o,++o;return o<=f&&(n/=zn(o,f)),n}to.signature="number, number";var Kt="number";function Ep(t){return xe(t)}Ep.signature=Kt;function wp(t){return t<0}wp.signature=Kt;function bp(t){return t>0}bp.signature=Kt;function no(t){return t===0}no.signature=Kt;function Ap(t){return Number.isNaN(t)}Ap.signature=Kt;var fs="isZero",_p=["typed"],io=P(fs,_p,t=>{var{typed:e}=t;return e(fs,{number:no,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ue(n,r))})});function zr(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return!1}function cs(t,e,r){return hr(t.re,e.re,r)&&hr(t.im,e.im,r)}var kr=P("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}});var kn="equalScalar",Cp=["typed","config"],oo=P(kn,Cp,t=>{var{typed:e,config:r}=t,n=kr({typed:e});return e(kn,{"boolean, boolean":function(o,f){return o===f},"number, number":function(o,f){return hr(o,f,r.epsilon)},"BigNumber, BigNumber":function(o,f){return o.eq(f)||zr(o,f,r.epsilon)},"Fraction, Fraction":function(o,f){return o.equals(f)},"Complex, Complex":function(o,f){return cs(o,f,r.epsilon)}},n)}),wd=P(kn,["typed","config"],t=>{var{typed:e,config:r}=t;return e(kn,{"number, number":function(i,o){return hr(i,o,r.epsilon)}})});var Mp="SparseMatrix",Tp=["typed","equalScalar","Matrix"],ao=P(Mp,Tp,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(m,d){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!ir(d))throw new Error("Invalid datatype: "+d);if(be(m))o(this,m,d);else if(m&&Fe(m.index)&&Fe(m.ptr)&&Fe(m.size))this._values=m.values,this._index=m.index,this._ptr=m.ptr,this._size=m.size,this._datatype=d||m.datatype;else if(Fe(m))f(this,m,d);else{if(m)throw new TypeError("Unsupported type of data ("+Ke(m)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=d}}function o(m,d,g){d.type==="SparseMatrix"?(m._values=d._values?de(d._values):void 0,m._index=de(d._index),m._ptr=de(d._ptr),m._size=de(d._size),m._datatype=g||d._datatype):f(m,d.valueOf(),g||d._datatype)}function f(m,d,g){m._values=[],m._index=[],m._ptr=[],m._datatype=g;var D=d.length,y=0,w=r,b=0;if(ir(g)&&(w=e.find(r,[g,g])||r,b=e.convert(0,g)),D>0){var x=0;do{m._ptr.push(m._index.length);for(var A=0;A<D;A++){var C=d[A];if(Fe(C)){if(x===0&&y<C.length&&(y=C.length),x<C.length){var _=C[x];w(_,b)||(m._values.push(_),m._index.push(A))}}else x===0&&y<1&&(y=1),w(C,b)||(m._values.push(C),m._index.push(A))}x++}while(x<y)}m._ptr.push(m._index.length),m._size=[D,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(m,d){return new i(m,d)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return _t(this._values,Ke)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(m,d){return new i(m,d)},i.prototype.density=function(){var m=this._size[0],d=this._size[1];return m!==0&&d!==0?this._index.length/(m*d):0},i.prototype.subset=function(m,d,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,m);case 2:case 3:return c(this,m,d,g);default:throw new SyntaxError("Wrong number of arguments")}};function l(m,d){if(!Et(d))throw new TypeError("Invalid index");var g=d.isScalar();if(g)return m.get(d.min());var D=d.size();if(D.length!==m._size.length)throw new Me(D.length,m._size.length);var y,w,b,x,A=d.min(),C=d.max();for(y=0,w=m._size.length;y<w;y++)Oe(A[y],m._size[y]),Oe(C[y],m._size[y]);var _=m._values,E=m._index,T=m._ptr,M=d.dimension(0),L=d.dimension(1),O=[],I=[];M.forEach(function(N,B){I[N]=B[0],O[N]=!0});var F=_?[]:void 0,Z=[],q=[];return L.forEach(function(N){for(q.push(Z.length),b=T[N],x=T[N+1];b<x;b++)y=E[b],O[y]===!0&&(Z.push(I[y]),F&&F.push(_[b]))}),q.push(Z.length),new i({values:F,index:Z,ptr:q,size:D,datatype:m._datatype})}function c(m,d,g,D){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var y=d.size(),w=d.isScalar(),b;if(be(g)?(b=g.size(),g=g.toArray()):b=ze(g),w){if(b.length!==0)throw new TypeError("Scalar expected");m.set(d.min(),g,D)}else{if(y.length!==1&&y.length!==2)throw new Me(y.length,m._size.length,"<");if(b.length<y.length){for(var x=0,A=0;y[x]===1&&b[x]===1;)x++;for(;y[x]===1;)A++,x++;g=bn(g,y.length,A,b)}if(!wt(y,b))throw new Me(y,b,">");if(y.length===1){var C=d.dimension(0);C.forEach(function(T,M){Oe(T),m.set([T,0],g[M[0]],D)})}else{var _=d.dimension(0),E=d.dimension(1);_.forEach(function(T,M){Oe(T),E.forEach(function(L,O){Oe(L),m.set([T,L],g[M[0]][O[0]],D)})})}}return m}i.prototype.get=function(m){if(!Fe(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new Me(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var d=m[0],g=m[1];Oe(d,this._size[0]),Oe(g,this._size[1]);var D=u(d,this._ptr[g],this._ptr[g+1],this._index);return D<this._ptr[g+1]&&this._index[D]===d?this._values[D]:0},i.prototype.set=function(m,d,g){if(!Fe(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new Me(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var D=m[0],y=m[1],w=this._size[0],b=this._size[1],x=r,A=0;ir(this._datatype)&&(x=e.find(r,[this._datatype,this._datatype])||r,A=e.convert(0,this._datatype)),(D>w-1||y>b-1)&&(p(this,Math.max(D+1,w),Math.max(y+1,b),g),w=this._size[0],b=this._size[1]),Oe(D,w),Oe(y,b);var C=u(D,this._ptr[y],this._ptr[y+1],this._index);return C<this._ptr[y+1]&&this._index[C]===D?x(d,A)?a(C,y,this._values,this._index,this._ptr):this._values[C]=d:s(C,D,y,d,this._values,this._index,this._ptr),this};function u(m,d,g,D){if(g-d===0)return g;for(var y=d;y<g;y++)if(D[y]===m)return y;return d}function a(m,d,g,D,y){g.splice(m,1),D.splice(m,1);for(var w=d+1;w<y.length;w++)y[w]--}function s(m,d,g,D,y,w,b){y.splice(m,0,D),w.splice(m,0,d);for(var x=g+1;x<b.length;x++)b[x]++}i.prototype.resize=function(m,d,g){if(!$r(m))throw new TypeError("Array or Matrix expected");var D=m.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(D.length!==2)throw new Error("Only two dimensions matrix are supported");D.forEach(function(w){if(!Ie(w)||!xe(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Be(D)+")")});var y=g?this.clone():this;return p(y,D[0],D[1],d)};function p(m,d,g,D){var y=D||0,w=r,b=0;ir(m._datatype)&&(w=e.find(r,[m._datatype,m._datatype])||r,b=e.convert(0,m._datatype),y=e.convert(y,m._datatype));var x=!w(y,b),A=m._size[0],C=m._size[1],_,E,T;if(g>C){for(E=C;E<g;E++)if(m._ptr[E]=m._values.length,x)for(_=0;_<A;_++)m._values.push(y),m._index.push(_);m._ptr[g]=m._values.length}else g<C&&(m._ptr.splice(g+1,C-g),m._values.splice(m._ptr[g],m._values.length),m._index.splice(m._ptr[g],m._index.length));if(C=g,d>A){if(x){var M=0;for(E=0;E<C;E++){m._ptr[E]=m._ptr[E]+M,T=m._ptr[E+1]+M;var L=0;for(_=A;_<d;_++,L++)m._values.splice(T+L,0,y),m._index.splice(T+L,0,_),M++}m._ptr[C]=m._values.length}}else if(d<A){var O=0;for(E=0;E<C;E++){m._ptr[E]=m._ptr[E]-O;var I=m._ptr[E],F=m._ptr[E+1]-O;for(T=I;T<F;T++)_=m._index[T],_>d-1&&(m._values.splice(T,1),m._index.splice(T,1),O++)}m._ptr[E]=m._values.length}return m._size[0]=d,m._size[1]=g,m}i.prototype.reshape=function(m,d){if(!Fe(m))throw new TypeError("Array expected");if(m.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");m.forEach(function(N){if(!Ie(N)||!xe(N)||N<=-2||N===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Be(m)+")")});var g=this._size[0]*this._size[1];m=Yt(m,g);var D=m[0]*m[1];if(g!==D)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=d?this.clone():this;if(this._size[0]===m[0]&&this._size[1]===m[1])return y;for(var w=[],b=0;b<y._ptr.length;b++)for(var x=0;x<y._ptr[b+1]-y._ptr[b];x++)w.push(b);for(var A=y._values.slice(),C=y._index.slice(),_=0;_<y._index.length;_++){var E=C[_],T=w[_],M=E*y._size[1]+T;w[_]=M%m[1],C[_]=Math.floor(M/m[1])}y._values.length=0,y._index.length=0,y._ptr.length=m[1]+1,y._size=m.slice();for(var L=0;L<y._ptr.length;L++)y._ptr[L]=0;for(var O=0;O<A.length;O++){var I=C[O],F=w[O],Z=A[O],q=u(I,y._ptr[F],y._ptr[F+1],y._index);s(q,I,F,Z,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var m=new i({values:this._values?de(this._values):void 0,index:de(this._index),ptr:de(this._ptr),size:de(this._size),datatype:this._datatype});return m},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(m,d){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,D=this._size[0],y=this._size[1],w=In(m),b=function(A,C,_){return w===1?m(A):w===2?m(A,[C,_]):m(A,[C,_],g)};return h(this,0,D-1,0,y-1,b,d)};function h(m,d,g,D,y,w,b){var x=[],A=[],C=[],_=r,E=0;ir(m._datatype)&&(_=e.find(r,[m._datatype,m._datatype])||r,E=e.convert(0,m._datatype));for(var T=function(V,z,G){V=w(V,z,G),_(V,E)||(x.push(V),A.push(z))},M=D;M<=y;M++){C.push(x.length);var L=m._ptr[M],O=m._ptr[M+1];if(b)for(var I=L;I<O;I++){var F=m._index[I];F>=d&&F<=g&&T(m._values[I],F-d,M-D)}else{for(var Z={},q=L;q<O;q++){var N=m._index[q];Z[N]=m._values[q]}for(var B=d;B<=g;B++){var k=B in Z?Z[B]:0;T(k,B-d,M-D)}}}return C.push(x.length),new i({values:x,index:A,ptr:C,size:[g-d+1,y-D+1]})}i.prototype.forEach=function(m,d){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,D=this._size[0],y=this._size[1],w=0;w<y;w++){var b=this._ptr[w],x=this._ptr[w+1];if(d)for(var A=b;A<x;A++){var C=this._index[A];m(this._values[A],[C,w],g)}else{for(var _={},E=b;E<x;E++){var T=this._index[E];_[T]=this._values[E]}for(var M=0;M<D;M++){var L=M in _?_[M]:0;m(L,[M,w],g)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var m=this._size[1],d=0;d<m;d++)for(var g=this._ptr[d],D=this._ptr[d+1],y=g;y<D;y++){var w=this._index[y];yield{value:this._values[y],index:[w,d]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(m,d,g,D,y){var w=D[0],b=D[1],x=[],A,C;for(A=0;A<w;A++)for(x[A]=[],C=0;C<b;C++)x[A][C]=0;for(C=0;C<b;C++)for(var _=g[C],E=g[C+1],T=_;T<E;T++)A=d[T],x[A][C]=m?y?de(m[T]):m[T]:1;return x}return i.prototype.format=function(m){for(var d=this._size[0],g=this._size[1],D=this.density(),y="Sparse Matrix ["+Be(d,m)+" x "+Be(g,m)+"] density: "+Be(D,m)+`
`,w=0;w<g;w++)for(var b=this._ptr[w],x=this._ptr[w+1],A=b;A<x;A++){var C=this._index[A];y+=`
    (`+Be(C,m)+", "+Be(w,m)+") ==> "+(this._values?Be(this._values[A],m):"X")}return y},i.prototype.toString=function(){return Be(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(m){if(m){if(ke(m)&&(m=m.toNumber()),!Ie(m)||!xe(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var d=m>0?m:0,g=m<0?-m:0,D=this._size[0],y=this._size[1],w=Math.min(D-g,y-d),b=[],x=[],A=[];A[0]=0;for(var C=d;C<y&&b.length<w;C++)for(var _=this._ptr[C],E=this._ptr[C+1],T=_;T<E;T++){var M=this._index[T];if(M===C-d+g){b.push(this._values[T]),x[b.length-1]=M-g;break}}return A.push(b.length),new i({values:b,index:x,ptr:A,size:[w,1]})},i.fromJSON=function(m){return new i(m)},i.diagonal=function(m,d,g,D,y){if(!Fe(m))throw new TypeError("Array expected, size parameter");if(m.length!==2)throw new Error("Only two dimensions matrix are supported");if(m=m.map(function(N){if(ke(N)&&(N=N.toNumber()),!Ie(N)||!xe(N)||N<1)throw new Error("Size values must be positive integers");return N}),g){if(ke(g)&&(g=g.toNumber()),!Ie(g)||!xe(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var w=r,b=0;ir(y)&&(w=e.find(r,[y,y])||r,b=e.convert(0,y));var x=g>0?g:0,A=g<0?-g:0,C=m[0],_=m[1],E=Math.min(C-A,_-x),T;if(Fe(d)){if(d.length!==E)throw new Error("Invalid value array length");T=function(B){return d[B]}}else if(be(d)){var M=d.size();if(M.length!==1||M[0]!==E)throw new Error("Invalid matrix length");T=function(B){return d.get([B])}}else T=function(){return d};for(var L=[],O=[],I=[],F=0;F<_;F++){I.push(L.length);var Z=F-x;if(Z>=0&&Z<E){var q=T(Z);w(q,b)||(O.push(Z+A),L.push(q))}}return I.push(L.length),new i({values:L,index:O,ptr:I,size:[C,_]})},i.prototype.swapRows=function(m,d){if(!Ie(m)||!xe(m)||!Ie(d)||!xe(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Oe(m,this._size[0]),Oe(d,this._size[0]),i._swapRows(m,d,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(m,d,g,D,y){for(var w=D[m],b=D[m+1],x=w;x<b;x++)y(g[x],d[x])},i._swapRows=function(m,d,g,D,y,w){for(var b=0;b<g;b++){var x=w[b],A=w[b+1],C=u(m,x,A,y),_=u(d,x,A,y);if(C<A&&_<A&&y[C]===m&&y[_]===d){if(D){var E=D[C];D[C]=D[_],D[_]=E}continue}if(C<A&&y[C]===m&&(_>=A||y[_]!==d)){var T=D?D[C]:void 0;y.splice(_,0,d),D&&D.splice(_,0,T),y.splice(_<=C?C+1:C,1),D&&D.splice(_<=C?C+1:C,1);continue}if(_<A&&y[_]===d&&(C>=A||y[C]!==m)){var M=D?D[_]:void 0;y.splice(C,0,m),D&&D.splice(C,0,M),y.splice(C<=_?_+1:_,1),D&&D.splice(C<=_?_+1:_,1)}}},i},{isClass:!0});var Sp="number",Fp=["typed"];function Np(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function Bp(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var o=e+r;if(isNaN(o))throw new SyntaxError('String "'+t.input+'" is no valid number');return o}var uo=P(Sp,Fp,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=Np(i);if(o)return Bp(o);var f=0,l=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(f=Number(l[2]),i=l[1]);var c=Number(i);if(isNaN(c))throw new SyntaxError('String "'+i+'" is no valid number');if(l){if(c>2**f-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));c>=2**(f-1)&&(c=c-2**f)}return c},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:function(i){throw new Error("Second argument with valueless unit expected")},null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(n=>i=>Ue(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r});var Ip="bignumber",Rp=["typed","BigNumber"],so=P(Ip,Rp,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var f=o[2],l=r(o[1]),c=new r(2).pow(Number(f));if(l.gt(c.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new r(2).pow(Number(f)-1);return l.gte(u)?l.sub(c):l}return new r(i)},BigNumber:function(i){return i},Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>Ue(i,n))})});var Lp="complex",Op=["typed","Complex"],fo=P(Lp,Op,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,o){return new r(i,o)},"BigNumber, BigNumber":function(i,o){return new r(i.toNumber(),o.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Ue(i,n))})});var Pp="fraction",zp=["typed","Fraction"],co=P(Pp,zp,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,o){return new r(i,o)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},Fraction:function(i){return i},Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ue(i,n))})});var ls="matrix",kp=["typed","Matrix","DenseMatrix","SparseMatrix"],lo=P(ls,kp,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(ls,{"":function(){return o([])},string:function(l){return o([],l)},"string, string":function(l,c){return o([],l,c)},Array:function(l){return o(l)},Matrix:function(l){return o(l,l.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(f,l,c){if(l==="dense"||l==="default"||l===void 0)return new n(f,c);if(l==="sparse")return new i(f,c);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}});var ps="matrixFromColumns",Up=["typed","matrix","flatten","size"],po=P(ps,Up,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(ps,{"...Array":function(c){return o(c)},"...Matrix":function(c){return r(o(c.map(u=>u.toArray())))}});function o(l){if(l.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var c=f(l[0]),u=[],a=0;a<c;a++)u[a]=[];for(var s of l){var p=f(s);if(p!==c)throw new TypeError("The vectors had different length: "+(c|0)+" \u2260 "+(p|0));for(var h=n(s),v=0;v<c;v++)u[v].push(h[v])}return u}function f(l){var c=i(l);if(c.length===1)return c[0];if(c.length===2){if(c[0]===1)return c[1];if(c[1]===1)return c[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var ms="unaryMinus",qp=["typed"],mo=P(ms,qp,t=>{var{typed:e}=t;return e(ms,{number:eo,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>Ue(n,r,!0))})});var hs="abs",Vp=["typed"],ho=P(hs,Vp,t=>{var{typed:e}=t;return e(hs,{number:Wi,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":e.referToSelf(r=>n=>Ue(n,r,!0))})});var vs="addScalar",Xp=["typed"],vo=P(vs,Xp,t=>{var{typed:e}=t;return e(vs,{"number, number":Ki,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var o=n.clone();return o.value=e.find(r,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})});var Zp="matAlgo11xS0s",Gp=["typed","equalScalar"],Un=P(Zp,Gp,t=>{var{typed:e,equalScalar:r}=t;return function(i,o,f,l){var c=i._values,u=i._index,a=i._ptr,s=i._size,p=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=s[0],v=s[1],m,d=r,g=0,D=f;typeof p=="string"&&(m=p,d=e.find(r,[m,m]),g=e.convert(0,m),o=e.convert(o,m),D=e.find(f,[m,m]));for(var y=[],w=[],b=[],x=0;x<v;x++){b[x]=w.length;for(var A=a[x],C=a[x+1],_=A;_<C;_++){var E=u[_],T=l?D(o,c[_]):D(c[_],o);d(T,g)||(w.push(E),y.push(T))}}return b[v]=w.length,i.createSparseMatrix({values:y,index:w,ptr:b,size:[h,v],datatype:m})}});var $p="matAlgo12xSfs",Qp=["typed","DenseMatrix"],Ar=P($p,Qp,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,o,f,l){var c=i._values,u=i._index,a=i._ptr,s=i._size,p=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=s[0],v=s[1],m,d=f;typeof p=="string"&&(m=p,o=e.convert(o,m),d=e.find(f,[m,m]));for(var g=[],D=[],y=[],w=0;w<v;w++){for(var b=w+1,x=a[w],A=a[w+1],C=x;C<A;C++){var _=u[C];D[_]=c[C],y[_]=b}for(var E=0;E<h;E++)w===0&&(g[E]=[]),y[E]===b?g[E][w]=l?d(o,D[E]):d(D[E],o):g[E][w]=l?d(o,0):d(0,o)}return new r({data:g,size:[h,v],datatype:m})}});var Yp="matAlgo14xDs",Jp=["typed"],Tt=P(Yp,Jp,t=>{var{typed:e}=t;return function(i,o,f,l){var c=i._data,u=i._size,a=i._datatype,s,p=f;typeof a=="string"&&(s=a,o=e.convert(o,s),p=e.find(f,[s,s]));var h=u.length>0?r(p,0,u,u[0],c,o,l):[];return i.createDenseMatrix({data:h,size:de(u),datatype:s})};function r(n,i,o,f,l,c,u){var a=[];if(i===o.length-1)for(var s=0;s<f;s++)a[s]=u?n(c,l[s]):n(l[s],c);else for(var p=0;p<f;p++)a[p]=r(n,i+1,o,o[i+1],l[p],c,u);return a}});var Hp="matAlgo01xDSid",Wp=["typed"],qn=P(Hp,Wp,t=>{var{typed:e}=t;return function(n,i,o,f){var l=n._data,c=n._size,u=n._datatype,a=i._values,s=i._index,p=i._ptr,h=i._size,v=i._datatype;if(c.length!==h.length)throw new Me(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=c[0],d=c[1],g=typeof u=="string"&&u===v?u:void 0,D=g?e.find(o,[g,g]):o,y,w,b=[];for(y=0;y<m;y++)b[y]=[];var x=[],A=[];for(w=0;w<d;w++){for(var C=w+1,_=p[w],E=p[w+1],T=_;T<E;T++)y=s[T],x[y]=f?D(a[T],l[y][w]):D(l[y][w],a[T]),A[y]=C;for(y=0;y<m;y++)A[y]===C?b[y][w]=x[y]:b[y][w]=l[y][w]}return n.createDenseMatrix({data:b,size:[m,d],datatype:g})}});var Kp="matAlgo04xSidSid",jp=["typed","equalScalar"],ds=P(Kp,jp,t=>{var{typed:e,equalScalar:r}=t;return function(i,o,f){var l=i._values,c=i._index,u=i._ptr,a=i._size,s=i._datatype,p=o._values,h=o._index,v=o._ptr,m=o._size,d=o._datatype;if(a.length!==m.length)throw new Me(a.length,m.length);if(a[0]!==m[0]||a[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+m+")");var g=a[0],D=a[1],y,w=r,b=0,x=f;typeof s=="string"&&s===d&&(y=s,w=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(f,[y,y]));var A=l&&p?[]:void 0,C=[],_=[],E=l&&p?[]:void 0,T=l&&p?[]:void 0,M=[],L=[],O,I,F,Z,q;for(I=0;I<D;I++){_[I]=C.length;var N=I+1;for(Z=u[I],q=u[I+1],F=Z;F<q;F++)O=c[F],C.push(O),M[O]=N,E&&(E[O]=l[F]);for(Z=v[I],q=v[I+1],F=Z;F<q;F++)if(O=h[F],M[O]===N){if(E){var B=x(E[O],p[F]);w(B,b)?M[O]=null:E[O]=B}}else C.push(O),L[O]=N,T&&(T[O]=p[F]);if(E&&T)for(F=_[I];F<C.length;)O=C[F],M[O]===N?(A[F]=E[O],F++):L[O]===N?(A[F]=T[O],F++):C.splice(F,1)}return _[D]=C.length,i.createSparseMatrix({values:A,index:C,ptr:_,size:[g,D],datatype:y})}});var em="matAlgo10xSids",rm=["typed","DenseMatrix"],Vn=P(em,rm,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,o,f,l){var c=i._values,u=i._index,a=i._ptr,s=i._size,p=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=s[0],v=s[1],m,d=f;typeof p=="string"&&(m=p,o=e.convert(o,m),d=e.find(f,[m,m]));for(var g=[],D=[],y=[],w=0;w<v;w++){for(var b=w+1,x=a[w],A=a[w+1],C=x;C<A;C++){var _=u[C];D[_]=c[C],y[_]=b}for(var E=0;E<h;E++)w===0&&(g[E]=[]),y[E]===b?g[E][w]=l?d(o,D[E]):d(D[E],o):g[E][w]=o}return new r({data:g,size:[h,v],datatype:m})}});var tm="matAlgo13xDD",nm=["typed"],xs=P(tm,nm,t=>{var{typed:e}=t;return function(i,o,f){var l=i._data,c=i._size,u=i._datatype,a=o._data,s=o._size,p=o._datatype,h=[];if(c.length!==s.length)throw new Me(c.length,s.length);for(var v=0;v<c.length;v++){if(c[v]!==s[v])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+s+")");h[v]=c[v]}var m,d=f;typeof u=="string"&&u===p&&(m=u,d=e.find(f,[m,m]));var g=h.length>0?r(d,0,h,h[0],l,a):[];return i.createDenseMatrix({data:g,size:h,datatype:m})};function r(n,i,o,f,l,c){var u=[];if(i===o.length-1)for(var a=0;a<f;a++)u[a]=n(l[a],c[a]);else for(var s=0;s<f;s++)u[s]=r(n,i+1,o,o[i+1],l[s],c[s]);return u}});var im="matrixAlgorithmSuite",om=["typed","matrix"],xr=P(im,om,t=>{var{typed:e,matrix:r}=t,n=xs({typed:e}),i=Tt({typed:e});return function(f){var l=f.elop,c=f.SD||f.DS,u;l?(u={"DenseMatrix, DenseMatrix":(h,v)=>n(h,v,l),"Array, Array":(h,v)=>n(r(h),r(v),l).valueOf(),"Array, DenseMatrix":(h,v)=>n(r(h),v,l),"DenseMatrix, Array":(h,v)=>n(h,r(v),l)},f.SS&&(u["SparseMatrix, SparseMatrix"]=(h,v)=>f.SS(h,v,l,!1)),f.DS&&(u["DenseMatrix, SparseMatrix"]=(h,v)=>f.DS(h,v,l,!1),u["Array, SparseMatrix"]=(h,v)=>f.DS(r(h),v,l,!1)),c&&(u["SparseMatrix, DenseMatrix"]=(h,v)=>c(v,h,l,!0),u["SparseMatrix, Array"]=(h,v)=>c(r(v),h,l,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(h=>(v,m)=>n(v,m,h)),"Array, Array":e.referToSelf(h=>(v,m)=>n(r(v),r(m),h).valueOf()),"Array, DenseMatrix":e.referToSelf(h=>(v,m)=>n(r(v),m,h)),"DenseMatrix, Array":e.referToSelf(h=>(v,m)=>n(v,r(m),h))},f.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(h=>(v,m)=>f.SS(v,m,h,!1))),f.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(h=>(v,m)=>f.DS(v,m,h,!1)),u["Array, SparseMatrix"]=e.referToSelf(h=>(v,m)=>f.DS(r(v),m,h,!1))),c&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(h=>(v,m)=>c(m,v,h,!0)),u["SparseMatrix, Array"]=e.referToSelf(h=>(v,m)=>c(r(m),v,h,!0))));var a=f.scalar||"any",s=f.Ds||f.Ss;s&&(l?(u["DenseMatrix,"+a]=(h,v)=>i(h,v,l,!1),u[a+", DenseMatrix"]=(h,v)=>i(v,h,l,!0),u["Array,"+a]=(h,v)=>i(r(h),v,l,!1).valueOf(),u[a+", Array"]=(h,v)=>i(r(v),h,l,!0).valueOf()):(u["DenseMatrix,"+a]=e.referToSelf(h=>(v,m)=>i(v,m,h,!1)),u[a+", DenseMatrix"]=e.referToSelf(h=>(v,m)=>i(m,v,h,!0)),u["Array,"+a]=e.referToSelf(h=>(v,m)=>i(r(v),m,h,!1).valueOf()),u[a+", Array"]=e.referToSelf(h=>(v,m)=>i(r(m),v,h,!0).valueOf())));var p=f.sS!==void 0?f.sS:f.Ss;return l?(f.Ss&&(u["SparseMatrix,"+a]=(h,v)=>f.Ss(h,v,l,!1)),p&&(u[a+", SparseMatrix"]=(h,v)=>p(v,h,l,!0))):(f.Ss&&(u["SparseMatrix,"+a]=e.referToSelf(h=>(v,m)=>f.Ss(v,m,h,!1))),p&&(u[a+", SparseMatrix"]=e.referToSelf(h=>(v,m)=>p(m,v,h,!0)))),l&&l.signatures&&Dn(u,l.signatures),u}});var am="matAlgo03xDSf",um=["typed"],_r=P(am,um,t=>{var{typed:e}=t;return function(n,i,o,f){var l=n._data,c=n._size,u=n._datatype,a=i._values,s=i._index,p=i._ptr,h=i._size,v=i._datatype;if(c.length!==h.length)throw new Me(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=c[0],d=c[1],g,D=0,y=o;typeof u=="string"&&u===v&&(g=u,D=e.convert(0,g),y=e.find(o,[g,g]));for(var w=[],b=0;b<m;b++)w[b]=[];for(var x=[],A=[],C=0;C<d;C++){for(var _=C+1,E=p[C],T=p[C+1],M=E;M<T;M++){var L=s[M];x[L]=f?y(a[M],l[L][C]):y(l[L][C],a[M]),A[L]=_}for(var O=0;O<m;O++)A[O]===_?w[O][C]=x[O]:w[O][C]=f?y(D,l[O][C]):y(l[O][C],D)}return n.createDenseMatrix({data:w,size:[m,d],datatype:g})}});var sm="matAlgo05xSfSf",fm=["typed","equalScalar"],gs=P(sm,fm,t=>{var{typed:e,equalScalar:r}=t;return function(i,o,f){var l=i._values,c=i._index,u=i._ptr,a=i._size,s=i._datatype,p=o._values,h=o._index,v=o._ptr,m=o._size,d=o._datatype;if(a.length!==m.length)throw new Me(a.length,m.length);if(a[0]!==m[0]||a[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+m+")");var g=a[0],D=a[1],y,w=r,b=0,x=f;typeof s=="string"&&s===d&&(y=s,w=e.find(r,[y,y]),b=e.convert(0,y),x=e.find(f,[y,y]));var A=l&&p?[]:void 0,C=[],_=[],E=A?[]:void 0,T=A?[]:void 0,M=[],L=[],O,I,F,Z;for(I=0;I<D;I++){_[I]=C.length;var q=I+1;for(F=u[I],Z=u[I+1];F<Z;F++)O=c[F],C.push(O),M[O]=q,E&&(E[O]=l[F]);for(F=v[I],Z=v[I+1];F<Z;F++)O=h[F],M[O]!==q&&C.push(O),L[O]=q,T&&(T[O]=p[F]);if(A)for(F=_[I];F<C.length;){O=C[F];var N=M[O],B=L[O];if(N===q||B===q){var k=N===q?E[O]:b,W=B===q?T[O]:b,V=x(k,W);w(V,b)?C.splice(F,1):(A.push(V),F++)}}}return _[D]=C.length,i.createSparseMatrix({values:A,index:C,ptr:_,size:[g,D],datatype:y})}});var cm="multiplyScalar",lm=["typed"],xo=P(cm,lm,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":ji,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})});var ys="multiply",pm=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],go=P(ys,pm,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:o,dot:f}=t,l=Un({typed:e,equalScalar:o}),c=Tt({typed:e});function u(b,x){switch(b.length){case 1:switch(x.length){case 1:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(b[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+b[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+b[1]+") must match Vector length ("+x[0]+")");break;case 2:if(b[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+b[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+b.length+" dimensions)")}}function a(b,x,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return f(b,x)}function s(b,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(b,x)}function p(b,x){var A=b._data,C=b._size,_=b._datatype,E=x._data,T=x._size,M=x._datatype,L=C[0],O=T[1],I,F=n,Z=i;_&&M&&_===M&&typeof _=="string"&&(I=_,F=e.find(n,[I,I]),Z=e.find(i,[I,I]));for(var q=[],N=0;N<O;N++){for(var B=Z(A[0],E[0][N]),k=1;k<L;k++)B=F(B,Z(A[k],E[k][N]));q[N]=B}return b.createDenseMatrix({data:q,size:[O],datatype:I})}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":m,"SparseMatrix, any":D}),v=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":d,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":w});function m(b,x){var A=b._data,C=b._size,_=b._datatype,E=x._data,T=x._datatype,M=C[0],L=C[1],O,I=n,F=i;_&&T&&_===T&&typeof _=="string"&&(O=_,I=e.find(n,[O,O]),F=e.find(i,[O,O]));for(var Z=[],q=0;q<M;q++){for(var N=A[q],B=F(N[0],E[0]),k=1;k<L;k++)B=I(B,F(N[k],E[k]));Z[q]=B}return b.createDenseMatrix({data:Z,size:[M],datatype:O})}function d(b,x){var A=b._data,C=b._size,_=b._datatype,E=x._data,T=x._size,M=x._datatype,L=C[0],O=C[1],I=T[1],F,Z=n,q=i;_&&M&&_===M&&typeof _=="string"&&(F=_,Z=e.find(n,[F,F]),q=e.find(i,[F,F]));for(var N=[],B=0;B<L;B++){var k=A[B];N[B]=[];for(var W=0;W<I;W++){for(var V=q(k[0],E[0][W]),z=1;z<O;z++)V=Z(V,q(k[z],E[z][W]));N[B][W]=V}}return b.createDenseMatrix({data:N,size:[L,I],datatype:F})}function g(b,x){var A=b._data,C=b._size,_=b._datatype,E=x._values,T=x._index,M=x._ptr,L=x._size,O=x._datatype;if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var I=C[0],F=L[1],Z,q=n,N=i,B=o,k=0;_&&O&&_===O&&typeof _=="string"&&(Z=_,q=e.find(n,[Z,Z]),N=e.find(i,[Z,Z]),B=e.find(o,[Z,Z]),k=e.convert(0,Z));for(var W=[],V=[],z=[],G=x.createSparseMatrix({values:W,index:V,ptr:z,size:[I,F],datatype:Z}),Q=0;Q<F;Q++){z[Q]=V.length;var K=M[Q],te=M[Q+1];if(te>K)for(var ie=0,$=0;$<I;$++){for(var ye=$+1,me=void 0,ae=K;ae<te;ae++){var se=T[ae];ie!==ye?(me=N(A[$][se],E[ae]),ie=ye):me=q(me,N(A[$][se],E[ae]))}ie===ye&&!B(me,k)&&(V.push($),W.push(me))}}return z[F]=V.length,G}function D(b,x){var A=b._values,C=b._index,_=b._ptr,E=b._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=x._data,M=x._datatype,L=b._size[0],O=x._size[0],I=[],F=[],Z=[],q,N=n,B=i,k=o,W=0;E&&M&&E===M&&typeof E=="string"&&(q=E,N=e.find(n,[q,q]),B=e.find(i,[q,q]),k=e.find(o,[q,q]),W=e.convert(0,q));var V=[],z=[];Z[0]=0;for(var G=0;G<O;G++){var Q=T[G];if(!k(Q,W))for(var K=_[G],te=_[G+1],ie=K;ie<te;ie++){var $=C[ie];z[$]?V[$]=N(V[$],B(Q,A[ie])):(z[$]=!0,F.push($),V[$]=B(Q,A[ie]))}}for(var ye=F.length,me=0;me<ye;me++){var ae=F[me];I[me]=V[ae]}return Z[1]=F.length,b.createSparseMatrix({values:I,index:F,ptr:Z,size:[L,1],datatype:q})}function y(b,x){var A=b._values,C=b._index,_=b._ptr,E=b._datatype;if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=x._data,M=x._datatype,L=b._size[0],O=x._size[0],I=x._size[1],F,Z=n,q=i,N=o,B=0;E&&M&&E===M&&typeof E=="string"&&(F=E,Z=e.find(n,[F,F]),q=e.find(i,[F,F]),N=e.find(o,[F,F]),B=e.convert(0,F));for(var k=[],W=[],V=[],z=b.createSparseMatrix({values:k,index:W,ptr:V,size:[L,I],datatype:F}),G=[],Q=[],K=0;K<I;K++){V[K]=W.length;for(var te=K+1,ie=0;ie<O;ie++){var $=T[ie][K];if(!N($,B))for(var ye=_[ie],me=_[ie+1],ae=ye;ae<me;ae++){var se=C[ae];Q[se]!==te?(Q[se]=te,W.push(se),G[se]=q($,A[ae])):G[se]=Z(G[se],q($,A[ae]))}}for(var De=V[K],Ae=W.length,Te=De;Te<Ae;Te++){var ce=W[Te];k[Te]=G[ce]}}return V[I]=W.length,z}function w(b,x){var A=b._values,C=b._index,_=b._ptr,E=b._datatype,T=x._values,M=x._index,L=x._ptr,O=x._datatype,I=b._size[0],F=x._size[1],Z=A&&T,q,N=n,B=i;E&&O&&E===O&&typeof E=="string"&&(q=E,N=e.find(n,[q,q]),B=e.find(i,[q,q]));for(var k=Z?[]:void 0,W=[],V=[],z=b.createSparseMatrix({values:k,index:W,ptr:V,size:[I,F],datatype:q}),G=Z?[]:void 0,Q=[],K,te,ie,$,ye,me,ae,se,De=0;De<F;De++){V[De]=W.length;var Ae=De+1;for(ye=L[De],me=L[De+1],$=ye;$<me;$++)if(se=M[$],Z)for(te=_[se],ie=_[se+1],K=te;K<ie;K++)ae=C[K],Q[ae]!==Ae?(Q[ae]=Ae,W.push(ae),G[ae]=B(T[$],A[K])):G[ae]=N(G[ae],B(T[$],A[K]));else for(te=_[se],ie=_[se+1],K=te;K<ie;K++)ae=C[K],Q[ae]!==Ae&&(Q[ae]=Ae,W.push(ae));if(Z)for(var Te=V[De],ce=W.length,Ee=Te;Ee<ce;Ee++){var Ne=W[Ee];k[Ee]=G[Ne]}}return V[F]=W.length,z}return e(ys,i,{"Array, Array":e.referTo("Matrix, Matrix",b=>(x,A)=>{u(ze(x),ze(A));var C=b(r(x),r(A));return be(C)?C.valueOf():C}),"Matrix, Matrix":function(x,A){var C=x.size(),_=A.size();return u(C,_),C.length===1?_.length===1?a(x,A,C[0]):s(x,A):_.length===1?h(x,A):v(x,A)},"Matrix, Array":e.referTo("Matrix,Matrix",b=>(x,A)=>b(x,r(A))),"Array, Matrix":e.referToSelf(b=>(x,A)=>b(r(x,A.storage()),A)),"SparseMatrix, any":function(x,A){return l(x,A,i,!1)},"DenseMatrix, any":function(x,A){return c(x,A,i,!1)},"any, SparseMatrix":function(x,A){return l(A,x,i,!0)},"any, DenseMatrix":function(x,A){return c(A,x,i,!0)},"Array, any":function(x,A){return c(r(x),A,i,!1).valueOf()},"any, Array":function(x,A){return c(r(A),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(b=>(x,A,C)=>{for(var _=b(x,A),E=0;E<C.length;E++)_=b(_,C[E]);return _})})});var Ds="sign",mm=["typed","BigNumber","Fraction","complex"],yo=P(Ds,mm,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(Ds,{number:Pn,Complex:function(f){return f.im===0?n(Pn(f.re)):f.sign()},BigNumber:function(f){return new r(f.cmp(0))},Fraction:function(f){return new i(f.s,1)},"Array | Matrix":e.referToSelf(o=>f=>Ue(f,o,!0)),Unit:e.referToSelf(o=>f=>{if(!f._isDerived()&&f.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(o,f.valueType())(f.value)})})});var hm="sqrt",vm=["config","typed","Complex"],Do=P(hm,vm,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(f){return f.sqrt()},BigNumber:function(f){return!f.isNegative()||e.predictable?f.sqrt():i(f.toNumber())},Unit:function(f){return f.pow(.5)}});function i(o){return isNaN(o)?NaN:o>=0||e.predictable?Math.sqrt(o):new n(o,0).sqrt()}});var Es="subtract",dm=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],Eo=P(Es,dm,t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:o,DenseMatrix:f}=t,l=qn({typed:e}),c=_r({typed:e}),u=gs({typed:e,equalScalar:n}),a=Vn({typed:e,DenseMatrix:f}),s=Ar({typed:e,DenseMatrix:f}),p=xr({typed:e,matrix:r});return e(Es,{"number, number":(h,v)=>h-v,"Complex, Complex":(h,v)=>h.sub(v),"BigNumber, BigNumber":(h,v)=>h.minus(v),"Fraction, Fraction":(h,v)=>h.sub(v),"Unit, Unit":e.referToSelf(h=>(v,m)=>{if(v.value===null)throw new Error("Parameter x contains a unit with undefined value");if(m.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!v.equalBase(m))throw new Error("Units do not match");var d=v.clone();return d.value=e.find(h,[d.valueType(),m.valueType()])(d.value,m.value),d.fixPrefix=!1,d})},p({SS:u,DS:l,SD:c,Ss:s,sS:a}))});var xm="matAlgo07xSSf",gm=["typed","DenseMatrix"],Ur=P(xm,gm,t=>{var{typed:e,DenseMatrix:r}=t;return function(o,f,l){var c=o._size,u=o._datatype,a=f._size,s=f._datatype;if(c.length!==a.length)throw new Me(c.length,a.length);if(c[0]!==a[0]||c[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+a+")");var p=c[0],h=c[1],v,m=0,d=l;typeof u=="string"&&u===s&&(v=u,m=e.convert(0,v),d=e.find(l,[v,v]));var g,D,y=[];for(g=0;g<p;g++)y[g]=[];var w=[],b=[],x=[],A=[];for(D=0;D<h;D++){var C=D+1;for(n(o,D,x,w,C),n(f,D,A,b,C),g=0;g<p;g++){var _=x[g]===C?w[g]:m,E=A[g]===C?b[g]:m;y[g][D]=d(_,E)}}return new r({data:y,size:[p,h],datatype:v})};function n(i,o,f,l,c){for(var u=i._values,a=i._index,s=i._ptr,p=s[o],h=s[o+1];p<h;p++){var v=a[p];f[v]=c,l[v]=u[p]}}});var ws="conj",ym=["typed"],wo=P(ws,ym,t=>{var{typed:e}=t;return e(ws,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>Ue(n,r))})});var bs="im",Dm=["typed"],bo=P(bs,Dm,t=>{var{typed:e}=t;return e(bs,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>Ue(n,r))})});var As="re",Em=["typed"],Ao=P(As,Em,t=>{var{typed:e}=t;return e(As,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>Ue(n,r))})});var _s="column",wm=["typed","Index","matrix","range"],_o=P(_s,wm,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(_s,{"Matrix, number":o,"Array, number":function(l,c){return o(n(de(l)),c).valueOf()}});function o(f,l){if(f.size().length!==2)throw new Error("Only two dimensional matrix is supported");Oe(l,f.size()[1]);var c=i(0,f.size()[0]),u=new r(c,l);return f.subset(u)}});var Cs="diag",bm=["typed","matrix","DenseMatrix","SparseMatrix"],Co=P(Cs,bm,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(Cs,{Array:function(u){return o(u,0,ze(u),null)},"Array, number":function(u,a){return o(u,a,ze(u),null)},"Array, BigNumber":function(u,a){return o(u,a.toNumber(),ze(u),null)},"Array, string":function(u,a){return o(u,0,ze(u),a)},"Array, number, string":function(u,a,s){return o(u,a,ze(u),s)},"Array, BigNumber, string":function(u,a,s){return o(u,a.toNumber(),ze(u),s)},Matrix:function(u){return o(u,0,u.size(),u.storage())},"Matrix, number":function(u,a){return o(u,a,u.size(),u.storage())},"Matrix, BigNumber":function(u,a){return o(u,a.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,a){return o(u,0,u.size(),a)},"Matrix, number, string":function(u,a,s){return o(u,a,u.size(),s)},"Matrix, BigNumber, string":function(u,a,s){return o(u,a.toNumber(),u.size(),s)}});function o(c,u,a,s){if(!xe(u))throw new TypeError("Second parameter in function diag must be an integer");var p=u>0?u:0,h=u<0?-u:0;switch(a.length){case 1:return f(c,u,s,a[0],h,p);case 2:return l(c,u,s,a,h,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function f(c,u,a,s,p,h){var v=[s+p,s+h];if(a&&a!=="sparse"&&a!=="dense")throw new TypeError("Unknown matrix type ".concat(a,'"'));var m=a==="sparse"?i.diagonal(v,c,u):n.diagonal(v,c,u);return a!==null?m:m.valueOf()}function l(c,u,a,s,p,h){if(be(c)){var v=c.diagonal(u);return a!==null?a!==v.storage()?r(v,a):v:v.valueOf()}for(var m=Math.min(s[0]-p,s[1]-h),d=[],g=0;g<m;g++)d[g]=c[g+p][g+h];return a!==null?r(d):d}});var Ms="flatten",Am=["typed","matrix"],Mo=P(Ms,Am,t=>{var{typed:e,matrix:r}=t;return e(Ms,{Array:function(i){return An(de(i))},Matrix:function(i){var o=An(de(i.toArray()));return r(o)}})});var Ts="identity",_m=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],To=P(Ts,_m,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:o,SparseMatrix:f}=t;return e(Ts,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(a){return n(a)},"number | BigNumber":function(a){return c(a,a,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,s){return c(a,a,s)},"number | BigNumber, number | BigNumber":function(a,s){return c(a,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,s,p){return c(a,s,p)},Array:function(a){return l(a)},"Array, string":function(a,s){return l(a,s)},Matrix:function(a){return l(a.valueOf(),a.storage())},"Matrix, string":function(a,s){return l(a.valueOf(),s)}});function l(u,a){switch(u.length){case 0:return a?n(a):[];case 1:return c(u[0],u[0],a);case 2:return c(u[0],u[1],a);default:throw new Error("Vector containing two values expected")}}function c(u,a,s){var p=ke(u)||ke(a)?i:null;if(ke(u)&&(u=u.toNumber()),ke(a)&&(a=a.toNumber()),!xe(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!xe(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var h=p?new i(1):1,v=p?new p(0):0,m=[u,a];if(s){if(s==="sparse")return f.diagonal(m,h,0,v);if(s==="dense")return o.diagonal(m,h,0,v);throw new TypeError('Unknown matrix type "'.concat(s,'"'))}for(var d=pt([],m,v),g=u<a?u:a,D=0;D<g;D++)d[D][D]=h;return d}});function Xn(){throw new Error('No "bignumber" implementation available')}function Ss(){throw new Error('No "fraction" implementation available')}function Zn(){throw new Error('No "matrix" implementation available')}var Fs="range",Cm=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],So=P(Fs,Cm,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:o,smallerEq:f,larger:l,largerEq:c}=t;return e(Fs,{string:a,"string, boolean":a,"number, number":function(g,D){return u(s(g,D,1))},"number, number, number":function(g,D,y){return u(s(g,D,y))},"number, number, boolean":function(g,D,y){return u(y?p(g,D,1):s(g,D,1))},"number, number, number, boolean":function(g,D,y,w){return u(w?p(g,D,y):s(g,D,y))},"BigNumber, BigNumber":function(g,D){var y=g.constructor;return u(h(g,D,new y(1)))},"BigNumber, BigNumber, BigNumber":function(g,D,y){return u(h(g,D,y))},"BigNumber, BigNumber, boolean":function(g,D,y){var w=g.constructor;return u(y?v(g,D,new w(1)):h(g,D,new w(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(g,D,y,w){return u(w?v(g,D,y):h(g,D,y))}});function u(d){return r.matrix==="Matrix"?n?n(d):Zn():d}function a(d,g){var D=m(d);if(!D)throw new SyntaxError('String "'+d+'" is no valid range');var y;return r.number==="BigNumber"?(i===void 0&&Xn(),y=g?v:h,u(y(i(D.start),i(D.end),i(D.step)))):(y=g?p:s,u(y(D.start,D.end,D.step)))}function s(d,g,D){var y=[],w=d;if(D>0)for(;o(w,g);)y.push(w),w+=D;else if(D<0)for(;l(w,g);)y.push(w),w+=D;return y}function p(d,g,D){var y=[],w=d;if(D>0)for(;f(w,g);)y.push(w),w+=D;else if(D<0)for(;c(w,g);)y.push(w),w+=D;return y}function h(d,g,D){var y=i(0),w=[],b=d;if(D.gt(y))for(;o(b,g);)w.push(b),b=b.plus(D);else if(D.lt(y))for(;l(b,g);)w.push(b),b=b.plus(D);return w}function v(d,g,D){var y=i(0),w=[],b=d;if(D.gt(y))for(;f(b,g);)w.push(b),b=b.plus(D);else if(D.lt(y))for(;c(b,g);)w.push(b),b=b.plus(D);return w}function m(d){var g=d.split(":"),D=g.map(function(w){return Number(w)}),y=D.some(function(w){return isNaN(w)});if(y)return null;switch(D.length){case 2:return{start:D[0],end:D[1],step:1};case 3:return{start:D[0],end:D[2],step:D[1]};default:return null}}});var Ns="size",Mm=["typed","config","?matrix"],Fo=P(Ns,Mm,t=>{var{typed:e,config:r,matrix:n}=t;return e(Ns,{Matrix:function(o){return o.create(o.size())},Array:ze,string:function(o){return r.matrix==="Array"?[o.length]:n([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return r.matrix==="Array"?[]:n?n([]):Zn()}})});var Bs="transpose",Tm=["typed","matrix"],No=P(Bs,Tm,t=>{var{typed:e,matrix:r}=t;return e(Bs,{Array:f=>n(r(f)).valueOf(),Matrix:n,any:de});function n(f){var l=f.size(),c;switch(l.length){case 1:c=f.clone();break;case 2:{var u=l[0],a=l[1];if(a===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Be(l)+")");switch(f.storage()){case"dense":c=i(f,u,a);break;case"sparse":c=o(f,u,a);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Be(l)+")")}return c}function i(f,l,c){for(var u=f._data,a=[],s,p=0;p<c;p++){s=a[p]=[];for(var h=0;h<l;h++)s[h]=de(u[h][p])}return f.createDenseMatrix({data:a,size:[c,l],datatype:f._datatype})}function o(f,l,c){for(var u=f._values,a=f._index,s=f._ptr,p=u?[]:void 0,h=[],v=[],m=[],d=0;d<l;d++)m[d]=0;var g,D,y;for(g=0,D=a.length;g<D;g++)m[a[g]]++;for(var w=0,b=0;b<l;b++)v.push(w),w+=m[b],m[b]=v[b];for(v.push(w),y=0;y<c;y++)for(var x=s[y],A=s[y+1],C=x;C<A;C++){var _=m[a[C]]++;h[_]=y,u&&(p[_]=de(u[C]))}return f.createSparseMatrix({values:p,index:h,ptr:v,size:[c,l],datatype:f._datatype})}});var Is="zeros",Sm=["typed","config","matrix","BigNumber"],Bo=P(Is,Sm,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(Is,{"":function(){return r.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var a=u[u.length-1];if(typeof a=="string"){var s=u.pop();return o(u,s)}else return r.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var a=u.storage();return o(u.valueOf(),a)},"Array | Matrix, string":function(u,a){return o(u.valueOf(),a)}});function o(c,u){var a=f(c),s=a?new i(0):0;if(l(c),u){var p=n(u);return c.length>0?p.resize(c,s):p}else{var h=[];return c.length>0?pt(h,c,s):h}}function f(c){var u=!1;return c.forEach(function(a,s,p){ke(a)&&(u=!0,p[s]=a.toNumber())}),u}function l(c){c.forEach(function(u){if(typeof u!="number"||!xe(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}});function St(t,e,r){var n;return String(t).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Ke(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Ke(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var Fm="numeric",Nm=["number","?bignumber","?fraction"],Io=P(Fm,Nm,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:f=>e(f),BigNumber:r?f=>r(f):Xn,Fraction:n?f=>n(f):Ss};return function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=Ke(l);if(!(a in i))throw new TypeError("Cannot convert "+l+' of type "'+a+'"; valid input types are '+Object.keys(i).join(", "));if(!(c in o))throw new TypeError("Cannot convert "+l+' to type "'+c+'"; valid output types are '+Object.keys(o).join(", "));return c===a?l:o[c](l)}});var Rs="divideScalar",Bm=["typed","numeric"],Ro=P(Rs,Bm,t=>{var{typed:e,numeric:r}=t;return e(Rs,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var Ls="pow",Im=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Lo=P(Ls,Im,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:o,inv:f,number:l,fraction:c,Complex:u}=t;return e(Ls,{"number, number":a,"Complex, Complex":function(v,m){return v.pow(m)},"BigNumber, BigNumber":function(v,m){return m.isInteger()||v>=0||r.predictable?v.pow(m):new u(v.toNumber(),0).pow(m.toNumber(),0)},"Fraction, Fraction":function(v,m){var d=v.pow(m);if(d!=null)return d;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return a(v.valueOf(),m.valueOf())},"Array, number":s,"Array, BigNumber":function(v,m){return s(v,m.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(v,m){return p(v,m.toNumber())},"Unit, number | BigNumber":function(v,m){return v.pow(m)}});function a(h,v){if(r.predictable&&!xe(v)&&h<0)try{var m=c(v),d=l(m);if((v===d||Math.abs((v-d)/v)<1e-14)&&m.d%2===1)return(m.n%2===0?1:-1)*Math.pow(-h,v)}catch{}return r.predictable&&(h<-1&&v===1/0||h>-1&&h<0&&v===-1/0)?NaN:xe(v)||h>=0||r.predictable?ro(h,v):h*h<1&&v===1/0||h*h>1&&v===-1/0?0:new u(h,0).pow(v,0)}function s(h,v){if(!xe(v))throw new TypeError("For A^b, b must be an integer (value is "+v+")");var m=ze(h);if(m.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+m.length+" dimensions)");if(m[0]!==m[1])throw new Error("For A^b, A must be square (size is "+m[0]+"x"+m[1]+")");if(v<0)try{return s(f(h),-v)}catch(D){throw D.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+v+")"):D}for(var d=n(m[0]).valueOf(),g=h;v>=1;)(v&1)===1&&(d=i(g,d)),v>>=1,g=i(g,g);return d}function p(h,v){return o(s(h.valueOf(),v))}});function nt(t){var{DenseMatrix:e}=t;return function(n,i,o){var f=n.size();if(f.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Be(f)+")");var l=f[0],c=f[1];if(l!==c)throw new RangeError("Matrix must be square (size: "+Be(f)+")");var u=[];if(be(i)){var a=i.size(),s=i._data;if(a.length===1){if(a[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<l;p++)u[p]=[s[p]];return new e({data:u,size:[l,1],datatype:i._datatype})}if(a.length===2){if(a[0]!==l||a[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(xn(i)){if(o){u=[];for(var h=0;h<l;h++)u[h]=[s[h][0]];return new e({data:u,size:[l,1],datatype:i._datatype})}return i}if(gn(i)){for(var v=0;v<l;v++)u[v]=[0];for(var m=i._values,d=i._index,g=i._ptr,D=g[1],y=g[0];y<D;y++){var w=d[y];u[w][0]=m[y]}return new e({data:u,size:[l,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Fe(i)){var b=ze(i);if(b.length===1){if(b[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<l;x++)u[x]=[i[x]];return new e({data:u,size:[l,1]})}if(b.length===2){if(b[0]!==l||b[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<l;A++)u[A]=[i[A][0]];return new e({data:u,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Os="lsolve",Rm=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Oo=P(Os,Rm,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:o,equalScalar:f,DenseMatrix:l}=t,c=nt({DenseMatrix:l});return e(Os,{"SparseMatrix, Array | Matrix":function(p,h){return a(p,h)},"DenseMatrix, Array | Matrix":function(p,h){return u(p,h)},"Array, Array | Matrix":function(p,h){var v=r(p),m=u(v,h);return m.valueOf()}});function u(s,p){p=c(s,p,!0);for(var h=p._data,v=s._size[0],m=s._size[1],d=[],g=s._data,D=0;D<m;D++){var y=h[D][0]||0,w=void 0;if(f(y,0))w=0;else{var b=g[D][D];if(f(b,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(y,b);for(var x=D+1;x<v;x++)h[x]=[o(h[x][0]||0,i(w,g[x][D]))]}d[D]=[w]}return new l({data:d,size:[v,1]})}function a(s,p){p=c(s,p,!0);for(var h=p._data,v=s._size[0],m=s._size[1],d=s._values,g=s._index,D=s._ptr,y=[],w=0;w<m;w++){var b=h[w][0]||0;if(f(b,0))y[w]=[0];else{for(var x=0,A=[],C=[],_=D[w],E=D[w+1],T=_;T<E;T++){var M=g[T];M===w?x=d[T]:M>w&&(A.push(d[T]),C.push(M))}if(f(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=n(b,x),O=0,I=C.length;O<I;O++){var F=C[O];h[F]=[o(h[F][0]||0,i(L,A[O]))]}y[w]=[L]}}return new l({data:y,size:[v,1]})}});var Ps="usolve",Lm=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Po=P(Ps,Lm,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:o,equalScalar:f,DenseMatrix:l}=t,c=nt({DenseMatrix:l});return e(Ps,{"SparseMatrix, Array | Matrix":function(p,h){return a(p,h)},"DenseMatrix, Array | Matrix":function(p,h){return u(p,h)},"Array, Array | Matrix":function(p,h){var v=r(p),m=u(v,h);return m.valueOf()}});function u(s,p){p=c(s,p,!0);for(var h=p._data,v=s._size[0],m=s._size[1],d=[],g=s._data,D=m-1;D>=0;D--){var y=h[D][0]||0,w=void 0;if(f(y,0))w=0;else{var b=g[D][D];if(f(b,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(y,b);for(var x=D-1;x>=0;x--)h[x]=[o(h[x][0]||0,i(w,g[x][D]))]}d[D]=[w]}return new l({data:d,size:[v,1]})}function a(s,p){p=c(s,p,!0);for(var h=p._data,v=s._size[0],m=s._size[1],d=s._values,g=s._index,D=s._ptr,y=[],w=m-1;w>=0;w--){var b=h[w][0]||0;if(f(b,0))y[w]=[0];else{for(var x=0,A=[],C=[],_=D[w],E=D[w+1],T=E-1;T>=_;T--){var M=g[T];M===w?x=d[T]:M<w&&(A.push(d[T]),C.push(M))}if(f(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=n(b,x),O=0,I=C.length;O<I;O++){var F=C[O];h[F]=[o(h[F][0],i(L,A[O]))]}y[w]=[L]}}return new l({data:y,size:[v,1]})}});var zs="usolveAll",Om=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],zo=P(zs,Om,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:o,equalScalar:f,DenseMatrix:l}=t,c=nt({DenseMatrix:l});return e(zs,{"SparseMatrix, Array | Matrix":function(p,h){return a(p,h)},"DenseMatrix, Array | Matrix":function(p,h){return u(p,h)},"Array, Array | Matrix":function(p,h){var v=r(p),m=u(v,h);return m.map(d=>d.valueOf())}});function u(s,p){for(var h=[c(s,p,!0)._data.map(C=>C[0])],v=s._data,m=s._size[0],d=s._size[1],g=d-1;g>=0;g--)for(var D=h.length,y=0;y<D;y++){var w=h[y];if(f(v[g][g],0))if(f(w[g],0)){if(y===0){var x=[...w];x[g]=1;for(var A=g-1;A>=0;A--)x[A]=o(x[A],v[A][g]);h.push(x)}}else{if(y===0)return[];h.splice(y,1),y-=1,D-=1}else{w[g]=n(w[g],v[g][g]);for(var b=g-1;b>=0;b--)w[b]=o(w[b],i(w[g],v[b][g]))}}return h.map(C=>new l({data:C.map(_=>[_]),size:[m,1]}))}function a(s,p){for(var h=[c(s,p,!0)._data.map(k=>k[0])],v=s._size[0],m=s._size[1],d=s._values,g=s._index,D=s._ptr,y=m-1;y>=0;y--)for(var w=h.length,b=0;b<w;b++){for(var x=h[b],A=[],C=[],_=D[y],E=D[y+1],T=0,M=E-1;M>=_;M--){var L=g[M];L===y?T=d[M]:L<y&&(A.push(d[M]),C.push(L))}if(f(T,0))if(f(x[y],0)){if(b===0){var Z=[...x];Z[y]=1;for(var q=0,N=C.length;q<N;q++){var B=C[q];Z[B]=o(Z[B],A[q])}h.push(Z)}}else{if(b===0)return[];h.splice(b,1),b-=1,w-=1}else{x[y]=n(x[y],T);for(var O=0,I=C.length;O<I;O++){var F=C[O];x[F]=o(x[F],i(x[y],A[O]))}}}return h.map(k=>new l({data:k.map(W=>[W]),size:[v,1]}))}});var Gn="equal",Pm=["typed","matrix","equalScalar","DenseMatrix"],ko=P(Gn,Pm,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i}=t,o=_r({typed:e}),f=Ur({typed:e,DenseMatrix:i}),l=Ar({typed:e,DenseMatrix:i}),c=xr({typed:e,matrix:r});return e(Gn,zm({typed:e,equalScalar:n}),c({elop:n,SS:f,DS:o,Ss:l}))}),zm=P(Gn,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Gn,{"any, any":function(i,o){return i===null?o===null:o===null?i===null:i===void 0?o===void 0:o===void 0?i===void 0:r(i,o)}})});var $n="smaller",km=["typed","config","matrix","DenseMatrix"],Uo=P($n,km,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,o=_r({typed:e}),f=Ur({typed:e,DenseMatrix:i}),l=Ar({typed:e,DenseMatrix:i}),c=xr({typed:e,matrix:n}),u=kr({typed:e});return e($n,Um({typed:e,config:r}),{"boolean, boolean":(a,s)=>a<s,"BigNumber, BigNumber":function(s,p){return s.lt(p)&&!zr(s,p,r.epsilon)},"Fraction, Fraction":(a,s)=>a.compare(s)===-1,"Complex, Complex":function(s,p){throw new TypeError("No ordering relation is defined for complex numbers")}},u,c({SS:f,DS:o,Ss:l}))}),Um=P($n,["typed","config"],t=>{var{typed:e,config:r}=t;return e($n,{"number, number":function(i,o){return i<o&&!hr(i,o,r.epsilon)}})});var Qn="smallerEq",qm=["typed","config","matrix","DenseMatrix"],qo=P(Qn,qm,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,o=_r({typed:e}),f=Ur({typed:e,DenseMatrix:i}),l=Ar({typed:e,DenseMatrix:i}),c=xr({typed:e,matrix:n}),u=kr({typed:e});return e(Qn,Vm({typed:e,config:r}),{"boolean, boolean":(a,s)=>a<=s,"BigNumber, BigNumber":function(s,p){return s.lte(p)||zr(s,p,r.epsilon)},"Fraction, Fraction":(a,s)=>a.compare(s)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,c({SS:f,DS:o,Ss:l}))}),Vm=P(Qn,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Qn,{"number, number":function(i,o){return i<=o||hr(i,o,r.epsilon)}})});var Yn="larger",Xm=["typed","config","matrix","DenseMatrix"],Vo=P(Yn,Xm,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,o=_r({typed:e}),f=Ur({typed:e,DenseMatrix:i}),l=Ar({typed:e,DenseMatrix:i}),c=xr({typed:e,matrix:n}),u=kr({typed:e});return e(Yn,Zm({typed:e,config:r}),{"boolean, boolean":(a,s)=>a>s,"BigNumber, BigNumber":function(s,p){return s.gt(p)&&!zr(s,p,r.epsilon)},"Fraction, Fraction":(a,s)=>a.compare(s)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,c({SS:f,DS:o,Ss:l}))}),Zm=P(Yn,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Yn,{"number, number":function(i,o){return i>o&&!hr(i,o,r.epsilon)}})});var Jn="largerEq",Gm=["typed","config","matrix","DenseMatrix"],Xo=P(Jn,Gm,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i}=t,o=_r({typed:e}),f=Ur({typed:e,DenseMatrix:i}),l=Ar({typed:e,DenseMatrix:i}),c=xr({typed:e,matrix:n}),u=kr({typed:e});return e(Jn,$m({typed:e,config:r}),{"boolean, boolean":(a,s)=>a>=s,"BigNumber, BigNumber":function(s,p){return s.gte(p)||zr(s,p,r.epsilon)},"Fraction, Fraction":(a,s)=>a.compare(s)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},u,c({SS:f,DS:o,Ss:l}))}),$m=P(Jn,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Jn,{"number, number":function(i,o){return i>=o||hr(i,o,r.epsilon)}})});var ks="max",Qm=["typed","config","numeric","larger"],Zo=P(ks,Qm,t=>{var{typed:e,config:r,numeric:n,larger:i}=t;return e(ks,{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(c,u){return On(c,u.valueOf(),o)},"...":function(c){if(Ln(c))throw new TypeError("Scalar values expected in function max");return f(c)}});function o(l,c){try{return i(l,c)?l:c}catch(u){throw St(u,"max",c)}}function f(l){var c;if(Wt(l,function(u){try{isNaN(u)&&typeof u=="number"?c=NaN:(c===void 0||i(u,c))&&(c=u)}catch(a){throw St(a,"max",u)}}),c===void 0)throw new Error("Cannot calculate max of an empty array");return typeof c=="string"&&(c=n(c,r.number)),c}});var Us="min",Ym=["typed","config","numeric","smaller"],Go=P(Us,Ym,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t;return e(Us,{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(c,u){return On(c,u.valueOf(),o)},"...":function(c){if(Ln(c))throw new TypeError("Scalar values expected in function min");return f(c)}});function o(l,c){try{return i(l,c)?l:c}catch(u){throw St(u,"min",c)}}function f(l){var c;if(Wt(l,function(u){try{isNaN(u)&&typeof u=="number"?c=NaN:(c===void 0||i(u,c))&&(c=u)}catch(a){throw St(a,"min",u)}}),c===void 0)throw new Error("Cannot calculate min of an empty array");return typeof c=="string"&&(c=n(c,r.number)),c}});var Jm="ImmutableDenseMatrix",Hm=["smaller","DenseMatrix"],$o=P(Jm,Hm,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!ir(o))throw new Error("Invalid datatype: "+o);if(be(i)||Fe(i)){var f=new r(i,o);this._data=f._data,this._size=f._size,this._datatype=f._datatype,this._min=null,this._max=null}else if(i&&Fe(i.data)&&Fe(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Ke(i)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var o=r.prototype.subset.call(this,i);return be(o)?new n({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:de(this._data),size:de(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(o){(i===null||e(o,i))&&(i=o)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(o){(i===null||e(i,o))&&(i=o)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var Wm="Index",Km=["ImmutableDenseMatrix"],Qo=P(Wm,Km,t=>{var{ImmutableDenseMatrix:e}=t;function r(i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var o=0,f=arguments.length;o<f;o++){var l=arguments[o];if(yn(l))this._dimensions.push(l),this._isScalar=!1;else if(Array.isArray(l)||be(l)){var c=n(l.valueOf());this._dimensions.push(c);var u=c.size();(u.length!==1||u[0]!==1)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(n([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}r.prototype.type="Index",r.prototype.isIndex=!0;function n(i){for(var o=0,f=i.length;o<f;o++)if(typeof i[o]!="number"||!xe(i[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(i)}return r.prototype.clone=function(){var i=new r;return i._dimensions=de(this._dimensions),i._isScalar=this._isScalar,i},r.create=function(i){var o=new r;return r.apply(o,i),o},r.prototype.size=function(){for(var i=[],o=0,f=this._dimensions.length;o<f;o++){var l=this._dimensions[o];i[o]=typeof l=="string"?1:l.size()[0]}return i},r.prototype.max=function(){for(var i=[],o=0,f=this._dimensions.length;o<f;o++){var l=this._dimensions[o];i[o]=typeof l=="string"?l:l.max()}return i},r.prototype.min=function(){for(var i=[],o=0,f=this._dimensions.length;o<f;o++){var l=this._dimensions[o];i[o]=typeof l=="string"?l:l.min()}return i},r.prototype.forEach=function(i){for(var o=0,f=this._dimensions.length;o<f;o++)i(this._dimensions[o],o,this)},r.prototype.dimension=function(i){return this._dimensions[i]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var i=[],o=0,f=this._dimensions.length;o<f;o++){var l=this._dimensions[o];i.push(typeof l=="string"?l:l.toArray())}return i},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var i=[],o=0,f=this._dimensions.length;o<f;o++){var l=this._dimensions[o];typeof l=="string"?i.push(JSON.stringify(l)):i.push(l.toString())}return"["+i.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(i){return r.create(i.dimensions)},r},{isClass:!0});var jm="FibonacciHeap",e0=["smaller","larger"],Yo=P(jm,e0,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(a,s){var p={key:a,value:s,degree:0};if(this._minimum){var h=this._minimum;p.left=h,p.right=h.right,h.right=p,p.right.left=p,e(a,h.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var a=this._minimum;if(a===null)return a;for(var s=this._minimum,p=a.degree,h=a.child;p>0;){var v=h.right;h.left.right=h.right,h.right.left=h.left,h.left=s,h.right=s.right,s.right=h,h.right.left=h,h.parent=null,h=v,p--}return a.left.right=a.right,a.right.left=a.left,a===a.right?s=null:(s=a.right,s=u(s,this._size)),this._size--,this._minimum=s,a},i.prototype.remove=function(a){this._minimum=o(this._minimum,a,-1),this.extractMinimum()};function o(a,s,p){s.key=p;var h=s.parent;return h&&e(s.key,h.key)&&(f(a,s,h),l(a,h)),e(s.key,a.key)&&(a=s),a}function f(a,s,p){s.left.right=s.right,s.right.left=s.left,p.degree--,p.child===s&&(p.child=s.right),p.degree===0&&(p.child=null),s.left=a,s.right=a.right,a.right=s,s.right.left=s,s.parent=null,s.mark=!1}function l(a,s){var p=s.parent;!p||(s.mark?(f(a,s,p),l(p)):s.mark=!0)}var c=function(s,p){s.left.right=s.right,s.right.left=s.left,s.parent=p,p.child?(s.left=p.child,s.right=p.child.right,p.child.right=s,s.right.left=s):(p.child=s,s.right=s,s.left=s),p.degree++,s.mark=!1};function u(a,s){var p=Math.floor(Math.log(s)*n)+1,h=new Array(p),v=0,m=a;if(m)for(v++,m=m.right;m!==a;)v++,m=m.right;for(var d;v>0;){for(var g=m.degree,D=m.right;d=h[g],!!d;){if(r(m.key,d.key)){var y=d;d=m,m=y}c(d,m),h[g]=null,g++}h[g]=m,m=D,v--}a=null;for(var w=0;w<p;w++)d=h[w],d&&(a?(d.left.right=d.right,d.right.left=d.left,d.left=a,d.right=a.right,a.right=d,d.right.left=d,e(d.key,a.key)&&(a=d)):a=d);return a}return i},{isClass:!0});var r0="Spa",t0=["addScalar","equalScalar","FibonacciHeap"],Jo=P(r0,t0,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(o,f){if(this._values[o])this._values[o].value=f;else{var l=this._heap.insert(o,f);this._values[o]=l}},i.prototype.get=function(o){var f=this._values[o];return f?f.value:0},i.prototype.accumulate=function(o,f){var l=this._values[o];l?l.value=e(l.value,f):(l=this._heap.insert(o,f),this._values[o]=l)},i.prototype.forEach=function(o,f,l){var c=this._heap,u=this._values,a=[],s=c.extractMinimum();for(s&&a.push(s);s&&s.key<=f;)s.key>=o&&(r(s.value,0)||l(s.key,s.value,this)),s=c.extractMinimum(),s&&a.push(s);for(var p=0;p<a.length;p++){var h=a[p];s=c.insert(h.key,h.value),u[s.key]=s}},i.prototype.swap=function(o,f){var l=this._values[o],c=this._values[f];if(!l&&c)l=this._heap.insert(o,c.value),this._heap.remove(c),this._values[o]=l,this._values[f]=void 0;else if(l&&!c)c=this._heap.insert(f,l.value),this._heap.remove(l),this._values[f]=c,this._values[o]=void 0;else if(l&&c){var u=l.value;l.value=c.value,c.value=u}},i},{isClass:!0});var n0="atan",i0=["typed"],Ho=P(n0,i0,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var Hn=P("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}});var qs="cos",o0=["typed"],Wo=P(qs,o0,t=>{var{typed:e}=t,r=Hn({typed:e});return e(qs,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)});var Vs="sin",a0=["typed"],Ko=P(Vs,a0,t=>{var{typed:e}=t,r=Hn({typed:e});return e(Vs,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)});var Xs="add",u0=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],jo=P(Xs,u0,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:o,SparseMatrix:f}=t,l=qn({typed:e}),c=ds({typed:e,equalScalar:i}),u=Vn({typed:e,DenseMatrix:o}),a=xr({typed:e,matrix:r});return e(Xs,{"any, any":n,"any, any, ...any":e.referToSelf(s=>(p,h,v)=>{for(var m=s(p,h),d=0;d<v.length;d++)m=s(m,v[d]);return m})},a({elop:n,DS:l,SS:c,Ss:u}))});var Zs="dot",s0=["typed","addScalar","multiplyScalar","conj","size"],ea=P(Zs,s0,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:o}=t;return e(Zs,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":c});function f(a,s){var p=u(a),h=u(s),v,m;if(p.length===1)v=p[0];else if(p.length===2&&p[1]===1)v=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(h.length===1)m=h[0];else if(h.length===2&&h[1]===1)m=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(v!==m)throw new RangeError("Vectors must have equal length ("+v+" != "+m+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function l(a,s){var p=f(a,s),h=be(a)?a._data:a,v=be(a)?a._datatype:void 0,m=be(s)?s._data:s,d=be(s)?s._datatype:void 0,g=u(a).length===2,D=u(s).length===2,y=r,w=n;if(v&&d&&v===d&&typeof v=="string"){var b=v;y=e.find(r,[b,b]),w=e.find(n,[b,b])}if(!g&&!D){for(var x=w(i(h[0]),m[0]),A=1;A<p;A++)x=y(x,w(i(h[A]),m[A]));return x}if(!g&&D){for(var C=w(i(h[0]),m[0][0]),_=1;_<p;_++)C=y(C,w(i(h[_]),m[_][0]));return C}if(g&&!D){for(var E=w(i(h[0][0]),m[0]),T=1;T<p;T++)E=y(E,w(i(h[T][0]),m[T]));return E}if(g&&D){for(var M=w(i(h[0][0]),m[0][0]),L=1;L<p;L++)M=y(M,w(i(h[L][0]),m[L][0]));return M}}function c(a,s){f(a,s);for(var p=a._index,h=a._values,v=s._index,m=s._values,d=0,g=r,D=n,y=0,w=0;y<p.length&&w<v.length;){var b=p[y],x=v[w];if(b<x){y++;continue}if(b>x){w++;continue}b===x&&(d=g(d,D(h[y],m[w])),y++,w++)}return d}function u(a){return be(a)?a.size():o(a)}});var Gs="lup",f0=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],ra=P(Gs,f0,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:o,multiplyScalar:f,subtract:l,larger:c,equalScalar:u,unaryMinus:a,DenseMatrix:s,SparseMatrix:p,Spa:h}=t;return e(Gs,{DenseMatrix:function(g){return v(g)},SparseMatrix:function(g){return m(g)},Array:function(g){var D=r(g),y=v(D);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function v(d){var g=d._size[0],D=d._size[1],y=Math.min(g,D),w=de(d._data),b=[],x=[g,y],A=[],C=[y,D],_,E,T,M=[];for(_=0;_<g;_++)M[_]=_;for(E=0;E<D;E++){if(E>0)for(_=0;_<g;_++){var L=Math.min(_,E),O=0;for(T=0;T<L;T++)O=i(O,f(w[_][T],w[T][E]));w[_][E]=l(w[_][E],O)}var I=E,F=0,Z=0;for(_=E;_<g;_++){var q=w[_][E],N=n(q);c(N,F)&&(I=_,F=N,Z=q)}if(E!==I&&(M[E]=[M[I],M[I]=M[E]][0],s._swapRows(E,I,w)),E<g)for(_=E+1;_<g;_++){var B=w[_][E];u(B,0)||(w[_][E]=o(w[_][E],Z))}}for(E=0;E<D;E++)for(_=0;_<g;_++){if(E===0&&(_<D&&(A[_]=[]),b[_]=[]),_<E){_<D&&(A[_][E]=w[_][E]),E<g&&(b[_][E]=0);continue}if(_===E){_<D&&(A[_][E]=w[_][E]),E<g&&(b[_][E]=1);continue}_<D&&(A[_][E]=0),E<g&&(b[_][E]=w[_][E])}var k=new s({data:b,size:x}),W=new s({data:A,size:C}),V=[];for(_=0,y=M.length;_<y;_++)V[M[_]]=_;return{L:k,U:W,p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function m(d){var g=d._size[0],D=d._size[1],y=Math.min(g,D),w=d._values,b=d._index,x=d._ptr,A=[],C=[],_=[],E=[g,y],T=[],M=[],L=[],O=[y,D],I,F,Z,q=[],N=[];for(I=0;I<g;I++)q[I]=I,N[I]=I;var B=function(V,z){var G=N[V],Q=N[z];q[G]=z,q[Q]=V,N[V]=Q,N[z]=G},k=function(){var V=new h;F<g&&(_.push(A.length),A.push(1),C.push(F)),L.push(T.length);var z=x[F],G=x[F+1];for(Z=z;Z<G;Z++)I=b[Z],V.set(q[I],w[Z]);F>0&&V.forEach(0,F-1,function(ie,$){p._forEachRow(ie,A,C,_,function(ye,me){ye>ie&&V.accumulate(ye,a(f(me,$)))})});var Q=F,K=V.get(F),te=n(K);V.forEach(F+1,g-1,function(ie,$){var ye=n($);c(ye,te)&&(Q=ie,te=ye,K=$)}),F!==Q&&(p._swapRows(F,Q,E[1],A,C,_),p._swapRows(F,Q,O[1],T,M,L),V.swap(F,Q),B(F,Q)),V.forEach(0,g-1,function(ie,$){ie<=F?(T.push($),M.push(ie)):($=o($,K),u($,0)||(A.push($),C.push(ie)))})};for(F=0;F<D;F++)k();return L.push(T.length),_.push(A.length),{L:new p({values:A,index:C,ptr:_,size:E}),U:new p({values:T,index:M,ptr:L,size:O}),p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var $s="qr",c0=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],ta=P($s,c0,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:o,equal:f,sign:l,sqrt:c,conj:u,unaryMinus:a,addScalar:s,divideScalar:p,multiplyScalar:h,subtract:v,complex:m}=t;return lt(e($s,{DenseMatrix:function(w){return g(w)},SparseMatrix:function(w){return D(w)},Array:function(w){var b=r(w),x=g(b);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:d});function d(y){var w=y._size[0],b=y._size[1],x=i([w],"dense"),A=x._data,C=y.clone(),_=C._data,E,T,M,L=n([w],"");for(M=0;M<Math.min(b,w);++M){var O=_[M][M],I=a(f(O,0)?1:l(O)),F=u(I),Z=0;for(E=M;E<w;E++)Z=s(Z,h(_[E][M],u(_[E][M])));var q=h(I,c(Z));if(!o(q)){var N=v(O,q);for(L[M]=1,E=M+1;E<w;E++)L[E]=p(_[E][M],N);var B=a(u(p(N,q))),k=void 0;for(T=M;T<b;T++){for(k=0,E=M;E<w;E++)k=s(k,h(u(L[E]),_[E][T]));for(k=h(k,B),E=M;E<w;E++)_[E][T]=h(v(_[E][T],h(L[E],k)),F)}for(E=0;E<w;E++){for(k=0,T=M;T<w;T++)k=s(k,h(A[E][T],L[T]));for(k=h(k,B),T=M;T<w;++T)A[E][T]=p(v(A[E][T],h(k,u(L[T]))),F)}}}return{Q:x,R:C,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function g(y){var w=d(y),b=w.R._data;if(y._data.length>0)for(var x=b[0][0].type==="Complex"?m(0):0,A=0;A<b.length;++A)for(var C=0;C<A&&C<(b[0]||[]).length;++C)b[A][C]=x;return w}function D(y){throw new Error("qr not implemented for sparse matrices yet")}});function Qs(t,e,r,n){for(var i=t._values,o=t._index,f=t._ptr,l=t._size,c=t._datatype,u=l[0],a=l[1],s=n&&t._values?[]:null,p=[],h=[],v=0,m=0;m<a;m++){h[m]=v;for(var d=r?r[m]:m,g=f[d],D=f[d+1],y=g;y<D;y++){var w=e?e[o[y]]:o[y];p[v]=w,s&&(s[v]=i[y]),v++}}return h[a]=v,t.createSparseMatrix({values:s,index:p,ptr:h,size:[u,a],datatype:c})}function Wn(t,e,r,n,i,o,f){var l=0;for(r[f]=t;l>=0;){var c=r[f+l],u=r[n+c];u===-1?(l--,o[e++]=c):(r[n+c]=r[i+u],++l,r[f+l]=u)}return e}function Ys(t,e){if(!t)return null;var r=0,n,i=[],o=[],f=0,l=e,c=2*e;for(n=0;n<e;n++)o[f+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(o[l+n]=o[f+t[n]],o[f+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=Wn(n,r,o,f,l,i,c));return i}function Js(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,o=i[0],f=i[1],l=[],c=[],u=0,a=f,s,p;if(e)for(s=0;s<o;s++)c[a+s]=-1;for(var h=0;h<f;h++){l[h]=-1,c[u+h]=-1;for(var v=n[h],m=n[h+1],d=v;d<m;d++){var g=r[d];for(s=e?c[a+g]:g;s!==-1&&s<h;s=p)p=c[u+s],c[u+s]=h,p===-1&&(l[s]=h);e&&(c[a+g]=h)}}return l}function Hs(t,e,r){for(var n=t._values,i=t._index,o=t._ptr,f=t._size,l=f[1],c=0,u=0;u<l;u++){var a=o[u];for(o[u]=c;a<o[u+1];a++)e(i[a],u,n?n[a]:1,r)&&(i[c]=i[a],n&&(n[c]=n[a]),c++)}return o[l]=c,i.splice(c,i.length-c),n&&n.splice(c,n.length-c),c}function Br(t){return-t-2}var l0="csAmd",p0=["add","multiply","transpose"],Ws=P(l0,p0,t=>{var{add:e,multiply:r,transpose:n}=t;return function(a,s){if(!s||a<=0||a>3)return null;var p=s._size,h=p[0],v=p[1],m=0,d=Math.max(16,10*Math.sqrt(v));d=Math.min(v-2,d);var g=i(a,s,h,v,d);Hs(g,c,null);for(var D=g._index,y=g._ptr,w=y[v],b=[],x=[],A=0,C=v+1,_=2*(v+1),E=3*(v+1),T=4*(v+1),M=5*(v+1),L=6*(v+1),O=7*(v+1),I=b,F=o(v,y,x,A,E,I,_,O,C,L,T,M),Z=f(v,y,x,M,T,L,d,C,E,I,_),q=0,N,B,k,W,V,z,G,Q,K,te,ie,$,ye,me,ae,se;Z<v;){for(k=-1;q<v&&(k=x[E+q])===-1;q++);x[_+k]!==-1&&(I[x[_+k]]=-1),x[E+q]=x[_+k];var De=x[T+k],Ae=x[C+k];Z+=Ae;var Te=0;x[C+k]=-Ae;var ce=y[k],Ee=De===0?ce:w,Ne=Ee;for(W=1;W<=De+1;W++){for(W>De?(z=k,G=ce,Q=x[A+k]-De):(z=D[ce++],G=y[z],Q=x[A+z]),V=1;V<=Q;V++)N=D[G++],!((K=x[C+N])<=0)&&(Te+=K,x[C+N]=-K,D[Ne++]=N,x[_+N]!==-1&&(I[x[_+N]]=I[N]),I[N]!==-1?x[_+I[N]]=x[_+N]:x[E+x[M+N]]=x[_+N]);z!==k&&(y[z]=Br(k),x[L+z]=0)}for(De!==0&&(w=Ne),x[M+k]=Te,y[k]=Ee,x[A+k]=Ne-Ee,x[T+k]=-2,F=l(F,m,x,L,v),te=Ee;te<Ne;te++)if(N=D[te],!((ie=x[T+N])<=0)){K=-x[C+N];var Ve=F-K;for(ce=y[N],$=y[N]+ie-1;ce<=$;ce++)z=D[ce],x[L+z]>=F?x[L+z]-=K:x[L+z]!==0&&(x[L+z]=x[M+z]+Ve)}for(te=Ee;te<Ne;te++){for(N=D[te],$=y[N],ye=$+x[T+N]-1,me=$,ae=0,se=0,ce=$;ce<=ye;ce++)if(z=D[ce],x[L+z]!==0){var Xe=x[L+z]-F;Xe>0?(se+=Xe,D[me++]=z,ae+=z):(y[z]=Br(k),x[L+z]=0)}x[T+N]=me-$+1;var lr=me,Er=$+x[A+N];for(ce=ye+1;ce<Er;ce++){B=D[ce];var tr=x[C+B];tr<=0||(se+=tr,D[me++]=B,ae+=B)}se===0?(y[N]=Br(k),K=-x[C+N],Te-=K,Ae+=K,Z+=K,x[C+N]=0,x[T+N]=-1):(x[M+N]=Math.min(x[M+N],se),D[me]=D[lr],D[lr]=D[$],D[$]=k,x[A+N]=me-$+1,ae=(ae<0?-ae:ae)%v,x[_+N]=x[O+ae],x[O+ae]=N,I[N]=ae)}for(x[M+k]=Te,m=Math.max(m,Te),F=l(F+m,m,x,L,v),te=Ee;te<Ne;te++)if(N=D[te],!(x[C+N]>=0))for(ae=I[N],N=x[O+ae],x[O+ae]=-1;N!==-1&&x[_+N]!==-1;N=x[_+N],F++){for(Q=x[A+N],ie=x[T+N],ce=y[N]+1;ce<=y[N]+Q-1;ce++)x[L+D[ce]]=F;var Rr=N;for(B=x[_+N];B!==-1;){var Zr=x[A+B]===Q&&x[T+B]===ie;for(ce=y[B]+1;Zr&&ce<=y[B]+Q-1;ce++)x[L+D[ce]]!==F&&(Zr=0);Zr?(y[B]=Br(N),x[C+N]+=x[C+B],x[C+B]=0,x[T+B]=-1,B=x[_+B],x[_+Rr]=B):(Rr=B,B=x[_+B])}}for(ce=Ee,te=Ee;te<Ne;te++)N=D[te],!((K=-x[C+N])<=0)&&(x[C+N]=K,se=x[M+N]+Te-K,se=Math.min(se,v-Z-K),x[E+se]!==-1&&(I[x[E+se]]=N),x[_+N]=x[E+se],I[N]=-1,x[E+se]=N,q=Math.min(q,se),x[M+N]=se,D[ce++]=N);x[C+k]=Ae,(x[A+k]=ce-Ee)===0&&(y[k]=-1,x[L+k]=0),De!==0&&(w=ce)}for(N=0;N<v;N++)y[N]=Br(y[N]);for(B=0;B<=v;B++)x[E+B]=-1;for(B=v;B>=0;B--)x[C+B]>0||(x[_+B]=x[E+y[B]],x[E+y[B]]=B);for(z=v;z>=0;z--)x[C+z]<=0||y[z]!==-1&&(x[_+z]=x[E+y[z]],x[E+y[z]]=z);for(k=0,N=0;N<=v;N++)y[N]===-1&&(k=Wn(N,k,x,E,_,b,L));return b.splice(b.length-1,1),b};function i(u,a,s,p,h){var v=n(a);if(u===1&&p===s)return e(a,v);if(u===2){for(var m=v._index,d=v._ptr,g=0,D=0;D<s;D++){var y=d[D];if(d[D]=g,!(d[D+1]-y>h))for(var w=d[D+1];y<w;y++)m[g++]=m[y]}return d[s]=g,a=n(v),r(v,a)}return r(v,a)}function o(u,a,s,p,h,v,m,d,g,D,y,w){for(var b=0;b<u;b++)s[p+b]=a[b+1]-a[b];s[p+u]=0;for(var x=0;x<=u;x++)s[h+x]=-1,v[x]=-1,s[m+x]=-1,s[d+x]=-1,s[g+x]=1,s[D+x]=1,s[y+x]=0,s[w+x]=s[p+x];var A=l(0,0,s,D,u);return s[y+u]=-2,a[u]=-1,s[D+u]=0,A}function f(u,a,s,p,h,v,m,d,g,D,y){for(var w=0,b=0;b<u;b++){var x=s[p+b];if(x===0)s[h+b]=-2,w++,a[b]=-1,s[v+b]=0;else if(x>m)s[d+b]=0,s[h+b]=-1,w++,a[b]=Br(u),s[d+u]++;else{var A=s[g+x];A!==-1&&(D[A]=b),s[y+b]=s[g+x],s[g+x]=b}}return w}function l(u,a,s,p,h){if(u<2||u+a<0){for(var v=0;v<h;v++)s[p+v]!==0&&(s[p+v]=1);u=2}return u}function c(u,a){return u!==a}});function Ks(t,e,r,n,i,o,f){var l,c,u=0,a;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var s=r[o+t];if(r[o+t]=e,s===-1)u=1,a=t;else{for(u=2,a=s;a!==r[f+a];a=r[f+a]);for(l=s;l!==a;l=c)c=r[f+l],r[f+l]=a}return{jleaf:u,q:a}}var m0="csCounts",h0=["transpose"],js=P(m0,h0,t=>{var{transpose:e}=t;return function(r,n,i,o){if(!r||!n||!i)return null;var f=r._size,l=f[0],c=f[1],u,a,s,p,h,v,m,d=4*c+(o?c+l+1:0),g=[],D=0,y=c,w=2*c,b=3*c,x=4*c,A=5*c+1;for(s=0;s<d;s++)g[s]=-1;var C=[],_=e(r),E=_._index,T=_._ptr;for(s=0;s<c;s++)for(a=i[s],C[a]=g[b+a]===-1?1:0;a!==-1&&g[b+a]===-1;a=n[a])g[b+a]=s;if(o){for(s=0;s<c;s++)g[i[s]]=s;for(u=0;u<l;u++){for(s=c,v=T[u],m=T[u+1],h=v;h<m;h++)s=Math.min(s,g[E[h]]);g[A+u]=g[x+s],g[x+s]=u}}for(u=0;u<c;u++)g[D+u]=u;for(s=0;s<c;s++){for(a=i[s],n[a]!==-1&&C[n[a]]--,p=o?g[x+s]:a;p!==-1;p=o?g[A+p]:-1)for(h=T[p];h<T[p+1];h++){u=E[h];var M=Ks(u,a,g,b,y,w,D);M.jleaf>=1&&C[a]++,M.jleaf===2&&C[M.q]--}n[a]!==-1&&(g[D+a]=n[a])}for(a=0;a<c;a++)n[a]!==-1&&(C[n[a]]+=C[a]);return C}});var v0="csSqr",d0=["add","multiply","transpose"],ef=P(v0,d0,t=>{var{add:e,multiply:r,transpose:n}=t,i=Ws({add:e,multiply:r,transpose:n}),o=js({transpose:n});return function(c,u,a){var s=u._ptr,p=u._size,h=p[1],v,m={};if(m.q=i(c,u),c&&!m.q)return null;if(a){var d=c?Qs(u,null,m.q,0):u;m.parent=Js(d,1);var g=Ys(m.parent,h);if(m.cp=o(d,m.parent,g,1),d&&m.parent&&m.cp&&f(d,m))for(m.unz=0,v=0;v<h;v++)m.unz+=m.cp[v]}else m.unz=4*s[h]+h,m.lnz=m.unz;return m};function f(l,c){var u=l._ptr,a=l._index,s=l._size,p=s[0],h=s[1];c.pinv=[],c.leftmost=[];var v=c.parent,m=c.pinv,d=c.leftmost,g=[],D=0,y=p,w=p+h,b=p+2*h,x,A,C,_,E;for(A=0;A<h;A++)g[y+A]=-1,g[w+A]=-1,g[b+A]=0;for(x=0;x<p;x++)d[x]=-1;for(A=h-1;A>=0;A--)for(_=u[A],E=u[A+1],C=_;C<E;C++)d[a[C]]=A;for(x=p-1;x>=0;x--)m[x]=-1,A=d[x],A!==-1&&(g[b+A]++===0&&(g[w+A]=x),g[D+x]=g[y+A],g[y+A]=x);for(c.lnz=0,c.m2=p,A=0;A<h;A++)if(x=g[y+A],c.lnz++,x<0&&(x=c.m2++),m[x]=A,!(--b[A]<=0)){c.lnz+=g[b+A];var T=v[A];T!==-1&&(g[b+T]===0&&(g[w+T]=g[w+A]),g[D+g[w+A]]=g[y+T],g[y+T]=g[D+x],g[b+T]+=g[b+A])}for(x=0;x<p;x++)m[x]<0&&(m[x]=A++);return!0}});function jt(t,e){return t[e]<0}function Kn(t,e){t[e]=Br(t[e])}function na(t){return t<0?Br(t):t}function rf(t,e,r,n,i){var o=e._index,f=e._ptr,l=e._size,c=l[1],u,a,s,p=0;for(n[0]=t;p>=0;){t=n[p];var h=i?i[t]:t;jt(f,t)||(Kn(f,t),n[c+p]=h<0?0:na(f[h]));var v=1;for(a=n[c+p],s=h<0?0:na(f[h+1]);a<s;a++)if(u=o[a],!jt(f,u)){n[c+p]=a,n[++p]=u,v=0;break}v&&(p--,n[--r]=t)}return r}function tf(t,e,r,n,i){var o=t._ptr,f=t._size,l=e._index,c=e._ptr,u=f[1],a,s,p,h=u;for(s=c[r],p=c[r+1],a=s;a<p;a++){var v=l[a];jt(o,v)||(h=rf(v,t,h,n,i))}for(a=h;a<u;a++)Kn(o,n[a]);return h}var x0="csSpsolve",g0=["divideScalar","multiply","subtract"],nf=P(x0,g0,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(o,f,l,c,u,a,s){var p=o._values,h=o._index,v=o._ptr,m=o._size,d=m[1],g=f._values,D=f._index,y=f._ptr,w,b,x,A,C=tf(o,f,l,c,a);for(w=C;w<d;w++)u[c[w]]=0;for(b=y[l],x=y[l+1],w=b;w<x;w++)u[D[w]]=g[w];for(var _=C;_<d;_++){var E=c[_],T=a?a[E]:E;if(!(T<0))for(b=v[T],x=v[T+1],u[E]=e(u[E],p[s?b:x-1]),w=s?b+1:b,A=s?x:x-1;w<A;w++){var M=h[w];u[M]=n(u[M],r(p[w],u[E]))}}return C}});var y0="csLu",D0=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],of=P(y0,D0,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:o,largerEq:f,SparseMatrix:l}=t,c=nf({divideScalar:r,multiply:n,subtract:i});return function(a,s,p){if(!a)return null;var h=a._size,v=h[1],m,d=100,g=100;s&&(m=s.q,d=s.lnz||d,g=s.unz||g);var D=[],y=[],w=[],b=new l({values:D,index:y,ptr:w,size:[v,v]}),x=[],A=[],C=[],_=new l({values:x,index:A,ptr:C,size:[v,v]}),E=[],T,M,L=[],O=[];for(T=0;T<v;T++)L[T]=0,E[T]=-1,w[T+1]=0;d=0,g=0;for(var I=0;I<v;I++){w[I]=d,C[I]=g;var F=m?m[I]:I,Z=c(b,a,F,O,L,E,1),q=-1,N=-1;for(M=Z;M<v;M++)if(T=O[M],E[T]<0){var B=e(L[T]);o(B,N)&&(N=B,q=T)}else A[g]=E[T],x[g++]=L[T];if(q===-1||N<=0)return null;E[F]<0&&f(e(L[F]),n(N,p))&&(q=F);var k=L[q];for(A[g]=I,x[g++]=k,E[q]=I,y[d]=q,D[d++]=1,M=Z;M<v;M++)T=O[M],E[T]<0&&(y[d]=T,D[d++]=r(L[T],k)),L[T]=0}for(w[v]=d,C[v]=g,M=0;M<d;M++)y[M]=E[y[M]];return D.splice(d,D.length-d),y.splice(d,y.length-d),x.splice(g,x.length-g),A.splice(g,A.length-g),{L:b,U:_,pinv:E}}});var af="slu",E0=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],ia=P(af,E0,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:o,divideScalar:f,subtract:l,larger:c,largerEq:u,SparseMatrix:a}=t,s=ef({add:n,multiply:i,transpose:o}),p=of({abs:r,divideScalar:f,multiply:i,subtract:l,larger:c,largerEq:u,SparseMatrix:a});return e(af,{"SparseMatrix, number, number":function(v,m,d){if(!xe(m)||m<0||m>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(d<0||d>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=s(m,v,!1),D=p(v,g,d);return{L:D.L,U:D.U,p:D.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function oa(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var uf="lusolve",w0=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],aa=P(uf,w0,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:o,lsolve:f,DenseMatrix:l}=t,c=nt({DenseMatrix:l});return e(uf,{"Array, Array | Matrix":function(p,h){p=r(p);var v=n(p),m=a(v.L,v.U,v.p,null,h);return m.valueOf()},"DenseMatrix, Array | Matrix":function(p,h){var v=n(p);return a(v.L,v.U,v.p,null,h)},"SparseMatrix, Array | Matrix":function(p,h){var v=n(p);return a(v.L,v.U,v.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(p,h,v,m){var d=i(p,v,m);return a(d.L,d.U,d.p,d.q,h)},"Object, Array | Matrix":function(p,h){return a(p.L,p.U,p.p,p.q,h)}});function u(s){if(be(s))return s;if(Fe(s))return r(s);throw new TypeError("Invalid Matrix LU decomposition")}function a(s,p,h,v,m){s=u(s),p=u(p),h&&(m=c(s,m,!0),m._data=oa(h,m._data));var d=f(s,m),g=o(p,d);return v&&(g._data=oa(v,g._data)),g}});var sf="det",b0=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],ua=P(sf,b0,t=>{var{typed:e,matrix:r,subtract:n,multiply:i,divideScalar:o,isZero:f,unaryMinus:l}=t;return e(sf,{any:function(a){return de(a)},"Array | Matrix":function(a){var s;switch(be(a)?s=a.size():Array.isArray(a)?(a=r(a),s=a.size()):s=[],s.length){case 0:return de(a);case 1:if(s[0]===1)return de(a.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Be(s)+")");case 2:{var p=s[0],h=s[1];if(p===h)return c(a.clone().valueOf(),p,h);throw new RangeError("Matrix must be square (size: "+Be(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Be(s)+")")}}});function c(u,a,s){if(a===1)return de(u[0][0]);if(a===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var p=!1,h=new Array(a).fill(0).map((A,C)=>C),v=0;v<a;v++){var m=h[v];if(f(u[m][v])){var d=void 0;for(d=v+1;d<a;d++)if(!f(u[h[d]][v])){m=h[d],h[d]=h[v],h[v]=m,p=!p;break}if(d===a)return u[m][v]}for(var g=u[m][v],D=v===0?1:u[h[v-1]][v-1],y=v+1;y<a;y++)for(var w=h[y],b=v+1;b<a;b++)u[w][b]=o(n(i(u[w][b],g),i(u[w][v],u[m][b])),D)}var x=u[h[a-1]][a-1];return p?l(x):x}});var ff="inv",A0=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],sa=P(ff,A0,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:o,unaryMinus:f,det:l,identity:c,abs:u}=t;return e(ff,{"Array | Matrix":function(p){var h=be(p)?p.size():ze(p);switch(h.length){case 1:if(h[0]===1)return be(p)?r([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+Be(h)+")");case 2:{var v=h[0],m=h[1];if(v===m)return be(p)?r(a(p.valueOf(),v,m),p.storage()):a(p,v,m);throw new RangeError("Matrix must be square (size: "+Be(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Be(h)+")")}},any:function(p){return n(1,p)}});function a(s,p,h){var v,m,d,g,D;if(p===1){if(g=s[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,g)]]}else if(p===2){var y=l(s);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(s[1][1],y),n(f(s[0][1]),y)],[n(f(s[1][0]),y),n(s[0][0],y)]]}else{var w=s.concat();for(v=0;v<p;v++)w[v]=w[v].concat();for(var b=c(p).valueOf(),x=0;x<h;x++){var A=u(w[x][x]),C=x;for(v=x+1;v<p;)u(w[v][x])>A&&(A=u(w[v][x]),C=v),v++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");v=C,v!==x&&(D=w[x],w[x]=w[v],w[v]=D,D=b[x],b[x]=b[v],b[v]=D);var _=w[x],E=b[x];for(v=0;v<p;v++){var T=w[v],M=b[v];if(v!==x){if(T[x]!==0){for(d=n(f(T[x]),_[x]),m=x;m<h;m++)T[m]=i(T[m],o(d,_[m]));for(m=0;m<h;m++)M[m]=i(M[m],o(d,E[m]))}}else{for(d=_[x],m=x;m<h;m++)T[m]=n(T[m],d);for(m=0;m<h;m++)M[m]=n(M[m],d)}}}return b}}});function cf(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:o,divideScalar:f,sqrt:l,abs:c,bignumber:u,diag:a,inv:s,qr:p,usolve:h,usolveAll:v,equal:m,complex:d,larger:g,smaller:D,matrixFromColumns:y,dot:w}=t;function b(B,k,W,V,z){z===void 0&&(z=!0);var G=x(B,k,W,V,z);A(B,k,W,V,z,G);var{values:Q,C:K}=C(B,k,W,V,z),te;return z&&(te=_(B,k,K,G,Q,W,V),te=y(...te)),{values:Q,vectors:te}}function x(B,k,W,V,z){var G=V==="BigNumber",Q=V==="Complex",K=G?u(0):0,te=G?u(1):Q?d(1):1,ie=G?u(1):1,$=G?u(10):2,ye=o($,$),me;z&&(me=Array(k).fill(te));for(var ae=!1;!ae;){ae=!0;for(var se=0;se<k;se++){for(var De=K,Ae=K,Te=0;Te<k;Te++)if(se!==Te){var ce=c(B[se][Te]);De=e(De,ce),Ae=e(Ae,ce)}if(!m(De,0)&&!m(Ae,0)){for(var Ee=ie,Ne=De,Ve=f(Ae,$),Xe=o(Ae,$);D(Ne,Ve);)Ne=o(Ne,ye),Ee=o(Ee,$);for(;g(Ne,Xe);)Ne=f(Ne,ye),Ee=f(Ee,$);var lr=D(f(e(Ne,Ae),Ee),o(e(De,Ae),.95));if(lr){ae=!1;for(var Er=f(1,Ee),tr=0;tr<k;tr++)se!==tr&&(B[se][tr]=o(B[se][tr],Ee),B[tr][se]=o(B[tr][se],Er));z&&(me[se]=o(me[se],Ee))}}}}return a(me)}function A(B,k,W,V,z,G){var Q=V==="BigNumber",K=V==="Complex",te=Q?u(0):K?d(0):0;Q&&(W=u(W));for(var ie=0;ie<k-2;ie++){for(var $=0,ye=te,me=ie+1;me<k;me++){var ae=B[me][ie];D(c(ye),c(ae))&&(ye=ae,$=me)}if(!D(c(ye),W)){if($!==ie+1){var se=B[$];B[$]=B[ie+1],B[ie+1]=se;for(var De=0;De<k;De++){var Ae=B[De][$];B[De][$]=B[De][ie+1],B[De][ie+1]=Ae}if(z){var Te=G[$];G[$]=G[ie+1],G[ie+1]=Te}}for(var ce=ie+2;ce<k;ce++){var Ee=f(B[ce][ie],ye);if(Ee!==0){for(var Ne=0;Ne<k;Ne++)B[ce][Ne]=r(B[ce][Ne],o(Ee,B[ie+1][Ne]));for(var Ve=0;Ve<k;Ve++)B[Ve][ie+1]=e(B[Ve][ie+1],o(Ee,B[Ve][ce]));if(z)for(var Xe=0;Xe<k;Xe++)G[ce][Xe]=r(G[ce][Xe],o(Ee,G[ie+1][Xe]))}}}}return G}function C(B,k,W,V,z){var G=V==="BigNumber",Q=V==="Complex",K=G?u(1):Q?d(1):1;G&&(W=u(W));for(var te=de(B),ie=[],$=k,ye=[],me=z?a(Array(k).fill(K)):void 0,ae=z?a(Array($).fill(K)):void 0,se=0;se<=100;){se+=1;for(var De=0,Ae=0;Ae<$;Ae++)te[Ae][Ae]=r(te[Ae][Ae],De);var{Q:Te,R:ce}=p(te);te=i(ce,Te);for(var Ee=0;Ee<$;Ee++)te[Ee][Ee]=e(te[Ee][Ee],De);if(z&&(ae=i(ae,Te)),$===1||D(c(te[$-1][$-2]),W)){se=0,ie.push(te[$-1][$-1]),z&&(ye.unshift([[1]]),M(ae,k),me=i(me,ae),$>1&&(ae=a(Array($-1).fill(K)))),$-=1,te.pop();for(var Ne=0;Ne<$;Ne++)te[Ne].pop()}else if($===2||D(c(te[$-2][$-3]),W)){se=0;var Ve=E(te[$-2][$-2],te[$-2][$-1],te[$-1][$-2],te[$-1][$-1]);ie.push(...Ve),z&&(ye.unshift(T(te[$-2][$-2],te[$-2][$-1],te[$-1][$-2],te[$-1][$-1],Ve[0],Ve[1],W,V)),M(ae,k),me=i(me,ae),$>2&&(ae=a(Array($-2).fill(K)))),$-=2,te.pop(),te.pop();for(var Xe=0;Xe<$;Xe++)te[Xe].pop(),te[Xe].pop()}if($===0)break}if(ie.sort((tr,Rr)=>+r(c(tr),c(Rr))),se>100){var lr=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ie.join(", "));throw lr.values=ie,lr.vectors=[],lr}var Er=z?i(me,L(ye,k)):void 0;return{values:ie,C:Er}}function _(B,k,W,V,z,G,Q){var K=s(W),te=i(K,B,W),ie=Q==="BigNumber",$=Q==="Complex",ye=ie?u(0):$?d(0):0,me=ie?u(1):$?d(1):1,ae=[],se=[];for(var De of z){var Ae=O(ae,De,m);Ae===-1?(ae.push(De),se.push(1)):se[Ae]+=1}for(var Te=[],ce=ae.length,Ee=Array(k).fill(ye),Ne=a(Array(k).fill(me)),Ve=[],Xe=function(Rr){var Zr=ae[Rr],zt=r(te,i(Zr,Ne)),Gr=v(zt,Ee);for(Gr.shift();Gr.length<se[Rr];){var un=I(zt,k,Gr,G,Q);if(un==null){Ve.push(Zr);break}Gr.push(un)}var Di=i(s(V),W);Gr=Gr.map(vt=>i(Di,vt)),Te.push(...Gr.map(vt=>n(vt)))},lr=0;lr<ce;lr++)Xe(lr);if(Ve.length!==0){var Er=new Error("Failed to find eigenvectors for the following eigenvalues: "+Ve.join(", "));throw Er.values=z,Er.vectors=Te,Er}return Te}function E(B,k,W,V){var z=e(B,V),G=r(o(B,V),o(k,W)),Q=o(z,.5),K=o(l(r(o(z,z),o(4,G))),.5);return[e(Q,K),r(Q,K)]}function T(B,k,W,V,z,G,Q,K){var te=K==="BigNumber",ie=K==="Complex",$=te?u(0):ie?d(0):0,ye=te?u(1):ie?d(1):1;if(D(c(W),Q))return[[ye,$],[$,ye]];if(g(c(r(z,G)),Q))return[[r(z,V),r(G,V)],[W,W]];var me=r(B,z),ae=r(k,z),se=r(W,z),De=r(V,z);return D(c(ae),Q)?[[me,ye],[se,$]]:[[ae,$],[De,ye]]}function M(B,k){for(var W=0;W<B.length;W++)B[W].push(...Array(k-B[W].length).fill(0));for(var V=B.length;V<k;V++)B.push(Array(k).fill(0)),B[V][V]=1;return B}function L(B,k){for(var W=[],V=0;V<k;V++)W[V]=Array(k).fill(0);var z=0;for(var G of B){for(var Q=G.length,K=0;K<Q;K++)for(var te=0;te<Q;te++)W[z+K][z+te]=G[K][te];z+=Q}return W}function O(B,k,W){for(var V=0;V<B.length;V++)if(W(B[V],k))return V;return-1}function I(B,k,W,V,z){for(var G=z==="BigNumber"?u(1e3):1e3,Q,K=0;Q=F(k,W,z),Q=h(B,Q),!g(q(Q),G);)if(++K>=5)return null;for(K=0;;){var te=h(B,Q);if(D(q(Z(Q,[te])),V))break;if(++K>=10)return null;Q=N(te)}return Q}function F(B,k,W){var V=W==="BigNumber",z=W==="Complex",G=Array(B).fill(0).map(Q=>2*Math.random()-1);return V&&(G=G.map(Q=>u(Q))),z&&(G=G.map(Q=>d(Q))),G=Z(G,k),N(G,W)}function Z(B,k){for(var W of k)B=r(B,i(f(w(W,B),w(W,W)),W));return B}function q(B){return c(l(w(B,B)))}function N(B,k){var W=k==="BigNumber",V=k==="Complex",z=W?u(1):V?d(1):1;return i(f(z,q(B)),B)}return b}function lf(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:o,cos:f,sin:l,multiplyScalar:c,inv:u,bignumber:a,multiply:s,add:p}=t;function h(E,T){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,L=arguments.length>3?arguments[3]:void 0;if(L==="number")return v(E,M);if(L==="BigNumber")return m(E,M);throw TypeError("Unsupported data type: "+L)}function v(E,T){for(var M=E.length,L=Math.abs(T/M),O,I=new Array(M),F=0;F<M;F++)I[F]=_(M,0),I[F][F]=1;for(var Z=x(E);Math.abs(Z[1])>=Math.abs(L);){var q=Z[0][0],N=Z[0][1];O=d(E[q][q],E[N][N],E[q][N]),E=b(E,O,q,N),I=D(I,O,q,N),Z=x(E)}for(var B=_(M,0),k=0;k<M;k++)B[k]=E[k][k];return C(de(B),de(I))}function m(E,T){for(var M=E.length,L=i(T/M),O,I=new Array(M),F=0;F<M;F++)I[F]=_(M,0),I[F][F]=1;for(var Z=A(E);i(Z[1])>=i(L);){var q=Z[0][0],N=Z[0][1];O=g(E[q][q],E[N][N],E[q][N]),E=w(E,O,q,N),I=y(I,O,q,N),Z=A(E)}for(var B=_(M,0),k=0;k<M;k++)B[k]=E[k][k];return C(de(B),de(I))}function d(E,T,M){var L=T-E;return Math.abs(L)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(T-E))}function g(E,T,M){var L=n(T,E);return i(L)<=e.epsilon?a(-1).acos().div(4):c(.5,o(s(2,M,u(L))))}function D(E,T,M,L){for(var O=E.length,I=Math.cos(T),F=Math.sin(T),Z=_(O,0),q=_(O,0),N=0;N<O;N++)Z[N]=I*E[N][M]-F*E[N][L],q[N]=F*E[N][M]+I*E[N][L];for(var B=0;B<O;B++)E[B][M]=Z[B],E[B][L]=q[B];return E}function y(E,T,M,L){for(var O=E.length,I=f(T),F=l(T),Z=_(O,a(0)),q=_(O,a(0)),N=0;N<O;N++)Z[N]=n(c(I,E[N][M]),c(F,E[N][L])),q[N]=r(c(F,E[N][M]),c(I,E[N][L]));for(var B=0;B<O;B++)E[B][M]=Z[B],E[B][L]=q[B];return E}function w(E,T,M,L){for(var O=E.length,I=a(f(T)),F=a(l(T)),Z=c(I,I),q=c(F,F),N=_(O,a(0)),B=_(O,a(0)),k=s(a(2),I,F,E[M][L]),W=r(n(c(Z,E[M][M]),k),c(q,E[L][L])),V=p(c(q,E[M][M]),k,c(Z,E[L][L])),z=0;z<O;z++)N[z]=n(c(I,E[M][z]),c(F,E[L][z])),B[z]=r(c(F,E[M][z]),c(I,E[L][z]));E[M][M]=W,E[L][L]=V,E[M][L]=a(0),E[L][M]=a(0);for(var G=0;G<O;G++)G!==M&&G!==L&&(E[M][G]=N[G],E[G][M]=N[G],E[L][G]=B[G],E[G][L]=B[G]);return E}function b(E,T,M,L){for(var O=E.length,I=Math.cos(T),F=Math.sin(T),Z=I*I,q=F*F,N=_(O,0),B=_(O,0),k=Z*E[M][M]-2*I*F*E[M][L]+q*E[L][L],W=q*E[M][M]+2*I*F*E[M][L]+Z*E[L][L],V=0;V<O;V++)N[V]=I*E[M][V]-F*E[L][V],B[V]=F*E[M][V]+I*E[L][V];E[M][M]=k,E[L][L]=W,E[M][L]=0,E[L][M]=0;for(var z=0;z<O;z++)z!==M&&z!==L&&(E[M][z]=N[z],E[z][M]=N[z],E[L][z]=B[z],E[z][L]=B[z]);return E}function x(E){for(var T=E.length,M=0,L=[0,1],O=0;O<T;O++)for(var I=O+1;I<T;I++)Math.abs(M)<Math.abs(E[O][I])&&(M=Math.abs(E[O][I]),L=[O,I]);return[L,M]}function A(E){for(var T=E.length,M=0,L=[0,1],O=0;O<T;O++)for(var I=O+1;I<T;I++)i(M)<i(E[O][I])&&(M=i(E[O][I]),L=[O,I]);return[L,M]}function C(E,T){for(var M=E.length,L=Array(M),O=Array(M),I=0;I<M;I++)O[I]=Array(M);for(var F=0;F<M;F++){for(var Z=0,q=E[0],N=0;N<E.length;N++)i(E[N])<i(q)&&(Z=N,q=E[Z]);L[F]=E.splice(Z,1)[0];for(var B=0;B<M;B++)O[B][F]=T[B][Z],T[B].splice(Z,1)}return{values:L,vectors:O}}function _(E,T){for(var M=new Array(E),L=0;L<E;L++)M[L]=T;return M}return h}var _0="eigs",C0=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],fa=P(_0,C0,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:o,equal:f,abs:l,atan:c,cos:u,sin:a,multiplyScalar:s,divideScalar:p,inv:h,bignumber:v,multiply:m,add:d,larger:g,column:D,flatten:y,number:w,complex:b,sqrt:x,diag:A,qr:C,usolve:_,usolveAll:E,im:T,re:M,smaller:L,matrixFromColumns:O,dot:I}=t,F=lf({config:e,addScalar:i,subtract:o,column:D,flatten:y,equal:f,abs:l,atan:c,cos:u,sin:a,multiplyScalar:s,inv:h,bignumber:v,complex:b,multiply:m,add:d}),Z=cf({config:e,addScalar:i,subtract:o,multiply:m,multiplyScalar:s,flatten:y,divideScalar:p,sqrt:x,abs:l,bignumber:v,diag:A,qr:C,inv:h,usolve:_,usolveAll:E,equal:f,complex:b,larger:g,smaller:L,matrixFromColumns:O,dot:I});return r("eigs",{Array:function(z){var G=n(z);return q(G)},"Array, number|BigNumber":function(z,G){var Q=n(z);return q(Q,G)},Matrix:function(z){var{values:G,vectors:Q}=q(z);return{values:n(G),vectors:n(Q)}},"Matrix, number|BigNumber":function(z,G){var{values:Q,vectors:K}=q(z,G);return{values:n(Q),vectors:n(K)}}});function q(V,z){z===void 0&&(z=e.epsilon);var G=V.size();if(G.length!==2||G[0]!==G[1])throw new RangeError("Matrix must be square (size: "+Be(G)+")");var Q=V.toArray(),K=G[0];if(B(Q,K,z)&&(k(Q,K),N(Q,K,z))){var te=W(V,Q,K);return F(Q,K,z,te)}var ie=W(V,Q,K);return Z(Q,K,z,ie)}function N(V,z,G){for(var Q=0;Q<z;Q++)for(var K=Q;K<z;K++)if(g(v(l(o(V[Q][K],V[K][Q]))),G))return!1;return!0}function B(V,z,G){for(var Q=0;Q<z;Q++)for(var K=0;K<z;K++)if(g(v(l(T(V[Q][K]))),G))return!1;return!0}function k(V,z){for(var G=0;G<z;G++)for(var Q=0;Q<z;Q++)V[G][Q]=M(V[G][Q])}function W(V,z,G){var Q=V.datatype();if(Q==="number"||Q==="BigNumber"||Q==="Complex")return Q;for(var K=!1,te=!1,ie=!1,$=0;$<G;$++)for(var ye=0;ye<G;ye++){var me=z[$][ye];if(Ie(me)||$t(me))K=!0;else if(ke(me))te=!0;else if(Gt(me))ie=!0;else throw TypeError("Unsupported type in Matrix: "+Ke(me))}if(te&&ie&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ie){for(var ae=0;ae<G;ae++)for(var se=0;se<G;se++)z[ae][se]=b(z[ae][se]);return"Complex"}if(te){for(var De=0;De<G;De++)for(var Ae=0;Ae<G;Ae++)z[De][Ae]=v(z[De][Ae]);return"BigNumber"}if(K){for(var Te=0;Te<G;Te++)for(var ce=0;ce<G;ce++)z[Te][ce]=w(z[Te][ce]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var M0="divide",T0=["typed","matrix","multiply","equalScalar","divideScalar","inv"],ca=P(M0,T0,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:o,inv:f}=t,l=Un({typed:e,equalScalar:i}),c=Tt({typed:e});return e("divide",Dn({"Array | Matrix, Array | Matrix":function(a,s){return n(a,f(s))},"DenseMatrix, any":function(a,s){return c(a,s,o,!1)},"SparseMatrix, any":function(a,s){return l(a,s,o,!1)},"Array, any":function(a,s){return c(r(a),s,o,!1).valueOf()},"any, Array | Matrix":function(a,s){return n(a,f(s))}},o.signatures))});var pf="combinations",S0=["typed"],la=P(pf,S0,t=>{var{typed:e}=t;return e(pf,{"number, number":to,"BigNumber, BigNumber":function(n,i){var o=n.constructor,f,l,c=n.minus(i),u=new o(1);if(!mf(n)||!mf(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(f=u,i.lt(c))for(l=u;l.lte(c);l=l.plus(u))f=f.times(i.plus(l)).dividedBy(l);else for(l=u;l.lte(i);l=l.plus(u))f=f.times(c.plus(l)).dividedBy(l);return f}})});function mf(t){return t.isInteger()&&t.gte(0)}var en=Zi({config:je}),jn=$i({});var pa=Yi({});var ma=Ji({});var rr=Hi({Matrix:ma});var pe=Oi({BigNumber:en,Complex:jn,DenseMatrix:rr,Fraction:pa});var ei=ho({typed:pe});var Hr=vo({typed:pe});var F0=Ho({typed:pe});var ha=so({BigNumber:en,typed:pe});var hf=la({typed:pe}),rn=fo({Complex:jn,typed:pe}),vf=wo({typed:pe});var Ir=oo({config:je,typed:pe});var N0=bo({typed:pe});var df=io({typed:pe});var it=xo({typed:pe});var va=uo({typed:pe});var B0=Ao({typed:pe});var I0=yo({BigNumber:en,Fraction:pa,complex:rn,typed:pe}),R0=Ko({typed:pe}),Ft=ao({Matrix:ma,equalScalar:Ir,typed:pe});var L0=Wo({typed:pe});var ri=Do({Complex:jn,config:je,typed:pe});var tn=mo({typed:pe});var xf=co({Fraction:pa,typed:pe});var Le=lo({DenseMatrix:rr,Matrix:ma,SparseMatrix:Ft,typed:pe});var da=Io({bignumber:ha,fraction:xf,number:va});var gf=Fo({matrix:Le,config:je,typed:pe}),nn=Uo({DenseMatrix:rr,config:je,matrix:Le,typed:pe});var Cr=Eo({DenseMatrix:rr,addScalar:Hr,equalScalar:Ir,matrix:Le,typed:pe,unaryMinus:tn});var xa=No({matrix:Le,typed:pe});var ga=Bo({BigNumber:en,config:je,matrix:Le,typed:pe});var O0=Co({DenseMatrix:rr,SparseMatrix:Ft,matrix:Le,typed:pe}),qr=Ro({numeric:da,typed:pe});var yf=ko({DenseMatrix:rr,equalScalar:Ir,matrix:Le,typed:pe});var Df=Mo({matrix:Le,typed:pe});var Ef=Xo({DenseMatrix:rr,config:je,matrix:Le,typed:pe});var P0=Oo({DenseMatrix:rr,divideScalar:qr,equalScalar:Ir,matrix:Le,multiplyScalar:it,subtract:Cr,typed:pe}),z0=po({flatten:Df,matrix:Le,size:gf,typed:pe}),wf=Go({config:je,numeric:da,smaller:nn,typed:pe});var k0=qo({DenseMatrix:rr,config:je,matrix:Le,typed:pe});var bf=Po({DenseMatrix:rr,divideScalar:qr,equalScalar:Ir,matrix:Le,multiplyScalar:it,subtract:Cr,typed:pe});var Nt=jo({DenseMatrix:rr,SparseMatrix:Ft,addScalar:Hr,equalScalar:Ir,matrix:Le,typed:pe});var Af=ea({addScalar:Hr,conj:vf,multiplyScalar:it,size:gf,typed:pe});var ya=To({BigNumber:en,DenseMatrix:rr,SparseMatrix:Ft,config:je,matrix:Le,typed:pe});var Bt=Vo({DenseMatrix:rr,config:je,matrix:Le,typed:pe});var Mr=go({addScalar:Hr,dot:Af,equalScalar:Ir,matrix:Le,multiplyScalar:it,typed:pe}),U0=ta({addScalar:Hr,complex:rn,conj:vf,divideScalar:qr,equal:yf,identity:ya,isZero:df,matrix:Le,multiplyScalar:it,sign:I0,sqrt:ri,subtract:Cr,typed:pe,unaryMinus:tn,zeros:ga}),q0=So({bignumber:ha,matrix:Le,config:je,larger:Bt,largerEq:Ef,smaller:nn,smallerEq:k0,typed:pe});var V0=ia({SparseMatrix:Ft,abs:ei,add:Nt,divideScalar:qr,larger:Bt,largerEq:Ef,multiply:Mr,subtract:Cr,transpose:xa,typed:pe});var X0=zo({DenseMatrix:rr,divideScalar:qr,equalScalar:Ir,matrix:Le,multiplyScalar:it,subtract:Cr,typed:pe});var ti=ua({divideScalar:qr,isZero:df,matrix:Le,multiply:Mr,subtract:Cr,typed:pe,unaryMinus:tn});var Z0=Yo({larger:Bt,smaller:nn});var G0=$o({DenseMatrix:rr,smaller:nn}),$0=Qo({ImmutableDenseMatrix:G0});var _f=Zo({config:je,larger:Bt,numeric:da,typed:pe});var Q0=_o({Index:$0,matrix:Le,range:q0,typed:pe});var on=sa({abs:ei,addScalar:Hr,det:ti,divideScalar:qr,identity:ya,matrix:Le,multiply:Mr,typed:pe,unaryMinus:tn});var ni=Lo({Complex:jn,config:je,fraction:xf,identity:ya,inv:on,matrix:Le,multiply:Mr,number:va,typed:pe});var Y0=Jo({FibonacciHeap:Z0,addScalar:Hr,equalScalar:Ir});var Cf=ca({divideScalar:qr,equalScalar:Ir,inv:on,matrix:Le,multiply:Mr,typed:pe});var J0=ra({DenseMatrix:rr,Spa:Y0,SparseMatrix:Ft,abs:ei,addScalar:Hr,divideScalar:qr,equalScalar:Ir,larger:Bt,matrix:Le,multiplyScalar:it,subtract:Cr,typed:pe,unaryMinus:tn});var Mf=fa({abs:ei,add:Nt,addScalar:Hr,atan:F0,bignumber:ha,column:Q0,complex:rn,config:je,cos:L0,diag:O0,divideScalar:qr,dot:Af,equal:yf,flatten:Df,im:N0,inv:on,larger:Bt,matrix:Le,matrixFromColumns:z0,multiply:Mr,multiplyScalar:it,number:va,qr:U0,re:B0,sin:R0,smaller:nn,sqrt:ri,subtract:Cr,typed:pe,usolve:bf,usolveAll:X0});var Tf=aa({DenseMatrix:rr,lsolve:P0,lup:J0,matrix:Le,slu:V0,typed:pe,usolve:bf});var we=class{constructor(e,r){this.rows=1;this.cols=1;this.values=[];this.rows=e,this.cols=r,this.values=new Array(e*r).fill(0)}getRows(){return this.rows}getCols(){return this.cols}setValue(e,r,n){this.values[e*this.cols+r]=n}getValue(e,r){return this.values[e*this.cols+r]}getCol(e){let r=new qe(this.rows);for(let n=0;n<this.rows;n++)r.setValue(n,this.getValue(n,e));return r}clone(){let e=new we(this.rows,this.cols);return e.values=[...this.values],e}toString(){let e="[";for(let r=0;r<this.rows;r++){r>0&&(e+=","),e+="[";for(let n=0;n<this.cols;n++)n>0&&(e+=","),e+=this.getValue(r,n);e+="]"}return e+="]",e}static equal(e,r,n=1e-9){if(e.getRows()!=r.getRows()||e.getCols()!=r.getCols())return!1;let i=e.getRows(),o=e.getCols();for(let f=0;f<i;f++)for(let l=0;l<o;l++)if(Math.abs(e.getValue(f,l)-r.getValue(f,l))>n)return!1;return!0}floor(){let e=this.getRows(),r=this.getCols();for(let n=0;n<e;n++)for(let i=0;i<r;i++)this.setValue(n,i,Math.floor(this.getValue(n,i)))}ceil(){let e=this.getRows(),r=this.getCols();for(let n=0;n<e;n++)for(let i=0;i<r;i++)this.setValue(n,i,Math.ceil(this.getValue(n,i)))}round(){let e=this.getRows(),r=this.getCols();for(let n=0;n<e;n++)for(let i=0;i<r;i++)this.setValue(n,i,Math.round(this.getValue(n,i)))}static mod(e,r){let n=e.clone(),i=n.getRows(),o=n.getCols();for(let f=0;f<i;f++)for(let l=0;l<o;l++)n.setValue(f,l,n.getValue(f,l)%r);return n}static mathjs2matrix(e){let r=new we(e.size()[0],e.size()[1]),n=r.getRows(),i=r.getCols();for(let o=0;o<n;o++)for(let f=0;f<i;f++)r.setValue(o,f,e.get([o,f]));return r}static matrix2mathjs(e){let r=ga(e.rows,e.cols);for(let n=0;n<e.rows;n++)for(let i=0;i<e.cols;i++)r.set([n,i],e.getValue(n,i));return r}is_zero(e=1e-9){for(let r=0;r<this.rows;r++)for(let n=0;n<this.cols;n++)if(Math.abs(this.getValue(r,n))>e)return!1;return!0}is_integer(){for(let e=0;e<this.rows;e++)for(let r=0;r<this.cols;r++){let n=this.getValue(e,r);if(Math.abs(n-Math.round(n))!=0)return!1}return!0}is_symmetric(){if(this.rows!=this.cols)return!1;for(let e=0;e<this.rows;e++)for(let r=0;r<this.cols;r++)if(this.getValue(e,r)!=this.getValue(r,e))return!1;return!0}rank(e=1e-12){let r=this.clone(),n=r.rows,i=r.cols,o=0,f=[];for(let l=0;l<i;l++)f.push(!1);for(let l=0;l<n;l++){let c;for(c=0;c<i&&!(!f[c]&&Math.abs(r.getValue(l,c))>e);c++);if(c!=i){o++,f[c]=!0;for(let u=l+1;u<n;u++)r.setValue(u,c,r.getValue(u,c)/r.getValue(l,c));for(let u=0;u<i;u++)if(u!=c&&Math.abs(r.getValue(l,u))>e)for(let a=l+1;a<n;a++)r.setValue(a,u,r.getValue(a,u)-r.getValue(a,c)*r.getValue(l,u))}}return o}};var oi=class{constructor(e=[]){this.elements=[];this.elements=e}add(e){this.elements.includes(e)==!1&&this.elements.push(e)}min(){let e=1/0;for(let r of this.elements)r<e&&(e=r);return e}max(){let e=-1/0;for(let r of this.elements)r>e&&(e=r);return e}toString(){let e="{";return e+=this.elements.sort().join(","),e+="}",e}},It=class{constructor(e=[]){this.elements=[];this.elements=e}add(e){this.elements.includes(e)==!1&&this.elements.push(e)}min(){let e=1/0;for(let r of this.elements)r<e&&(e=r);return e}max(){let e=-1/0;for(let r of this.elements)r>e&&(e=r);return e}toString(){let e="{";return e+=this.elements.sort().join(","),e+="}",e}},ai=class{constructor(e=[]){this.elements=[];this.elements=e}add(e){this.elements.push(e)}toString(){let e="{";return e+=this.elements.join(","),e+="}",e}};var ui=class{constructor(e){this.parent=null;this.parent=e}_create(e,r,n){let i=new we(e,r),o=0;for(let f=0;f<e;f++)for(let l=0;l<r;l++)i.setValue(f,l,n[o++]);return i}_clone(e){return e.clone()}_equalMatrices(e,r){return we.equal(e,r)}_unequalMatrices(e,r){return we.equal(e,r)==!1}_getElement(e,r,n,i){if(r<0||r>=e.getRows())throw new Se(i,"matrix has "+e.getRows()+" rows. Cannot get row "+r);if(n<0||n>=e.getCols())throw new Se(i,"matrix has "+e.getCols()+" columns. Cannot get column "+n);return e.getValue(r,n)}_setElement(e,r,n,i,o){if(r<0||r>=e.getRows())throw new Se(o,"matrix has "+e.getRows()+" rows. Cannot get row "+r);if(n<0||n>=e.getCols())throw new Se(o,"matrix has "+e.getCols()+" columns. Cannot get column "+n);e.setValue(r,n,i)}_eye(e){let r=new we(e,e);for(let n=0;n<e;n++)r.setValue(n,n,1);return r}_addMatrices(e,r,n){let i;try{i=Nt(we.matrix2mathjs(e),we.matrix2mathjs(r))}catch{throw new Se(n,"dimensions do not match")}return we.mathjs2matrix(i)}_subMatrices(e,r,n){let i;try{i=Cr(we.matrix2mathjs(e),we.matrix2mathjs(r))}catch{throw new Se(n,"dimensions do not match")}return we.mathjs2matrix(i)}_mulScalarMatrix(e,r){let n=Mr(e,we.matrix2mathjs(r));return we.mathjs2matrix(n)}_mulMatrixScalar(e,r){let n=Mr(we.matrix2mathjs(e),r);return we.mathjs2matrix(n)}_mulMatrices(e,r,n){let i;try{i=Mr(we.matrix2mathjs(e),we.matrix2mathjs(r))}catch{throw new Se(n,"dimensions do not match")}return we.mathjs2matrix(i)}_randMatrix(e,r,n,i){let o=new we(e,r);for(let f=0;f<e;f++)for(let l=0;l<r;l++)o.setValue(f,l,this.parent.interpret_basic._randIntMinMax(n,i));return o}_randZMatrix(e,r,n,i){let o=new we(e,r);for(let f=0;f<e;f++)for(let l=0;l<r;l++)o.setValue(f,l,this.parent.interpret_basic._randIntMinMaxZ(n,i));return o}_det(e,r){try{return ti(we.matrix2mathjs(e))}catch{throw new Se(r,"matrix is not square")}}_minMatrix(e){return wf(we.matrix2mathjs(e))}_maxMatrix(e){return _f(we.matrix2mathjs(e))}_zeros(e,r){let n=new we(e,r);for(let i=0;i<e;i++)for(let o=0;o<r;o++)n.setValue(i,o,0);return n}_ones(e,r){let n=new we(e,r);for(let i=0;i<e;i++)for(let o=0;o<r;o++)n.setValue(i,o,1);return n}_floorMatrix(e){let r=e.clone();return r.floor(),r}_ceilMatrix(e){let r=e.clone();return r.ceil(),r}_roundMatrix(e){let r=e.clone();return r.round(),r}_transposeMatrix(e){return we.mathjs2matrix(xa(we.matrix2mathjs(e)))}_triu(e){let r=e.clone();for(let n=0;n<r.getRows();n++)for(let i=0;i<r.getCols();i++)n>i&&r.setValue(n,i,0);return r}_linsolve(e,r){return we.mathjs2matrix(Tf(we.matrix2mathjs(e),qe.vector2list(r))).getCol(0)}_matrixFromVectors(e,r){let n=e.length;if(n==0)throw new Se(r,"no vector given");let i=-1;for(let f=0;f<n;f++)if(f==0)i=e[0].getSize();else if(e[f].getSize()!=i)throw new Se(r,"vector lengths differ");let o=new we(i,n);for(let f=0;f<i;f++)for(let l=0;l<n;l++)o.setValue(f,l,e[l].getValue(f));return o}_rank(e){return e.rank()}_isMatrixZero(e){return e.is_zero(1e-9)}_isMatrixSymmetric(e,r){if(e.getRows()!=e.getCols())throw new Se(r,"matrix is not symmetric");return e.is_symmetric()}_isMatrixInvertible(e,r){if(e.getRows()!=e.getCols())throw new Se(r,"matrix is not symmetric");let n=ti(we.matrix2mathjs(e));return Math.abs(n)>1e-9}_invMatrix(e,r){if(this._isMatrixInvertible(e,r)==!1)throw new Se(r,"matrix is not invertible");return we.mathjs2matrix(on(we.matrix2mathjs(e)))}_modMatrix(e,r,n){if(e.is_integer()==!1)throw new Se(n,"matrix is not integral");return we.mod(e,r)}_matrixColumn(e,r,n){if(r<0||r>=e.getCols())throw new Se(n,"invalid column");let i=new qe(e.getRows());for(let o=0;o<e.getRows();o++)i.setValue(o,e.getValue(o,r));return i}_matrixRow(e,r,n){if(r<0||r>=e.getRows())throw new Se(n,"invalid row");let i=new qe(e.getCols());for(let o=0;o<e.getCols();o++)i.setValue(o,e.getValue(r,o));return i}_eigenvaluesSym(e,r){if(e.getRows()!=e.getCols())throw new Se(r,"matrix is not symmetric");let n=Mf(we.matrix2mathjs(e)).values._data,i=new It;for(let o of n)i.add(o);return i}};var Re=class{constructor(e=0,r=0){this.real=e,this.imag=r}clone(){return new Re(this.real,this.imag)}mulReal(e){this.real*=e,this.imag*=e}static mathjs2complex(e){return new Re(e.re,e.im)}static complex2mathjs(e){return rn(e.real,e.imag)}toMathJs(){return Re.complex2mathjs(this)}toString(){let e=parseFloat(this.real.toFixed(12)),r=parseFloat(this.imag.toFixed(12)),n=""+e,i=""+(Math.abs(r)==1?"":Math.abs(r));return r>=0?n+"+"+i+"i":n+"-"+i+"i"}};var si=class{constructor(e){this.parent=null;this.parent=e}_create(e,r){return new Re(e,r)}_unaryMinusComplex(e){return new Re(-e.real,-e.imag)}_addComplex(e,r){return Re.mathjs2complex(Nt(e.toMathJs(),r.toMathJs()))}_addNumberComplex(e,r){return new Re(e+r.real,r.imag)}_addComplexNumber(e,r){return new Re(e.real+r,e.imag)}_subComplex(e,r){return Re.mathjs2complex(Cr(e.toMathJs(),r.toMathJs()))}_subNumberComplex(e,r){return new Re(e-r.real,-r.imag)}_subComplexNumber(e,r){return new Re(e.real-r,e.imag)}_mulComplex(e,r){return Re.mathjs2complex(Mr(e.toMathJs(),r.toMathJs()))}_divComplex(e,r){return Re.mathjs2complex(Cf(e.toMathJs(),r.toMathJs()))}_mulNumberComplex(e,r){let n=r.clone();return n.mulReal(e),n}_mulComplexNumber(e,r){let n=e.clone();return n.mulReal(r),n}_powComplexComplex(e,r){return Re.mathjs2complex(ni(Re.complex2mathjs(e),Re.complex2mathjs(r)))}_powComplexNumber(e,r){return Re.mathjs2complex(ni(Re.complex2mathjs(e),r))}_powNumberComplex(e,r){return Re.mathjs2complex(ni(e,Re.complex2mathjs(r)))}_conjComplex(e){return new Re(e.real,-e.imag)}_complex(e,r){return new Re(e,r)}_extractComplexReal(e){return e.real}_extractComplexImag(e){return e.imag}_sqrtC_number(e){return e>=0?new Re(Math.sqrt(e),0):new Re(0,Math.sqrt(e))}_sqrtC_complex(e){return Re.mathjs2complex(ri(Re.complex2mathjs(e)))}_absComplex(e){return Math.sqrt(e.real*e.real+e.imag*e.imag)}};var fi=class{constructor(e){this.parent=null;this.parent=e}_equalBooleans(e,r){return e==r}_equalNumbers(e,r){return Math.abs(e-r)<=1e-9}_unequalBooleans(e,r){return e!=r}_unequalNumbers(e,r){return Math.abs(e-r)>1e-9}_add(e,r){return e+r}_unaryMinus(e){return-e}_unaryNot(e){return!e}_sub(e,r){return e-r}_mul(e,r){return e*r}_div(e,r){return e/r}_mod(e,r){return e%r}_pow(e,r){return Math.pow(e,r)}_randIntMax(e){return Math.floor(Math.random()*e)}_randIntMaxZ(e){let r=0;for(;r==0;)r=this._randIntMax(e);return r}_randIntMinMax(e,r){return Math.floor(Math.random()*(r+1-e)+e)}_randIntMinMaxZ(e,r){let n=0;for(;n==0;)n=this._randIntMinMax(e,r);return n}_sin(e){return Math.sin(e)}_cos(e){return Math.cos(e)}_tan(e){return Math.tan(e)}_asin(e){return Math.asin(e)}_acos(e){return Math.acos(e)}_atan(e){return Math.atan(e)}_exp(e){return Math.exp(e)}_sqrt(e,r){if(e<0)throw new Se(r,'parameter must be positive; otherwise use function "sqrtC"');return Math.sqrt(e)}_abs(e){return Math.abs(e)}_floor(e){return Math.floor(e)}_int2real(e){return e}_ceil(e){return Math.ceil(e)}_round(e){return Math.round(e)}_sign(e){return e==0?0:e<0?-1:1}_maxInt(e){return Math.max(...e)}_fac(e){let r=1;for(let n=1;n<=e;n++)r*=n;return r}_binomial(e,r){return hf(e,r)}};var ot=class extends Error{constructor(e){super(e),this.name="TermError"}},ue=class{constructor(e="",r=[]){this.op="";this.value="";this.o=[];this.op=e,this.o=r}static Op(e,r){let n=new ue;return n.op=e,n.o=r,n}static Const(e){let r=new ue;return r.op="#",r.value=e,r}static Imaginary(e){let r=new ue;return r.op="#i",r.value=e,r}static Var(e){let r=new ue;return r.op="$",r.value=e,r}clone(){let e=new ue;e.op=this.op,e.value=this.value;for(let r of this.o)e.o.push(r.clone());return e}eval(e={}){let r;switch(this.op){case"+":r=0;for(let n of this.o)r+=n.eval(e);break;case"*":r=1;for(let n of this.o)r*=n.eval(e);break;case"-":r=0;for(let n of this.o)r-=n.eval(e);break;case".-":r=-this.o[0].eval(e);break;case"^":r=Math.pow(this.o[0].eval(e),this.o[1].eval(e));break;case"#":r=this.value;break;case"sin":r=Math.sin(this.o[0].eval(e));break;case"cos":r=Math.cos(this.o[0].eval(e));break;case"tan":r=Math.tan(this.o[0].eval(e));break;case"asin":r=Math.asin(this.o[0].eval(e));break;case"atan":r=Math.atan(this.o[0].eval(e));break;case"exp":r=Math.exp(this.o[0].eval(e));break;case"$":if(this.value in e)return e[this.value];throw new ot('eval(..): unset variable "'+this.value+'"');default:throw new ot('eval(..): unimplemented operator "'+this.op+'"')}return r}diff(e){let r=null,n,i;switch(this.op){case"+":r=ue.Op("+",[]);for(let o of this.o)r.o.push(o.diff(e));break;case".-":r=ue.Op(".-",[this.o[0].diff(e)]);break;case"-":if(this.o.length>2)throw new ot('diff(..): non-binary "-" operator is unimplemented');r=ue.Op("-",[this.o[0].diff(e),this.o[1].diff(e)]);break;case"*":n=this.o[0],i=this.o.length==2?this.o[1]:ue.Op("*",this.o.slice(1)),r=ue.Op("+",[ue.Op("*",[n.diff(e),i.clone()]),ue.Op("*",[n.clone(),i.diff(e)])]);break;case"/":if(this.o.length>2)throw new ot('diff(..): non-binary "/" operator is unimplemented');r=ue.Op("/",[ue.Op("-",[ue.Op("*",[this.o[0].diff(e),this.o[1].clone()]),ue.Op("*",[this.o[0].clone(),this.o[1].diff(e)])]),ue.Op("^",[this.o[1].clone(),ue.Const(2)])]);break;case"^":if(this.o[1].op!=="#")throw new ot("diff(..): u^v: operator ^ only implemented for constant v");r=ue.Op("*",[this.o[0].diff(e),this.o[1].clone(),ue.Op("^",[this.o[0].clone(),ue.Const(this.o[1].value-1)])]);break;case"exp":r=ue.Op("*",[this.o[0].diff(e),ue.Op("exp",[this.o[0].clone()])]);break;case"sin":r=ue.Op("*",[this.o[0].diff(e),ue.Op("cos",[this.o[0].clone()])]);break;case"cos":r=ue.Op(".-",[ue.Op("*",[this.o[0].diff(e),ue.Op("cos",[this.o[0].clone()])])]);break;case"$":r=ue.Const(this.value===e?1:0);break;case"#":r=ue.Const(0);break;default:throw new ot('diff(..): unimplemented operator "'+this.op+'"')}return r}integrate(e,r,n,i=1e-12){let o=0;for(let f=r;f<=n;f+=i)o+=this.eval({varId:f});return o/i}optimize(){let e=this.clone();for(let r=0;r<e.o.length;r++)e.o[r]=e.o[r].optimize();if(this.op==="*"){for(let r of e.o)if(r.op==="#"&&r.value==0)return ue.Const(0)}try{let r=e.eval();return ue.Const(r)}catch{}return e}setVariableValue(e,r){this.op==="$"&&(this.op="#",this.value=r);for(let n of this.o)n.setVariableValue(e,r)}getVariableIDs(){let e=new Set;this.op==="$"&&e.add(this.value);for(let r of this.o)e=new Set([...e,...r.getVariableIDs()]);return e}toString(){let e="";switch(this.op){case"#":case"$":e=""+this.value;break;case"#i":this.value==1?e="i":e=""+this.value+"i";break;case".-":e+="-("+this.o[0].toString()+")";break;default:if(this.op.length>2){e+=this.op+"(";for(let r=0;r<this.o.length;r++)r>0&&(e+=","),e+=this.o[r].toString();e+=")"}else{e+="(";for(let r=0;r<this.o.length;r++)r>0&&(e+=this.op),e+=this.o[r].toString();e+=")"}break}return e}};var ci=class{constructor(e){this.parent=null;this.parent=e}var(e){return ue.Var(e)}_eval(e,r,n){let i=0;try{i=e.eval(r)}catch(o){throw new Se(n,o.message)}return i}_numberToTerm(e){return ue.Const(e)}_addTermReal(e,r){return ue.Op("+",[e,ue.Const(r)])}_addRealTerm(e,r){return ue.Op("+",[ue.Const(e),r])}_addTermTerm(e,r){return ue.Op("+",[e,r])}_subTermReal(e,r){return ue.Op("-",[e,ue.Const(r)])}_subRealTerm(e,r){return ue.Op("-",[ue.Const(e),r])}_subTermTerm(e,r){return ue.Op("-",[e,r])}_mulTermReal(e,r){return ue.Op("*",[e,ue.Const(r)])}_mulRealTerm(e,r){return ue.Op("*",[ue.Const(e),r])}_mulTermTerm(e,r){return ue.Op("*",[e,r])}_divTermReal(e,r){return ue.Op("/",[e,ue.Const(r)])}_divRealTerm(e,r){return ue.Op("/",[ue.Const(e),r])}_divTermTerm(e,r){return ue.Op("/",[e,r])}_unaryMinusTerm(e){return ue.Op(".-",[e])}_powTermReal(e,r){return ue.Op("^",[e,ue.Const(r)])}_powRealTerm(e,r){return ue.Op("^",[ue.Const(e),r])}_powTermTerm(e,r){return ue.Op("^",[e,r])}_sinTerm(e){return ue.Op("sin",[e])}_cosTerm(e){return ue.Op("cos",[e])}_tanTerm(e){return ue.Op("tan",[e])}_expTerm(e){return ue.Op("exp",[e])}_diffTerm(e,r){return e.diff(r.toString())}_ode(e,r){return ue.Op("ode",[e,r])}};var li=class{constructor(e){this.parent=null;this.parent=e}_createIntSet(e){let r=new oi;for(let n of e)r.add(n);return r}_createRealSet(e){let r=new It;for(let n of e)r.add(n);return r}_createComplexSet(e){let r=new ai;for(let n of e)r.add(n);return r}_maxSetInt(e){return e.max()}_maxSetReal(e){return e.max()}_minSetInt(e){return e.min()}_minSetReal(e){return e.min()}_lenSet(e){return e.elements.length}_randIntSet(e){return e.elements[Math.floor(Math.random()*e.elements.length)]}};var Hf=xt(Jf()),Fa=class{constructor(e=0,r=0){this.x=0;this.y=0;this.x=e,this.y=r}},Na=class{constructor(){this.color=0;this.points=[]}toString(e=!1){let n="";for(let i of this.points)e?n+=i.x.toFixed(3)+" "+-i.y.toFixed(3)+" ":n+=i.x.toFixed(3)+" "+i.y.toFixed(3)+" ";return n}},Ba=class{constructor(e=0,r=0){this.color=0;this.x=0;this.y=0;this.x=e,this.y=r}},vi=class{constructor(){this.color=0;this.xLabel="x";this.yLabel="y";this.xRangeMin=-5;this.xRangeMax=5;this.yRangeMin=-5;this.yRangeMax=5;this.curves=[];this.points=[]}setColor(e){this.color=e}setRangeX(e,r){this.xRangeMin=e,this.xRangeMax=r}setRangeY(e,r){this.yRangeMin=e,this.yRangeMax=r}setLabelX(e){this.xLabel=e}setLabelY(e){this.yLabel=e}plotTerm(e){let n=(this.xRangeMax-this.xRangeMin)/30,i=new Na;this.curves.push(i),i.color=this.color;for(let o=this.xRangeMin;o<=this.xRangeMax;o+=n)i.points.push(new Fa(o,e.eval({x:o})))}plotPoint(e,r){let n=new Ba(e,r);this.points.push(n),n.color=this.color}toString(){let e="";for(let c of this.curves){let u=c.color*50%256;e+=`<polyline points="${c.toString(!0)}" fill="none" style="stroke: rgb(${u},${u},${u}); stroke-width: 0.05"/>
`}for(let c of this.points){let u=c.color*50%256,a=c.x.toFixed(3),s=-c.y.toFixed(3);e+=`<circle cx="${a}" cy="${s}" r="0.2" fill="none" style="stroke: rgb(${u},${u},${u}); stroke-width: 0.05"/>
`}let r=this.xRangeMin,n=this.yRangeMin,i=this.xRangeMax-this.xRangeMin,o=this.yRangeMax-this.yRangeMin,f=`
      <svg xmlns="http://www.w3.org/2000/svg"
          viewBox="${r} ${n} ${i} ${o}">
          ${e}
      </svg>
    `;return"data:image/svg+xml;base64,"+Hf.Buffer.from(f).toString("base64")}};var di=class{constructor(e){this.parent=null;this.parent=e}_create_figure2d(){return new vi}_figure_color(e,r){e.setColor(r)}_figure_x_range(e,r,n){e.setRangeX(r,n)}_figure_y_range(e,r,n){e.setRangeY(r,n)}_figure_x_label(e,r){e.setLabelX(r)}_figure_y_label(e,r){e.setLabelY(r)}_figure_plot_term(e,r){e.plotTerm(r)}_figure_plot_point(e,r,n){if(r.getSize()!=2)throw new Se(n,"expected a vector with 2 elements");e.plotPoint(r.getValue(0),r.getValue(1))}};var Se=class extends Error{constructor(e,r){super(""+e+":"+r),this.name="RunError"}},xi=class{constructor(){this.interpret_vector=null;this.interpret_matrix=null;this.interpret_complex=null;this.interpret_basic=null;this.interpret_term=null;this.interpret_set=null;this.interpret_plot=null;this.interpret_vector=new vn(this),this.interpret_matrix=new ui(this),this.interpret_complex=new si(this),this.interpret_basic=new fi(this),this.interpret_term=new ci(this),this.interpret_set=new li(this),this.interpret_plot=new di(this)}interpret(e,r){e+="return [";let n=0;for(let o of r)o.type.base!="TERM_VAR"&&(n>0&&(e+=", "),e+=o.id,n++);e+="];";let i=new Function("runtime",e);try{let o=i(this);for(let f=0;f<r.length;f++){let l=r[f];switch(l.type.base){case"BOOL":l.value=o[f];break;case"INT":case"REAL":l.value=o[f];break;case"COMPLEX":l.value=o[f];break;case"VECTOR":l.value=o[f];break;case"MATRIX":l.value=o[f];break;case"TERM":l.value=o[f];break;case"INT_SET":l.value=o[f];break;case"REAL_SET":l.value=o[f];break;case"COMPLEX_SET":l.value=o[f];break;case"FIGURE_2D":l.value=o[f];break;default:throw new Se("-1","interpret(..): unimplemented type "+l.type)}}}catch(o){throw new Se("-1","interpret(..) failed: "+o)}}};var Kf=xt(bi());var Wf=`

_equal(x:BOOL,y:BOOL):BOOL -> interpret_basic._equalBooleans;
_equal(x:INT,y:INT):BOOL -> interpret_basic._equalNumbers;
_equal(x:INT,y:REAL):BOOL -> interpret_basic._equalNumbers;
_equal(x:REAL,y:INT):BOOL -> interpret_basic._equalNumbers;
_equal(x:REAL,y:REAL):BOOL -> interpret_basic._equalNumbers;
_unequal(x:BOOL,y:BOOL):BOOL -> interpret_basic._unequalBooleans;
_unequal(x:INT,y:INT):BOOL -> interpret_basic._unequalNumbers;
_unequal(x:INT,y:REAL):BOOL -> interpret_basic._unequalNumbers;
_unequal(x:REAL,y:INT):BOOL -> interpret_basic._unequalNumbers;
_unequal(x:REAL,y:REAL):BOOL -> interpret_basic._unequalNumbers;
_add(x:INT,y:INT):INT -> interpret_basic._add;
_add(x:INT,y:REAL):REAL -> interpret_basic._add;
_add(x:REAL,y:INT):REAL -> interpret_basic._add;
_add(x:REAL,y:REAL):REAL -> interpret_basic._add;
_unaryMinus(x:INT):INT -> interpret_basic._unaryMinus;
_unaryMinus(x:REAL):REAL -> interpret_basic._unaryMinus;
_unaryNot(x:BOOL):BOOL -> interpret_basic._unaryNot;
_sub(x:INT,y:INT):INT -> interpret_basic._sub;
_sub(X:INT,y:REAL):REAL -> interpret_basic._sub;
_sub(x:REAL,y:INT):REAL -> interpret_basic._sub;
_sub(x:REAL,y:REAL):REAL -> interpret_basic._sub;
_mul(x:INT,y:INT):INT -> interpret_basic._mul;
_mul(x:INT,y:REAL):REAL -> interpret_basic._mul;
_mul(x:REAL,y:INT):REAL -> interpret_basic._mul;
_mul(x:REAL,y:REAL):REAL -> interpret_basic._mul;
_div(x:INT,y:INT):REAL -> interpret_basic._div;
_div(x:INT,y:REAL):REAL -> interpret_basic._div;
_div(x:REAL,y:INT):REAL -> interpret_basic._div;
_div(x:REAL,y:REAL):REAL -> interpret_basic._div;
_mod(x:INT,y:INT):INT -> interpret_basic._mod;
_pow(x:INT,y:INT):INT -> interpret_basic._pow;
_pow(x:INT,y:REAL):REAL -> interpret_basic._pow;
_pow(x:REAL,y:INT):REAL -> interpret_basic._pow;
_pow(x:REAL,y:REAL):REAL -> interpret_basic._pow;
rand(max:INT): INT -> interpret_basic._randIntMax;
rand(min:INT,max:INT): INT -> interpret_basic._randIntMinMax;
randZ(min:INT,max:INT): INT -> interpret_basic._randIntMinMaxZ;
sin(x:INT): REAL -> interpret_basic._sin;
sin(x:REAL): REAL -> interpret_basic._sin;
cos(x:INT): REAL -> interpret_basic._cos;
cos(x:REAL): REAL -> interpret_basic._cos;
tan(x:INT): REAL -> interpret_basic._tan;
tan(x:REAL): REAL -> interpret_basic._tan;
asin(x:INT): REAL -> interpret_basic._asin;
asin(x:REAL): REAL -> interpret_basic._asin;
acos(x:INT): REAL -> interpret_basic._acos;
acos(x:REAL): REAL -> interpret_basic._acos;
atan(x:INT): REAL -> interpret_basic._atan;
atan(x:REAL): REAL -> interpret_basic._atan;
exp(x:INT):REAL -> interpret_basic._exp;
exp(x:REAL):REAL -> interpret_basic._exp;
sqrt(x:INT): REAL -> interpret_basic._sqrt;
sqrt(x:REAL): REAL -> interpret_basic._sqrt;
abs(x:INT):INT -> interpret_basic._abs;
abs(x:REAL):REAL -> interpret_basic._abs;
floor(x:INT): INT -> interpret_basic._floor;
floor(x:REAL): INT -> interpret_basic._floor;
int(x:INT): INT -> interpret_basic._floor;
int(x:REAL): INT -> interpret_basic._floor;
real(x:INT): REAL -> interpret_basic._int2real;
ceil(x:INT): INT -> interpret_basic._ceil;
ceil(x:REAL): INT -> interpret_basic._ceil;
round(x:INT): INT -> interpret_basic._round;
round(x:REAL): INT -> interpret_basic._round;
sign(x:INT): INT -> interpret_basic._sign;
sign(x:REAL): INT -> interpret_basic._sign;
max(list:INT_LIST): INT -> interpret_basic._maxInt;
fac(x:INT): INT -> interpret_basic._fac;
binomial(n:INT,k:INT): INT -> interpret_basic._binomial;
set(elements:INT_LIST): SET_INT -> interpret_set._createIntSet;
set(elements:REAL_LIST): SET_REAL -> interpret_set._createRealSet;
set(elements:COMPLEX_LIST): SET_COMPLEX -> interpret_set._createComplexSet;
max(s:SET_INT): INT -> interpret_set._maxSetInt;
max(s:SET_REAL): REAL -> interpret_set._maxSetReal;
min(s:SET_INT): INT -> interpret_set._minSetInt;
min(s:SET_REAL): REAL -> interpret_set._minSetReal;
len(s:SET_INT): INT -> interpret_set._lenSet;
rand(s:SET_INT): INT -> interpret_set._randIntSet;
_unaryMinus(x:COMPLEX):COMPLEX -> interpret_complex._unaryMinusComplex;
_add(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._addComplex;
_add(x:INT, y:COMPLEX): COMPLEX -> interpret_complex._addNumberComplex;
_add(x:REAL, y:COMPLEX): COMPLEX -> interpret_complex._addNumberComplex;
_add(x:COMPLEX, y:INT): COMPLEX -> interpret_complex._addComplexNumber;
_add(x:COMPLEX, y:REAL): COMPLEX -> interpret_complex._addComplexNumber;
_sub(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._subComplex;
_sub(x:INT, y:COMPLEX): COMPLEX -> interpret_complex._subNumberComplex;
_sub(x:REAL, y:COMPLEX): COMPLEX -> interpret_complex._subNumberComplex;
_sub(x:COMPLEX, y:INT): COMPLEX -> interpret_complex._subComplexNumber;
_sub(x:COMPLEX, y:REAL): COMPLEX -> interpret_complex._subComplexNumber;
_mul(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._mulComplex;
_div(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._divComplex;
_mul(x:INT,y:COMPLEX):COMPLEX -> interpret_complex._mulNumberComplex;
_mul(x:REAL,y:COMPLEX):COMPLEX -> interpret_complex._mulNumberComplex;
_mul(x:COMPLEX,y:INT):COMPLEX -> interpret_complex._mulComplexNumber;
_mul(x:COMPLEX,y:REAL):COMPLEX -> interpret_complex._mulComplexNumber;
_pow(x:COMPLEX,y:COMPLEX):COMPLEX -> interpret_complex._powComplexComplex;
_pow(x:COMPLEX, y:INT):COMPLEX -> interpret_complex._powComplexNumber;
_pow(x:COMPLEX, y:REAL):COMPLEX -> interpret_complex._powComplexNumber;
_pow(x:INT,y:COMPLEX):COMPLEX -> interpret_complex._powNumberComplex;
_pow(x:REAL,y:COMPLEX):COMPLEX -> interpret_complex._powNumberComplex;
conj(x:COMPLEX):COMPLEX -> interpret_complex._conjComplex;
complex(x:INT,y:INT):COMPLEX -> interpret_complex._complex;
complex(x:INT,y:REAL):COMPLEX -> interpret_complex._complex;
complex(x:REAL,y:INT):COMPLEX -> interpret_complex._complex;
complex(x:REAL,y:REAL):COMPLEX -> interpret_complex._complex;
real(x:COMPLEX): REAL -> interpret_complex._extractComplexReal;
imag(x:COMPLEX): REAL -> interpret_complex._extractComplexImag;
sqrtC(x:INT): COMPLEX -> interpret_complex._sqrtC_number;
sqrtC(x:REAL): COMPLEX -> interpret_complex._sqrtC_number;
sqrtC(x:COMPLEX): COMPLEX -> interpret_complex._sqrtC_complex;
abs(x:COMPLEX): REAL -> interpret_complex._absComplex;
_add(x:VECTOR,y:VECTOR):VECTOR -> interpret_vector._addVectors;
_sub(x:VECTOR,y:VECTOR):VECTOR -> interpret_vector._subVectors;
_mul(x:INT,y:VECTOR):VECTOR -> interpret_vector._mulScalarVector;
_mul(x:REAL,y:VECTOR):VECTOR -> interpret_vector._mulScalarVector;
dot(x:VECTOR, y:VECTOR): REAL -> interpret_vector._dotVectors;
cross(x:VECTOR, y:VECTOR): VECTOR -> interpret_vector._crossVectors;
norm2(x:VECTOR): REAL -> interpret_vector._norm2vec;
zeros<size:INT>(): VECTOR -> interpret_vector._zerosVector;
rand<size:INT>(min:INT, max:INT): VECTOR -> interpret_vector._randVector;
randZ<size:INT>(min:INT, max:INT): VECTOR -> interpret_vector._randZVector;
is_zero(x:VECTOR): BOOL -> interpret_vector._isVectorZero;
_equal(x:MATRIX, y:MATRIX): BOOL -> interpret_matrix._equalMatrices;
_unequal(x:MATRIX, y:MATRIX): BOOL -> interpret_matrix._unequalMatrices;
eye(n:INT): MATRIX -> interpret_matrix._eye;
_add(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._addMatrices;
_sub(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._subMatrices;
_mul(x:INT,y:MATRIX):MATRIX -> interpret_matrix._mulScalarMatrix;
_mul(x:REAL,y:MATRIX):MATRIX -> interpret_matrix._mulScalarMatrix;
_mul(x: MATRIX, y: INT): MATRIX -> interpret_matrix._mulMatrixScalar;
_mul(x: MATRIX, y: REAL): MATRIX -> interpret_matrix._mulMatrixScalar;
_mul(x:MATRIX,y:MATRIX):MATRIX -> interpret_matrix._mulMatrices;
rand<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> interpret_matrix._randMatrix;
randZ<rows:INT,columns:INT>(min:INT,max:INT): MATRIX -> interpret_matrix._randZMatrix;
det(x:MATRIX): REAL -> interpret_matrix._det;
min(x:MATRIX): REAL -> interpret_matrix._minMatrix;
max(x:MATRIX): REAL -> interpret_matrix._maxMatrix;
zeros<rows:INT,columns:INT>(): MATRIX -> interpret_matrix._zeros;
ones<rows:INT,columns:INT>(): MATRIX -> interpret_matrix._ones;
floor(x:MATRIX): MATRIX -> interpret_matrix._floorMatrix;
ceil(x:MATRIX): MATRIX -> interpret_matrix._ceilMatrix;
round(x:MATRIX): MATRIX -> interpret_matrix._roundMatrix;
transpose(x:MATRIX): MATRIX -> interpret_matrix._transposeMatrix;
triu(x:MATRIX): MATRIX -> interpret_matrix._triu;
linsolve(A:MATRIX,b:VECTOR): VECTOR -> interpret_matrix._linsolve;
matrix(v:VECTOR_LIST): MATRIX -> interpret_matrix._matrixFromVectors;
rank(A:MATRIX): INT -> interpret_matrix._rank;
is_zero(x:MATRIX): BOOL -> interpret_matrix._isMatrixZero;
is_symmetric(x:MATRIX): BOOL -> interpret_matrix._isMatrixSymmetric;
is_invertible(x:MATRIX): BOOL -> interpret_matrix._isMatrixInvertible;
inv(x:MATRIX): MATRIX -> interpret_matrix._invMatrix;
_mod(x:MATRIX,y:INT):MATRIX -> interpret_matrix._modMatrix;
column(x:MATRIX, c:INT): VECTOR -> interpret_matrix._matrixColumn;
row(x:MATRIX, r:INT): VECTOR -> interpret_matrix._matrixRow;
eigenvalues_sym(x:MATRIX): SET_REAL -> interpret_matrix._eigenvaluesSym;
_numberToTerm(x:INT):TERM -> interpret_term._numberToTerm;
_add(x:TERM,y:INT):TERM -> interpret_term._addTermReal;
_add(x:TERM,y:REAL):TERM -> interpret_term._addTermReal;
_add(x:INT,y:TERM):TERM -> interpret_term._addRealTerm;
_add(x:REAL,y:TERM):TERM -> interpret_term._addRealTerm;
_add(x:TERM,y:TERM):TERM -> interpret_term._addTermTerm;
_sub(x:TERM,y:INT):TERM -> interpret_term._subTermReal;
_sub(x:TERM,y:REAL):TERM -> interpret_term._subTermReal;
_sub(x:INT,y:TERM):TERM -> interpret_term._subRealTerm;
_sub(x:REAL,y:TERM):TERM -> interpret_term._subRealTerm;
_sub(x:TERM,y:TERM):TERM -> interpret_term._subTermTerm;
_mul(x:TERM,y:INT):TERM -> interpret_term._mulTermReal;
_mul(x:TERM,y:REAL):TERM -> interpret_term._mulTermReal;
_mul(x:INT,y:TERM):TERM -> interpret_term._mulRealTerm;
_mul(x:REAL,y:TERM):TERM -> interpret_term._mulRealTerm;
_mul(x:TERM,y:TERM):TERM -> interpret_term._mulTermTerm;
_div(x:TERM,y:INT):TERM -> interpret_term._divTermReal;
_div(x:TERM,y:REAL):TERM -> interpret_term._divTermReal;
_div(x:INT,y:TERM):TERM -> interpret_term._divRealTerm;
_div(x:REAL,y:TERM):TERM -> interpret_term._divRealTerm;
_div(x:TERM,y:TERM):TERM -> interpret_term._divTermTerm;
_unaryMinus(x:TERM):TERM -> interpret_term._unaryMinusTerm;
_pow(x:TERM,y:INT):TERM -> interpret_term._powTermReal;
_pow(x:TERM,y:REAL):TERM -> interpret_term._powTermReal;
_pow(x:INT,y:TERM):TERM -> interpret_term._powRealTerm;
_pow(x:REAL,y:TERM):TERM -> interpret_term._powRealTerm;
_pow(x:TERM,y:TERM):TERM -> interpret_term._powTermTerm;
sin(x:TERM): TERM -> interpret_term._sinTerm;
cos(x:TERM): TERM -> interpret_term._cosTerm;
tan(x:TERM): TERM -> interpret_term._tanTerm;
exp(x:TERM): TERM -> interpret_term._expTerm;
diff(x:TERM, varId:TERM): TERM -> interpret_term._diffTerm;
ode(lhs:TERM,rhs:TERM): TERM -> interpret_term._ode;
figure2d(): FIGURE_2D -> interpret_plot._create_figure2d;
figure_color(fig:FIGURE_2D,color_key:INT):VOID -> interpret_plot._figure_color;
figure_x_range(fig:FIGURE_2D,min:INT,max:INT):VOID -> interpret_plot._figure_x_range;
figure_x_range(fig:FIGURE_2D,min:INT,max:REAL):VOID -> interpret_plot._figure_x_range;
figure_x_range(fig:FIGURE_2D,min:REAL,max:INT):VOID -> interpret_plot._figure_x_range;
figure_x_range(fig:FIGURE_2D,min:REAL,max:REAL):VOID -> interpret_plot._figure_x_range;
figure_y_range(fig:FIGURE_2D,min:INT,max:INT):VOID -> interpret_plot._figure_y_range;
figure_y_range(fig:FIGURE_2D,min:INT,max:REAL):VOID -> interpret_plot._figure_y_range;
figure_y_range(fig:FIGURE_2D,min:REAL,max:INT):VOID -> interpret_plot._figure_y_range;
figure_y_range(fig:FIGURE_2D,min:INT,max:INT):VOID -> interpret_plot._figure_y_range;
figure_x_label(fig:FIGURE_2D,label:STRING):VOID -> interpret_plot._figure_x_label;
figure_y_label(fig:FIGURE_2D,label:STRING):VOID -> interpret_plot._figure_y_label;
figure_plot(fig:FIGURE_2D,term:TERM):VOID -> interpret_plot._figure_plot_term;
figure_plot(fig:FIGURE_2D,point2d:VECTOR):VOID -> interpret_plot._figure_plot_point;

`;var gi=class{constructor(){this.lexer=null;this.symTab=[];this.loopLevel=0;this.scope=0}getSymbol(e){for(let r of this.symTab)if(r.id===e)return r;return null}removeSymTabEntry(e){let r=[];for(let n of this.symTab)n!==e&&r.push(n);this.symTab=r}getLocalSymbols(){let e=[];for(let r of this.symTab)if(r.kind==="LOCAL"){if(r.type.base==="TERM_VAR")continue;e.push(r)}return e}parse(e){return this.loopLevel=0,this.scope=0,this.symTab=Za(Wf),this.lexer=new Kf.Lexer,this.lexer.configureSingleLineComments("%"),this.lexer.configureMultiLineComments("/*","*/"),this.lexer.enableEmitNewlines(!1),this.lexer.enableEmitIndentation(!1),this.lexer.enableBackslashLineBreaks(!1),this.lexer.pushSource("FILE",e),this.lexer.setTerminals(["&&","||","==","!=",">=","<=","++","--"]),this.parseProgram().str}parseProgram(){let e=new cr;for(;this.lexer.isNotEND();){let r=this.parseStatement();e.str+=r.str}return e}parseStatement(){if(this.lexer.isTER("let"))return this.parseDeclaration();if(this.lexer.isTER("if"))return this.parseIf();if(this.lexer.isTER("do"))return this.parseDo();if(this.lexer.isTER("while"))return this.parseWhile();if(this.lexer.isTER("function"))return this.parseFunction();if(this.lexer.isTER("return"))return this.parseReturn();if(this.lexer.isTER("break"))return this.parseBreak();if(this.lexer.isTER("continue"))return this.parseContinue();{let e=this.parseExpression();return this.lexer.EOS(),new cr(e.code.str+";")}}parseDeclaration(){let e=new cr;this.lexer.TER("let");let r=[];if(r.push(this.lexer.ID()),this.lexer.isTER("(")){let n=r[0];this.lexer.next();let i=[];for(i.push(this.lexer.ID());this.lexer.isTER(",");)this.lexer.next(),i.push(this.lexer.ID());for(let c of i){let u=new fr("TERM_VAR"),a=new Lr(c,"LOCAL",u,this.scope,[]);this.symTab.push(a)}this.lexer.TER(")"),this.lexer.TER("=");let o=this.parseExpression();if(o.type.base!=="TERM")switch(o.type.base){case"INT":case"REAL":o.code.str="runtime.interpret_term._numberToTerm("+o.code.str+")",o.type.base="TERM";break;default:this.lexer.error("right-hand side is not a term")}e.str+="let "+n+" = "+o.code.str+";";for(let c=0;c<i.length;c++)this.symTab.pop();let f=[];for(let c of i)f.push(new Lr(c,"PARAMETER",new fr("TERM_VAR"),this.scope+1,[]));let l=new Lr(n,"LOCAL",new fr("TERM"),this.scope,f);this.symTab.push(l),this.lexer.EOS()}else{let n=!1;for(;this.lexer.isTER(":")||this.lexer.isTER("/");)this.lexer.isTER("/")&&(n=!0),this.lexer.isTER(":")&&n==!0&&this.lexer.error('cannot mix ":" and "/"'),this.lexer.next(),r.push(this.lexer.ID());this.lexer.TER("=");let i=this.parseExpression();for(let o of r){let f=new Lr(o,"LOCAL",i.type,this.scope,[]);this.symTab.push(f)}if(n){i.type.base!=="INT"&&i.type.base!=="MATRIX"&&this.lexer.error('declaration operator "/" is unimplemented for type '+i.type.base),e.str+="let ";for(let o=0;o<r.length;o++){let f=r[o];o>0&&(e.str+=", "),e.str+=f}e.str+=`;
`;for(let o=0;o<r.length;o++){let f=r[o];if(o==0)e.str+=f+" = "+i.code.str+`;
`;else{e.str+="do { "+f+" = "+i.code.str+"; } while (";let l="";for(let c=0;c<o;c++)l.length>0&&(l+=" || "),i.type.base==="INT"?l+=f+" == "+r[c]:l+="runtime.interpret_matrix._equalMatrices("+f+","+r[c]+")";e.str+=l,e.str+=`);
`}}}else for(let o of r)e.str+="let "+o+" = "+i.code.str+";";this.lexer.EOS()}return e}parseExpression(){let e=this.parseOr();for(;this.lexer.isTER("=");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseOr();e.code.tmp.includes("setElement")?(n.type.base!=="INT"&&n.type.base!=="REAL"&&this.lexer.error("element must be of type INT or REAL."),e.code.str=e.code.tmp.replace("\xA7RHS\xA7",n.code.str),e.type.base="VOID"):(e.type.base==="INT"||e.type.base==="REAL")&&(n.type.base==="INT"||n.type.base==="REAL")?(e.type.base="INT",e.code.str=e.code.str+" "+r+" "+n.code.str):e.type.base==="VECTOR"&&n.type.base==="VECTOR"?(e.type.base="VECTOR",e.code.str=e.code.str+" "+r+" runtime.interpret_vector._clone("+n.code.str+")"):e.type.base==="MATRIX"&&n.type.base==="MATRIX"?(e.type.base="MATRIX",e.code.str=e.code.str+" "+r+" runtime.interpret_matrix._clone("+n.code.str+")"):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseOr(){let e=this.parseAnd();for(;this.lexer.isTER("||");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseAnd();e.type.base=="BOOL"&&n.type.base=="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+r+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseAnd(){let e=this.parseEqual();for(;this.lexer.isTER("&&");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseEqual();e.type.base==="BOOL"&&n.type.base==="BOOL"?(e.type.base="BOOL",e.code.str=e.code.str+" "+r+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseEqual(){let e=this.parseRelational();if(this.lexer.isTER("==")||this.lexer.isTER("!=")){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseRelational();e=this.call(this.getSymbol(r==="=="?"_equal":"_unequal"),[],[e,n])}return e}parseRelational(){let e=this.parseAdd();if(this.lexer.isTER("<=")||this.lexer.isTER(">=")||this.lexer.isTER("<")||this.lexer.isTER(">")){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseAdd();(e.type.base==="INT"||e.type.base==="REAL")&&(n.type.base==="INT"||n.type.base==="REAL")?(e.type.base="BOOL",e.code.str=e.code.str+" "+r+" "+n.code.str):this.lexer.errorTypesInBinaryOperation(r,e.type.base,n.type.base)}return e}parseAdd(){let e=this.parseMul();for(;this.lexer.isTER("+")||this.lexer.isTER("-");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parseMul();e=this.call(this.getSymbol(r==="+"?"_add":"_sub"),[],[e,n])}return e}parseMul(){let e=this.parsePow();for(;this.lexer.isTER("*")||this.lexer.isTER("/")||this.lexer.isTER("mod");){let r=this.lexer.getToken().token;this.lexer.next();let n=this.parsePow();e=this.call(this.getSymbol(r==="*"?"_mul":r==="/"?"_div":"_mod"),[],[e,n])}return e}parsePow(){let e=this.parseUnary();if(this.lexer.isTER("^")){this.lexer.next();let r=this.parseUnary();e=this.call(this.getSymbol("_pow"),[],[e,r])}return e}parseUnary(){let e=this.parseUnaryExpression();return e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isNotTER("(")&&this.lexer.isNotTER("<")&&this.lexer.errorExpected(["(","<"]),(this.lexer.isTER("++")||this.lexer.isTER("--")||e.sym!=null&&e.sym.kind==="FUNCTION"&&this.lexer.isTER("<")||this.lexer.isTER("(")||this.lexer.isTER("["))&&(e=this.parseUnaryPostfix(e)),e}parseUnaryExpression(){let e=new Zt;if(this.lexer.isTER("PI"))e.code.str=" Math.PI ",e.type.base="REAL",this.lexer.next();else if(this.lexer.isTER("true"))e.code.str=" true ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isTER("false"))e.code.str=" false ",e.type.base="BOOL",this.lexer.next();else if(this.lexer.isINT()){let r=this.lexer.INT();e.code.str=" "+r+" ",e.type.base="INT",this.lexer.isTER("i")&&(this.lexer.next(),e.code.str="runtime.interpret_complex._create(0,"+r+")",e.type.base="COMPLEX")}else if(this.lexer.isREAL()){let r=this.lexer.REAL();e.code.str=" "+r+" ",e.type.base="REAL",this.lexer.isTER("i")&&(this.lexer.next(),e.code.str="runtime.interpret_complex._create(0,"+r+")",e.type.base="COMPLEX")}else if(this.lexer.isTER("(")){this.lexer.next();let r=this.parseExpression();this.lexer.TER(")"),e.code.str=" ( "+r.code.str+" ) ",e.type=r.type}else if(this.lexer.isTER("["))if(this.lexer.next(),this.lexer.isTER("[")){let r=0,n=-1,i=-1,o=[];for(;this.lexer.isNotTER("]");){r>0&&this.lexer.TER(",");let c=this.parseMatrixRow();r==0?i=c.length:i!=c.length&&this.lexer.error("inconsistent number of matrix columns");for(let u of c)o.push(u);r++}n=r,this.lexer.TER("]");let f="[",l=0;for(let c of o)l>0&&(f+=", "),f+=c.code.str,l++;f+="]",e.code.str="runtime.interpret_matrix._create("+n+", "+i+", "+f+")",e.type.base="MATRIX"}else{let r=0,n=0,i=[];for(;this.lexer.isNotTER("]");){r>0&&this.lexer.TER(",");let l=this.parseExpression();l.type.base!=="INT"&&l.type.base!=="REAL"&&this.lexer.error("matrix element must be of type INT or REAL."),i.push(l),n++,r++}this.lexer.TER("]");let o="[",f=0;for(let l of i)f>0&&(o+=", "),o+=l.code.str,f++;o+="]",e.code.str="runtime.interpret_vector._create("+n+", "+o+")",e.type.base="VECTOR"}else if(this.lexer.isID()){let r=this.lexer.ID();e.sym=this.getSymbol(r),e.sym==null&&this.lexer.errorUnknownSymbol(r),e.sym.type.base==="TERM_VAR"?(e.type=new fr("TERM"),e.code.str='runtime.interpret_term.var("'+r+'")'):(e.type=e.sym.type.clone(),e.code.str=" "+r)}else if(this.lexer.isTER("-")){this.lexer.next();let r=this.parseUnary();e=this.call(this.getSymbol("_unaryMinus"),[],[r])}else if(this.lexer.isTER("!")){this.lexer.next();let r=this.parseUnary();e=this.call(this.getSymbol("_unaryNot"),[],[r])}else if(this.lexer.isSTR()){let r=this.lexer.STR();e.code.str=' "'+r+'" ',e.type.base="STRING"}else this.lexer.errorExpected(["INT","IMAG","REAL","(","ID","STRING"]);return e}parseMatrixRow(){this.lexer.TER("[");let e=0,r=[];for(;this.lexer.isNotTER("]");){e>0&&this.lexer.TER(",");let n=this.parseExpression();n.type.base!=="INT"&&n.type.base!=="REAL"&&this.lexer.error("matrix element must be of type INT or REAL."),r.push(n),e++}return this.lexer.TER("]"),r}parseUnaryPostfix(e){if(this.lexer.isTER("++"))this.lexer.next(),e.code.str+=" ++ ";else if(this.lexer.isTER("--"))this.lexer.next(),e.code.str+=" -- ";else if(this.lexer.isTER("<")||this.lexer.isTER("(")){let r=[],n=[];if(this.lexer.isTER("<")){this.lexer.next();let i=0;for(;this.lexer.isNotTER(">");)i>0&&this.lexer.TER(","),r.push(this.parseUnary()),i++;this.lexer.TER(">")}if(this.lexer.TER("("),e.sym==null&&this.lexer.errorNotAFunction(),e.sym.kind=="FUNCTION"||e.sym.kind=="LOCAL"&&e.sym.type.base==="TERM"){let i=0;for(;this.lexer.isNotTER(")");)i>0&&this.lexer.TER(","),n.push(this.parseExpression()),i++;this.lexer.TER(")")}else this.lexer.errorNotAFunction();if(e.sym.kind=="FUNCTION")e=this.call(e.sym,r,n);else{e.sym.subSymbols.length!=n.length&&this.lexer.error("invalid parameters for function "+e.sym.id);let i="{";for(let o=0;o<n.length;o++)n[o].type.base!=="INT"&&n[o].type.base!=="REAL"&&this.lexer.error("parameters for function must be of type INT or REAL."),o>0&&(i+=", "),i+=e.sym.subSymbols[o].id+": "+n[o].code.str;i+="}",e.code.str="runtime.interpret_term._eval("+e.sym.id+", "+i+", "+this.getTokenPosStr()+")",e.type=new fr("REAL")}}else if(this.lexer.isTER("[")){this.lexer.next();let r=[],n=0;for(;this.lexer.isNotTER("]");)n>0&&this.lexer.TER(","),r.push(this.parseExpression()),n++;if(this.lexer.TER("]"),e.type.base==="VECTOR")r.length!=1&&this.lexer.error("expected one index"),r[0].type.base!=="INT"&&this.lexer.error("index is not of type integer"),e.type.base="REAL",e.code.str="runtime.interpret_vector._getElement("+e.sym.id+", "+r[0].code.str+", "+this.getTokenPosStr()+")",e.code.tmp="runtime.interpret_vector._setElement("+e.sym.id+", "+r[0].code.str+", \xA7RHS\xA7, "+this.getTokenPosStr()+")";else if(e.type.base==="MATRIX"){r.length!=2&&this.lexer.error("expected two indices");for(let i=0;i<r.length;i++)r[i].type.base!=="INT"&&this.lexer.error("index "+(i+1)+" is not of type integer");e.type.base="REAL",e.code.str="runtime.interpret_matrix._getElement("+e.sym.id+", "+r[0].code.str+", "+r[1].code.str+", "+this.getTokenPosStr()+")",e.code.tmp="runtime.interpret_matrix._setElement("+e.sym.id+", "+r[0].code.str+", "+r[1].code.str+", \xA7RHS\xA7, "+this.getTokenPosStr()+")"}else this.lexer.error("can only index a matrix or a vector")}else this.lexer.errorExpected(["++","--","(","["]);return e}call(e,r,n){let i=new Zt;i.sym=e,i.type=e.type.clone();let o=e;for(;o!=null;){let f=[],l=[];for(let c of o.subSymbols)c.kind=="DIMENSION"?f.push(c):c.kind==="PARAMETER"&&l.push(c);if(f.length==r.length&&l.length==n.length||l.length==1&&(l[0].type.base=="INT_LIST"||l[0].type.base=="REAL_LIST"||l[0].type.base=="COMPLEX_LIST"||l[0].type.base=="VECTOR_LIST")){let c=l.length==1&&l[0].type.base=="INT_LIST",u=l.length==1&&l[0].type.base=="REAL_LIST",a=l.length==1&&l[0].type.base=="COMPLEX_LIST",s=l.length==1&&l[0].type.base=="VECTOR_LIST",p=!0;for(let h=0;h<f.length;h++)if(f[h].type.base!==r[h].type.base){p=!1;break}if(c||u||a||s){for(let h=0;h<n.length;h++)if(c&&n[h].type.base!="INT"||u&&n[h].type.base!="REAL"||a&&n[h].type.base!="COMPLEX"||s&&n[h].type.base!="VECTOR"){p=!1;break}}else for(let h=0;h<l.length;h++)if(l[h].type.base!==n[h].type.base){p=!1;break}if(p){i.type=o.type.clone(),i.code.str="runtime."+o.runtimeId+"(";let h=0;for(let v=0;v<f.length;v++)h>0&&(i.code.str+=", "),i.code.str+=r[v].code.str,h++;if(c||u||a||s){h>0&&(i.code.str+=", "),i.code.str+="[";for(let v=0;v<n.length;v++)v>0&&(i.code.str+=","),i.code.str+=n[v].code.str;i.code.str+="]",h++}else for(let v=0;v<l.length;v++)h>0&&(i.code.str+=", "),i.code.str+=n[v].code.str,h++;h>0&&(i.code.str+=", "),i.code.str+=this.getTokenPosStr(),h++,i.code.str+=")",i.sym=null;break}}o=o.functionOverloadSuccessor}if(o==null){let f="";for(let l of n)f.length>0&&(f+=", "),f+=l.type.toString();this.lexer.error('no matching function prototype for calling "'+i.sym.id+'" with types ('+f+")")}return i}parseIf(){let e=new cr;this.lexer.TER("if"),this.lexer.TER("(");let r=this.parseExpression();r.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),e.str="if ("+r.code.str+")";let n=this.parseBlock();if(e.str+=n.str,this.lexer.isTER("else")){this.lexer.next(),e.str+=" else ";let i=this.parseBlock();e.str+=i.str}return e}parseBlock(){let e=new cr;if(this.lexer.isTER("{")){for(this.lexer.next(),e.str+="{";this.lexer.isNotTER("}");)e.str+=this.parseStatement().str;return this.lexer.TER("}"),e.str+="}",e}else return this.parseStatement()}parseDo(){this.lexer.TER("do"),this.loopLevel++;let e=this.parseBlock();this.loopLevel--,this.lexer.TER("while"),this.lexer.TER("(");let r=this.parseExpression();return r.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.lexer.EOS(),new cr(" do "+e.str+" while( "+r.code.str+" ); ")}parseWhile(){this.lexer.TER("while"),this.lexer.TER("(");let e=this.parseExpression();e.type.base!=="BOOL"&&this.lexer.errorConditionNotBoolean(),this.lexer.TER(")"),this.loopLevel++;let r=this.parseBlock();return this.loopLevel--,new cr(" while( "+e.code.str+" ) "+r.str)}parseFunction(){this.lexer.TER("function");let e=this.lexer.ID();this.lexer.TER("(");let r=0;for(;this.lexer.isNotTER(")");){r>0&&this.lexer.TER(",");let i=this.lexer.ID();r++}return this.lexer.TER(")"),this.parseBlock()}parseReturn(){if(this.lexer.TER("return"),this.lexer.isEOS()==!1){let e=this.parseExpression();return this.lexer.EOS(),new cr(" return "+e.code)}else return this.lexer.EOS(),new cr(" return ")}parseBreak(){return this.lexer.TER("break"),this.loopLevel==0&&this.lexer.error("break not allowed outside loop"),this.lexer.EOS(),new cr(" break ")}parseContinue(){return this.lexer.TER("continue"),this.loopLevel==0&&this.lexer.error("continue not allowed outside loop"),this.lexer.EOS(),new cr(" continue ")}getTokenPosStr(){return"'"+this.lexer.getToken().row+":"+this.lexer.getToken().col+"'"}};var yi="";function Sh(t,e=!1){let r=new gi;yi=r.parse(t);let n=r.getLocalSymbols();return e&&console.log(yi),new xi().interpret(yi,n),n}return Bc(Fh);})();
/*!
 *  decimal.js v10.4.1
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
